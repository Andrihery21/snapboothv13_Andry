function b1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function S1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ym={exports:{}},Ja={},vm={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Symbol.for("react.element"),k1=Symbol.for("react.portal"),E1=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),T1=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),P1=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),R1=Symbol.for("react.memo"),A1=Symbol.for("react.lazy"),Sf=Symbol.iterator;function O1(e){return e===null||typeof e!="object"?null:(e=Sf&&e[Sf]||e["@@iterator"],typeof e=="function"?e:null)}var wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,_m={};function $s(e,t,n){this.props=e,this.context=t,this.refs=_m,this.updater=n||wm}$s.prototype.isReactComponent={};$s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bm(){}bm.prototype=$s.prototype;function Jc(e,t,n){this.props=e,this.context=t,this.refs=_m,this.updater=n||wm}var Gc=Jc.prototype=new bm;Gc.constructor=Jc;xm(Gc,$s.prototype);Gc.isPureReactComponent=!0;var kf=Array.isArray,Sm=Object.prototype.hasOwnProperty,qc={current:null},km={key:!0,ref:!0,__self:!0,__source:!0};function Em(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Sm.call(t,r)&&!km.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:to,type:e,key:i,ref:o,props:s,_owner:qc.current}}function M1(e,t){return{$$typeof:to,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kc(e){return typeof e=="object"&&e!==null&&e.$$typeof===to}function L1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ef=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?L1(""+e.key):t.toString(36)}function Go(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case to:case k1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Nl(o,0):r,kf(s)?(n="",e!=null&&(n=e.replace(Ef,"$&/")+"/"),Go(s,t,n,"",function(c){return c})):s!=null&&(Kc(s)&&(s=M1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ef,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",kf(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Nl(i,a);o+=Go(i,t,n,l,s)}else if(l=O1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Nl(i,a++),o+=Go(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wo(e,t,n){if(e==null)return e;var r=[],s=0;return Go(e,r,"","",function(i){return t.call(n,i,s++)}),r}function D1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},qo={transition:null},U1={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:qo,ReactCurrentOwner:qc};function Cm(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:wo,forEach:function(e,t,n){wo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wo(e,function(){t++}),t},toArray:function(e){return wo(e,function(t){return t})||[]},only:function(e){if(!Kc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=$s;X.Fragment=E1;X.Profiler=T1;X.PureComponent=Jc;X.StrictMode=C1;X.Suspense=I1;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1;X.act=Cm;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Sm.call(t,l)&&!km.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:to,type:e.type,key:s,ref:i,props:r,_owner:o}};X.createContext=function(e){return e={$$typeof:P1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j1,_context:e},e.Consumer=e};X.createElement=Em;X.createFactory=function(e){var t=Em.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:N1,render:e}};X.isValidElement=Kc;X.lazy=function(e){return{$$typeof:A1,_payload:{_status:-1,_result:e},_init:D1}};X.memo=function(e,t){return{$$typeof:R1,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=qo.transition;qo.transition={};try{e()}finally{qo.transition=t}};X.unstable_act=Cm;X.useCallback=function(e,t){return rt.current.useCallback(e,t)};X.useContext=function(e){return rt.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};X.useEffect=function(e,t){return rt.current.useEffect(e,t)};X.useId=function(){return rt.current.useId()};X.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return rt.current.useMemo(e,t)};X.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};X.useRef=function(e){return rt.current.useRef(e)};X.useState=function(e){return rt.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return rt.current.useTransition()};X.version="18.3.1";vm.exports=X;var j=vm.exports;const ye=Wc(j),$1=b1({__proto__:null,default:ye},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1=j,z1=Symbol.for("react.element"),V1=Symbol.for("react.fragment"),B1=Object.prototype.hasOwnProperty,H1=F1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W1={key:!0,ref:!0,__self:!0,__source:!0};function Tm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)B1.call(t,r)&&!W1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:z1,type:e,key:i,ref:o,props:s,_owner:H1.current}}Ja.Fragment=V1;Ja.jsx=Tm;Ja.jsxs=Tm;ym.exports=Ja;var g=ym.exports,jm={exports:{}},Et={},Pm={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,A){var M=L.length;L.push(A);e:for(;0<M;){var B=M-1>>>1,z=L[B];if(0<s(z,A))L[B]=A,L[M]=z,M=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var A=L[0],M=L.pop();if(M!==A){L[0]=M;e:for(var B=0,z=L.length,$=z>>>1;B<$;){var V=2*(B+1)-1,F=L[V],J=V+1,ee=L[J];if(0>s(F,M))J<z&&0>s(ee,F)?(L[B]=ee,L[J]=M,B=J):(L[B]=F,L[V]=M,B=V);else if(J<z&&0>s(ee,M))L[B]=ee,L[J]=M,B=J;else break e}}return A}function s(L,A){var M=L.sortIndex-A.sortIndex;return M!==0?M:L.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=L)r(c),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(c)}}function _(L){if(v=!1,m(L),!p)if(n(l)!==null)p=!0,E(T);else{var A=n(c);A!==null&&S(_,A.startTime-L)}}function T(L,A){p=!1,v&&(v=!1,y(b),b=-1),h=!0;var M=f;try{for(m(A),d=n(l);d!==null&&(!(d.expirationTime>A)||L&&!R());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var z=B(d.expirationTime<=A);A=e.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),m(A)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var V=n(c);V!==null&&S(_,V.startTime-A),$=!1}return $}finally{d=null,f=M,h=!1}}var C=!1,N=null,b=-1,k=5,P=-1;function R(){return!(e.unstable_now()-P<k)}function O(){if(N!==null){var L=e.unstable_now();P=L;var A=!0;try{A=N(!0,L)}finally{A?D():(C=!1,N=null)}}else C=!1}var D;if(typeof w=="function")D=function(){w(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,U=I.port2;I.port1.onmessage=O,D=function(){U.postMessage(null)}}else D=function(){x(O,0)};function E(L){N=L,C||(C=!0,D())}function S(L,A){b=x(function(){L(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,E(T))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var M=f;f=A;try{return L()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,A){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=f;f=L;try{return A()}finally{f=M}},e.unstable_scheduleCallback=function(L,A,M){var B=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=M+z,L={id:u++,callback:A,priorityLevel:L,startTime:M,expirationTime:z,sortIndex:-1},M>B?(L.sortIndex=M,t(c,L),n(l)===null&&L===n(c)&&(v?(y(b),b=-1):v=!0,S(_,M-B))):(L.sortIndex=z,t(l,L),p||h||(p=!0,E(T))),L},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(L){var A=f;return function(){var M=f;f=A;try{return L.apply(this,arguments)}finally{f=M}}}})(Nm);Pm.exports=Nm;var J1=Pm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=j,St=J1;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Im=new Set,Pi={};function Vr(e,t){Ts(e,t),Ts(e+"Capture",t)}function Ts(e,t){for(Pi[e]=t,e=0;e<t.length;e++)Im.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cf={},Tf={};function K1(e){return ku.call(Tf,e)?!0:ku.call(Cf,e)?!1:q1.test(e)?Tf[e]=!0:(Cf[e]=!0,!1)}function X1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y1(e,t,n,r){if(t===null||typeof t>"u"||X1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xc=/[\-:]([a-z])/g;function Yc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xc,Yc);He[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xc,Yc);He[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xc,Yc);He[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qc(e,t,n,r){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y1(t,n,s,r)&&(n=null),r||s===null?K1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=G1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),ts=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),Eu=Symbol.for("react.profiler"),Rm=Symbol.for("react.provider"),Am=Symbol.for("react.context"),ed=Symbol.for("react.forward_ref"),Cu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Om=Symbol.for("react.offscreen"),jf=Symbol.iterator;function qs(e){return e===null||typeof e!="object"?null:(e=jf&&e[jf]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Il;function ii(e){if(Il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||""}return`
`+Il+e}var Rl=!1;function Al(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ii(e):""}function Q1(e){switch(e.tag){case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 2:case 15:return e=Al(e.type,!1),e;case 11:return e=Al(e.type.render,!1),e;case 1:return e=Al(e.type,!0),e;default:return""}}function ju(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ns:return"Fragment";case ts:return"Portal";case Eu:return"Profiler";case Zc:return"StrictMode";case Cu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Am:return(e.displayName||"Context")+".Consumer";case Rm:return(e._context.displayName||"Context")+".Provider";case ed:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case td:return t=e.displayName||null,t!==null?t:ju(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return ju(e(t))}catch{}}return null}function Z1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ju(t);case 8:return t===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ew(e){var t=Mm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _o(e){e._valueTracker||(e._valueTracker=ew(e))}function Lm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function la(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dm(e,t){t=t.checked,t!=null&&Qc(e,"checked",t,!1)}function Nu(e,t){Dm(e,t);var n=nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Iu(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Iu(e,t,n){(t!=="number"||la(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oi=Array.isArray;function xs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function If(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(oi(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nr(n)}}function Um(e,t){var n=nr(t.value),r=nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $m(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$m(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bo,Fm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ni(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tw=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(e){tw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fi[t]=fi[e]})});function zm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fi.hasOwnProperty(e)&&fi[e]?(""+t).trim():t+"px"}function Vm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var nw=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ou(e,t){if(t){if(nw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Mu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=null;function nd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Du=null,_s=null,bs=null;function Af(e){if(e=so(e)){if(typeof Du!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Ya(t),Du(e.stateNode,e.type,t))}}function Bm(e){_s?bs?bs.push(e):bs=[e]:_s=e}function Hm(){if(_s){var e=_s,t=bs;if(bs=_s=null,Af(e),t)for(e=0;e<t.length;e++)Af(t[e])}}function Wm(e,t){return e(t)}function Jm(){}var Ol=!1;function Gm(e,t,n){if(Ol)return e(t,n);Ol=!0;try{return Wm(e,t,n)}finally{Ol=!1,(_s!==null||bs!==null)&&(Jm(),Hm())}}function Ii(e,t){var n=e.stateNode;if(n===null)return null;var r=Ya(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Uu=!1;if(wn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Uu=!1}function rw(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var hi=!1,ua=null,ca=!1,$u=null,sw={onError:function(e){hi=!0,ua=e}};function iw(e,t,n,r,s,i,o,a,l){hi=!1,ua=null,rw.apply(sw,arguments)}function ow(e,t,n,r,s,i,o,a,l){if(iw.apply(this,arguments),hi){if(hi){var c=ua;hi=!1,ua=null}else throw Error(H(198));ca||(ca=!0,$u=c)}}function Br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Of(e){if(Br(e)!==e)throw Error(H(188))}function aw(e){var t=e.alternate;if(!t){if(t=Br(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Of(s),e;if(i===r)return Of(s),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Km(e){return e=aw(e),e!==null?Xm(e):null}function Xm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xm(e);if(t!==null)return t;e=e.sibling}return null}var Ym=St.unstable_scheduleCallback,Mf=St.unstable_cancelCallback,lw=St.unstable_shouldYield,uw=St.unstable_requestPaint,Te=St.unstable_now,cw=St.unstable_getCurrentPriorityLevel,rd=St.unstable_ImmediatePriority,Qm=St.unstable_UserBlockingPriority,da=St.unstable_NormalPriority,dw=St.unstable_LowPriority,Zm=St.unstable_IdlePriority,Ga=null,nn=null;function fw(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:mw,hw=Math.log,pw=Math.LN2;function mw(e){return e>>>=0,e===0?32:31-(hw(e)/pw|0)|0}var So=64,ko=4194304;function ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ai(a):(i&=o,i!==0&&(r=ai(i)))}else o=n&~s,o!==0?r=ai(o):i!==0&&(r=ai(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),s=1<<n,r|=e[n],t&=~s;return r}function gw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Bt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=gw(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e0(){var e=So;return So<<=1,!(So&4194240)&&(So=64),e}function Ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function no(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function vw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Bt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function sd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ie=0;function t0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var n0,id,r0,s0,i0,zu=!1,Eo=[],Jn=null,Gn=null,qn=null,Ri=new Map,Ai=new Map,Un=[],ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lf(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function Xs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=so(t),t!==null&&id(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xw(e,t,n,r,s){switch(t){case"focusin":return Jn=Xs(Jn,e,t,n,r,s),!0;case"dragenter":return Gn=Xs(Gn,e,t,n,r,s),!0;case"mouseover":return qn=Xs(qn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ri.set(i,Xs(Ri.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ai.set(i,Xs(Ai.get(i)||null,e,t,n,r,s)),!0}return!1}function o0(e){var t=Tr(e.target);if(t!==null){var n=Br(t);if(n!==null){if(t=n.tag,t===13){if(t=qm(n),t!==null){e.blockedOn=t,i0(e.priority,function(){r0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lu=r,n.target.dispatchEvent(r),Lu=null}else return t=so(n),t!==null&&id(t),e.blockedOn=n,!1;t.shift()}return!0}function Df(e,t,n){Ko(e)&&n.delete(t)}function _w(){zu=!1,Jn!==null&&Ko(Jn)&&(Jn=null),Gn!==null&&Ko(Gn)&&(Gn=null),qn!==null&&Ko(qn)&&(qn=null),Ri.forEach(Df),Ai.forEach(Df)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,zu||(zu=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,_w)))}function Oi(e){function t(s){return Ys(s,e)}if(0<Eo.length){Ys(Eo[0],e);for(var n=1;n<Eo.length;n++){var r=Eo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jn!==null&&Ys(Jn,e),Gn!==null&&Ys(Gn,e),qn!==null&&Ys(qn,e),Ri.forEach(t),Ai.forEach(t),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)o0(n),n.blockedOn===null&&Un.shift()}var Ss=En.ReactCurrentBatchConfig,ha=!0;function bw(e,t,n,r){var s=ie,i=Ss.transition;Ss.transition=null;try{ie=1,od(e,t,n,r)}finally{ie=s,Ss.transition=i}}function Sw(e,t,n,r){var s=ie,i=Ss.transition;Ss.transition=null;try{ie=4,od(e,t,n,r)}finally{ie=s,Ss.transition=i}}function od(e,t,n,r){if(ha){var s=Vu(e,t,n,r);if(s===null)Wl(e,t,r,pa,n),Lf(e,r);else if(xw(s,e,t,n,r))r.stopPropagation();else if(Lf(e,r),t&4&&-1<ww.indexOf(e)){for(;s!==null;){var i=so(s);if(i!==null&&n0(i),i=Vu(e,t,n,r),i===null&&Wl(e,t,r,pa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wl(e,t,r,null,n)}}var pa=null;function Vu(e,t,n,r){if(pa=null,e=nd(r),e=Tr(e),e!==null)if(t=Br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pa=e,null}function a0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cw()){case rd:return 1;case Qm:return 4;case da:case dw:return 16;case Zm:return 536870912;default:return 16}default:return 16}}var Vn=null,ad=null,Xo=null;function l0(){if(Xo)return Xo;var e,t=ad,n=t.length,r,s="value"in Vn?Vn.value:Vn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Xo=s.slice(e,1<r?1-r:void 0)}function Yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function Uf(){return!1}function Ct(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Co:Uf,this.isPropagationStopped=Uf,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),t}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=Ct(Fs),ro=_e({},Fs,{view:0,detail:0}),kw=Ct(ro),Ll,Dl,Qs,qa=_e({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(Ll=e.screenX-Qs.screenX,Dl=e.screenY-Qs.screenY):Dl=Ll=0,Qs=e),Ll)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),$f=Ct(qa),Ew=_e({},qa,{dataTransfer:0}),Cw=Ct(Ew),Tw=_e({},ro,{relatedTarget:0}),Ul=Ct(Tw),jw=_e({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Pw=Ct(jw),Nw=_e({},Fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iw=Ct(Nw),Rw=_e({},Fs,{data:0}),Ff=Ct(Rw),Aw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mw[e])?!!t[e]:!1}function ud(){return Lw}var Dw=_e({},ro,{key:function(e){if(e.key){var t=Aw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ow[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(e){return e.type==="keypress"?Yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uw=Ct(Dw),$w=_e({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=Ct($w),Fw=_e({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),zw=Ct(Fw),Vw=_e({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bw=Ct(Vw),Hw=_e({},qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ww=Ct(Hw),Jw=[9,13,27,32],cd=wn&&"CompositionEvent"in window,pi=null;wn&&"documentMode"in document&&(pi=document.documentMode);var Gw=wn&&"TextEvent"in window&&!pi,u0=wn&&(!cd||pi&&8<pi&&11>=pi),Vf=String.fromCharCode(32),Bf=!1;function c0(e,t){switch(e){case"keyup":return Jw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function qw(e,t){switch(e){case"compositionend":return d0(t);case"keypress":return t.which!==32?null:(Bf=!0,Vf);case"textInput":return e=t.data,e===Vf&&Bf?null:e;default:return null}}function Kw(e,t){if(rs)return e==="compositionend"||!cd&&c0(e,t)?(e=l0(),Xo=ad=Vn=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return u0&&t.locale!=="ko"?null:t.data;default:return null}}var Xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xw[e.type]:t==="textarea"}function f0(e,t,n,r){Bm(r),t=ma(t,"onChange"),0<t.length&&(n=new ld("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mi=null,Mi=null;function Yw(e){S0(e,0)}function Ka(e){var t=os(e);if(Lm(t))return e}function Qw(e,t){if(e==="change")return t}var h0=!1;if(wn){var $l;if(wn){var Fl="oninput"in document;if(!Fl){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),Fl=typeof Wf.oninput=="function"}$l=Fl}else $l=!1;h0=$l&&(!document.documentMode||9<document.documentMode)}function Jf(){mi&&(mi.detachEvent("onpropertychange",p0),Mi=mi=null)}function p0(e){if(e.propertyName==="value"&&Ka(Mi)){var t=[];f0(t,Mi,e,nd(e)),Gm(Yw,t)}}function Zw(e,t,n){e==="focusin"?(Jf(),mi=t,Mi=n,mi.attachEvent("onpropertychange",p0)):e==="focusout"&&Jf()}function ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ka(Mi)}function tx(e,t){if(e==="click")return Ka(t)}function nx(e,t){if(e==="input"||e==="change")return Ka(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:rx;function Li(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ku.call(t,s)||!Wt(e[s],t[s]))return!1}return!0}function Gf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qf(e,t){var n=Gf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gf(n)}}function m0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g0(){for(var e=window,t=la();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=la(e.document)}return t}function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sx(e){var t=g0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&m0(n.ownerDocument.documentElement,n)){if(r!==null&&dd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=qf(n,i);var o=qf(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ix=wn&&"documentMode"in document&&11>=document.documentMode,ss=null,Bu=null,gi=null,Hu=!1;function Kf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hu||ss==null||ss!==la(r)||(r=ss,"selectionStart"in r&&dd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gi&&Li(gi,r)||(gi=r,r=ma(Bu,"onSelect"),0<r.length&&(t=new ld("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ss)))}function To(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var is={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionend:To("Transition","TransitionEnd")},zl={},y0={};wn&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Xa(e){if(zl[e])return zl[e];if(!is[e])return e;var t=is[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in y0)return zl[e]=t[n];return e}var v0=Xa("animationend"),w0=Xa("animationiteration"),x0=Xa("animationstart"),_0=Xa("transitionend"),b0=new Map,Xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){b0.set(e,t),Vr(t,[e])}for(var Vl=0;Vl<Xf.length;Vl++){var Bl=Xf[Vl],ox=Bl.toLowerCase(),ax=Bl[0].toUpperCase()+Bl.slice(1);or(ox,"on"+ax)}or(v0,"onAnimationEnd");or(w0,"onAnimationIteration");or(x0,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(_0,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Yf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ow(r,t,void 0,e),e.currentTarget=null}function S0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Yf(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Yf(s,a,c),i=l}}}if(ca)throw e=$u,ca=!1,$u=null,e}function he(e,t){var n=t[Ku];n===void 0&&(n=t[Ku]=new Set);var r=e+"__bubble";n.has(r)||(k0(t,e,2,!1),n.add(r))}function Hl(e,t,n){var r=0;t&&(r|=4),k0(n,e,r,t)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Di(e){if(!e[jo]){e[jo]=!0,Im.forEach(function(n){n!=="selectionchange"&&(lx.has(n)||Hl(n,!1,e),Hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jo]||(t[jo]=!0,Hl("selectionchange",!1,t))}}function k0(e,t,n,r){switch(a0(t)){case 1:var s=bw;break;case 4:s=Sw;break;default:s=od}n=s.bind(null,t,n,e),s=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Tr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Gm(function(){var c=i,u=nd(n),d=[];e:{var f=b0.get(e);if(f!==void 0){var h=ld,p=e;switch(e){case"keypress":if(Yo(n)===0)break e;case"keydown":case"keyup":h=Uw;break;case"focusin":p="focus",h=Ul;break;case"focusout":p="blur",h=Ul;break;case"beforeblur":case"afterblur":h=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Cw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zw;break;case v0:case w0:case x0:h=Pw;break;case _0:h=Bw;break;case"scroll":h=kw;break;case"wheel":h=Ww;break;case"copy":case"cut":case"paste":h=Iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=zf}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var w=c,m;w!==null;){m=w;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,y!==null&&(_=Ii(w,y),_!=null&&v.push(Ui(w,_,m)))),x)break;w=w.return}0<v.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Lu&&(p=n.relatedTarget||n.fromElement)&&(Tr(p)||p[xn]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Tr(p):null,p!==null&&(x=Br(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(v=$f,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=zf,_="onPointerLeave",y="onPointerEnter",w="pointer"),x=h==null?f:os(h),m=p==null?f:os(p),f=new v(_,w+"leave",h,n,u),f.target=x,f.relatedTarget=m,_=null,Tr(u)===c&&(v=new v(y,w+"enter",p,n,u),v.target=m,v.relatedTarget=x,_=v),x=_,h&&p)t:{for(v=h,y=p,w=0,m=v;m;m=Xr(m))w++;for(m=0,_=y;_;_=Xr(_))m++;for(;0<w-m;)v=Xr(v),w--;for(;0<m-w;)y=Xr(y),m--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=Xr(v),y=Xr(y)}v=null}else v=null;h!==null&&Qf(d,f,h,v,!1),p!==null&&x!==null&&Qf(d,x,p,v,!0)}}e:{if(f=c?os(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=Qw;else if(Hf(f))if(h0)T=nx;else{T=ex;var C=Zw}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=tx);if(T&&(T=T(e,c))){f0(d,T,n,u);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Iu(f,"number",f.value)}switch(C=c?os(c):window,e){case"focusin":(Hf(C)||C.contentEditable==="true")&&(ss=C,Bu=c,gi=null);break;case"focusout":gi=Bu=ss=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,Kf(d,n,u);break;case"selectionchange":if(ix)break;case"keydown":case"keyup":Kf(d,n,u)}var N;if(cd)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else rs?c0(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(u0&&n.locale!=="ko"&&(rs||b!=="onCompositionStart"?b==="onCompositionEnd"&&rs&&(N=l0()):(Vn=u,ad="value"in Vn?Vn.value:Vn.textContent,rs=!0)),C=ma(c,b),0<C.length&&(b=new Ff(b,e,null,n,u),d.push({event:b,listeners:C}),N?b.data=N:(N=d0(n),N!==null&&(b.data=N)))),(N=Gw?qw(e,n):Kw(e,n))&&(c=ma(c,"onBeforeInput"),0<c.length&&(u=new Ff("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=N))}S0(d,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ma(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ii(e,n),i!=null&&r.unshift(Ui(e,i,s)),i=Ii(e,t),i!=null&&r.push(Ui(e,i,s))),e=e.return}return r}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qf(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ii(n,i),l!=null&&o.unshift(Ui(n,l,a))):s||(l=Ii(n,i),l!=null&&o.push(Ui(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ux=/\r\n?/g,cx=/\u0000|\uFFFD/g;function Zf(e){return(typeof e=="string"?e:""+e).replace(ux,`
`).replace(cx,"")}function Po(e,t,n){if(t=Zf(t),Zf(e)!==t&&n)throw Error(H(425))}function ga(){}var Wu=null,Ju=null;function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qu=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,eh=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof eh<"u"?function(e){return eh.resolve(null).then(e).catch(hx)}:qu;function hx(e){setTimeout(function(){throw e})}function Jl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Oi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oi(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function th(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Zt="__reactFiber$"+zs,$i="__reactProps$"+zs,xn="__reactContainer$"+zs,Ku="__reactEvents$"+zs,px="__reactListeners$"+zs,mx="__reactHandles$"+zs;function Tr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=th(e);e!==null;){if(n=e[Zt])return n;e=th(e)}return t}e=n,n=e.parentNode}return null}function so(e){return e=e[Zt]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Ya(e){return e[$i]||null}var Xu=[],as=-1;function ar(e){return{current:e}}function pe(e){0>as||(e.current=Xu[as],Xu[as]=null,as--)}function le(e,t){as++,Xu[as]=e.current,e.current=t}var rr={},Ye=ar(rr),ct=ar(!1),Lr=rr;function js(e,t){var n=e.type.contextTypes;if(!n)return rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dt(e){return e=e.childContextTypes,e!=null}function ya(){pe(ct),pe(Ye)}function nh(e,t,n){if(Ye.current!==rr)throw Error(H(168));le(Ye,t),le(ct,n)}function E0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(H(108,Z1(e)||"Unknown",s));return _e({},n,r)}function va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,Lr=Ye.current,le(Ye,e),le(ct,ct.current),!0}function rh(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=E0(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=e,pe(ct),pe(Ye),le(Ye,e)):pe(ct),le(ct,n)}var dn=null,Qa=!1,Gl=!1;function C0(e){dn===null?dn=[e]:dn.push(e)}function gx(e){Qa=!0,C0(e)}function lr(){if(!Gl&&dn!==null){Gl=!0;var e=0,t=ie;try{var n=dn;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dn=null,Qa=!1}catch(s){throw dn!==null&&(dn=dn.slice(e+1)),Ym(rd,lr),s}finally{ie=t,Gl=!1}}return null}var ls=[],us=0,wa=null,xa=0,It=[],Rt=0,Dr=null,fn=1,hn="";function xr(e,t){ls[us++]=xa,ls[us++]=wa,wa=e,xa=t}function T0(e,t,n){It[Rt++]=fn,It[Rt++]=hn,It[Rt++]=Dr,Dr=e;var r=fn;e=hn;var s=32-Bt(r)-1;r&=~(1<<s),n+=1;var i=32-Bt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-Bt(t)+s|n<<s|r,hn=i+e}else fn=1<<i|n<<s|r,hn=e}function fd(e){e.return!==null&&(xr(e,1),T0(e,1,0))}function hd(e){for(;e===wa;)wa=ls[--us],ls[us]=null,xa=ls[--us],ls[us]=null;for(;e===Dr;)Dr=It[--Rt],It[Rt]=null,hn=It[--Rt],It[Rt]=null,fn=It[--Rt],It[Rt]=null}var _t=null,xt=null,ge=!1,Vt=null;function j0(e,t){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,xt=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_t=e,xt=null,!0):!1;default:return!1}}function Yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qu(e){if(ge){var t=xt;if(t){var n=t;if(!sh(e,t)){if(Yu(e))throw Error(H(418));t=Kn(n.nextSibling);var r=_t;t&&sh(e,t)?j0(r,n):(e.flags=e.flags&-4097|2,ge=!1,_t=e)}}else{if(Yu(e))throw Error(H(418));e.flags=e.flags&-4097|2,ge=!1,_t=e}}}function ih(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function No(e){if(e!==_t)return!1;if(!ge)return ih(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gu(e.type,e.memoizedProps)),t&&(t=xt)){if(Yu(e))throw P0(),Error(H(418));for(;t;)j0(e,t),t=Kn(t.nextSibling)}if(ih(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=_t?Kn(e.stateNode.nextSibling):null;return!0}function P0(){for(var e=xt;e;)e=Kn(e.nextSibling)}function Ps(){xt=_t=null,ge=!1}function pd(e){Vt===null?Vt=[e]:Vt.push(e)}var yx=En.ReactCurrentBatchConfig;function Zs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Io(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oh(e){var t=e._init;return t(e._payload)}function N0(e){function t(y,w){if(e){var m=y.deletions;m===null?(y.deletions=[w],y.flags|=16):m.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=Zn(y,w),y.index=0,y.sibling=null,y}function i(y,w,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<w?(y.flags|=2,w):m):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,m,_){return w===null||w.tag!==6?(w=eu(m,y.mode,_),w.return=y,w):(w=s(w,m),w.return=y,w)}function l(y,w,m,_){var T=m.type;return T===ns?u(y,w,m.props.children,_,m.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===On&&oh(T)===w.type)?(_=s(w,m.props),_.ref=Zs(y,w,m),_.return=y,_):(_=sa(m.type,m.key,m.props,null,y.mode,_),_.ref=Zs(y,w,m),_.return=y,_)}function c(y,w,m,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==m.containerInfo||w.stateNode.implementation!==m.implementation?(w=tu(m,y.mode,_),w.return=y,w):(w=s(w,m.children||[]),w.return=y,w)}function u(y,w,m,_,T){return w===null||w.tag!==7?(w=Or(m,y.mode,_,T),w.return=y,w):(w=s(w,m),w.return=y,w)}function d(y,w,m){if(typeof w=="string"&&w!==""||typeof w=="number")return w=eu(""+w,y.mode,m),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xo:return m=sa(w.type,w.key,w.props,null,y.mode,m),m.ref=Zs(y,null,w),m.return=y,m;case ts:return w=tu(w,y.mode,m),w.return=y,w;case On:var _=w._init;return d(y,_(w._payload),m)}if(oi(w)||qs(w))return w=Or(w,y.mode,m,null),w.return=y,w;Io(y,w)}return null}function f(y,w,m,_){var T=w!==null?w.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:a(y,w,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case xo:return m.key===T?l(y,w,m,_):null;case ts:return m.key===T?c(y,w,m,_):null;case On:return T=m._init,f(y,w,T(m._payload),_)}if(oi(m)||qs(m))return T!==null?null:u(y,w,m,_,null);Io(y,m)}return null}function h(y,w,m,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(m)||null,a(w,y,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xo:return y=y.get(_.key===null?m:_.key)||null,l(w,y,_,T);case ts:return y=y.get(_.key===null?m:_.key)||null,c(w,y,_,T);case On:var C=_._init;return h(y,w,m,C(_._payload),T)}if(oi(_)||qs(_))return y=y.get(m)||null,u(w,y,_,T,null);Io(w,_)}return null}function p(y,w,m,_){for(var T=null,C=null,N=w,b=w=0,k=null;N!==null&&b<m.length;b++){N.index>b?(k=N,N=null):k=N.sibling;var P=f(y,N,m[b],_);if(P===null){N===null&&(N=k);break}e&&N&&P.alternate===null&&t(y,N),w=i(P,w,b),C===null?T=P:C.sibling=P,C=P,N=k}if(b===m.length)return n(y,N),ge&&xr(y,b),T;if(N===null){for(;b<m.length;b++)N=d(y,m[b],_),N!==null&&(w=i(N,w,b),C===null?T=N:C.sibling=N,C=N);return ge&&xr(y,b),T}for(N=r(y,N);b<m.length;b++)k=h(N,y,b,m[b],_),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?b:k.key),w=i(k,w,b),C===null?T=k:C.sibling=k,C=k);return e&&N.forEach(function(R){return t(y,R)}),ge&&xr(y,b),T}function v(y,w,m,_){var T=qs(m);if(typeof T!="function")throw Error(H(150));if(m=T.call(m),m==null)throw Error(H(151));for(var C=T=null,N=w,b=w=0,k=null,P=m.next();N!==null&&!P.done;b++,P=m.next()){N.index>b?(k=N,N=null):k=N.sibling;var R=f(y,N,P.value,_);if(R===null){N===null&&(N=k);break}e&&N&&R.alternate===null&&t(y,N),w=i(R,w,b),C===null?T=R:C.sibling=R,C=R,N=k}if(P.done)return n(y,N),ge&&xr(y,b),T;if(N===null){for(;!P.done;b++,P=m.next())P=d(y,P.value,_),P!==null&&(w=i(P,w,b),C===null?T=P:C.sibling=P,C=P);return ge&&xr(y,b),T}for(N=r(y,N);!P.done;b++,P=m.next())P=h(N,y,b,P.value,_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?b:P.key),w=i(P,w,b),C===null?T=P:C.sibling=P,C=P);return e&&N.forEach(function(O){return t(y,O)}),ge&&xr(y,b),T}function x(y,w,m,_){if(typeof m=="object"&&m!==null&&m.type===ns&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case xo:e:{for(var T=m.key,C=w;C!==null;){if(C.key===T){if(T=m.type,T===ns){if(C.tag===7){n(y,C.sibling),w=s(C,m.props.children),w.return=y,y=w;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===On&&oh(T)===C.type){n(y,C.sibling),w=s(C,m.props),w.ref=Zs(y,C,m),w.return=y,y=w;break e}n(y,C);break}else t(y,C);C=C.sibling}m.type===ns?(w=Or(m.props.children,y.mode,_,m.key),w.return=y,y=w):(_=sa(m.type,m.key,m.props,null,y.mode,_),_.ref=Zs(y,w,m),_.return=y,y=_)}return o(y);case ts:e:{for(C=m.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===m.containerInfo&&w.stateNode.implementation===m.implementation){n(y,w.sibling),w=s(w,m.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=tu(m,y.mode,_),w.return=y,y=w}return o(y);case On:return C=m._init,x(y,w,C(m._payload),_)}if(oi(m))return p(y,w,m,_);if(qs(m))return v(y,w,m,_);Io(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,m),w.return=y,y=w):(n(y,w),w=eu(m,y.mode,_),w.return=y,y=w),o(y)):n(y,w)}return x}var Ns=N0(!0),I0=N0(!1),_a=ar(null),ba=null,cs=null,md=null;function gd(){md=cs=ba=null}function yd(e){var t=_a.current;pe(_a),e._currentValue=t}function Zu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){ba=e,md=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(md!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if(ba===null)throw Error(H(308));cs=e,ba.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var jr=null;function vd(e){jr===null?jr=[e]:jr.push(e)}function R0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vd(t)):(n.next=s.next,s.next=n),t.interleaved=n,_n(e,r)}function _n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function wd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_n(e,n)}return s=r.interleaved,s===null?(t.next=t,vd(r)):(t.next=s.next,s.next=t),r.interleaved=t,_n(e,n)}function Qo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sd(e,n)}}function ah(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sa(e,t,n,r){var s=e.updateQueue;Mn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(f=t,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=_e({},d,f);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$r|=o,e.lanes=o,e.memoizedState=d}}function lh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var io={},rn=ar(io),Fi=ar(io),zi=ar(io);function Pr(e){if(e===io)throw Error(H(174));return e}function xd(e,t){switch(le(zi,t),le(Fi,e),le(rn,io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}pe(rn),le(rn,t)}function Is(){pe(rn),pe(Fi),pe(zi)}function O0(e){Pr(zi.current);var t=Pr(rn.current),n=Au(t,e.type);t!==n&&(le(Fi,e),le(rn,n))}function _d(e){Fi.current===e&&(pe(rn),pe(Fi))}var ve=ar(0);function ka(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ql=[];function bd(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var Zo=En.ReactCurrentDispatcher,Kl=En.ReactCurrentBatchConfig,Ur=0,xe=null,Oe=null,De=null,Ea=!1,yi=!1,Vi=0,vx=0;function Ge(){throw Error(H(321))}function Sd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function kd(e,t,n,r,s,i){if(Ur=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=e===null||e.memoizedState===null?bx:Sx,e=n(r,s),yi){i=0;do{if(yi=!1,Vi=0,25<=i)throw Error(H(301));i+=1,De=Oe=null,t.updateQueue=null,Zo.current=kx,e=n(r,s)}while(yi)}if(Zo.current=Ca,t=Oe!==null&&Oe.next!==null,Ur=0,De=Oe=xe=null,Ea=!1,t)throw Error(H(300));return e}function Ed(){var e=Vi!==0;return Vi=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?xe.memoizedState=De=e:De=De.next=e,De}function Lt(){if(Oe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=De===null?xe.memoizedState:De.next;if(t!==null)De=t,Oe=e;else{if(e===null)throw Error(H(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},De===null?xe.memoizedState=De=e:De=De.next=e}return De}function Bi(e,t){return typeof t=="function"?t(e):t}function Xl(e){var t=Lt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ur&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,xe.lanes|=u,$r|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Wt(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,$r|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yl(e){var t=Lt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Wt(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function M0(){}function L0(e,t){var n=xe,r=Lt(),s=t(),i=!Wt(r.memoizedState,s);if(i&&(r.memoizedState=s,ut=!0),r=r.queue,Cd($0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Hi(9,U0.bind(null,n,r,s,t),void 0,null),$e===null)throw Error(H(349));Ur&30||D0(n,t,s)}return s}function D0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function U0(e,t,n,r){t.value=n,t.getSnapshot=r,F0(t)&&z0(e)}function $0(e,t,n){return n(function(){F0(t)&&z0(e)})}function F0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function z0(e){var t=_n(e,1);t!==null&&Ht(t,e,1,-1)}function uh(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=_x.bind(null,xe,e),[t.memoizedState,e]}function Hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function V0(){return Lt().memoizedState}function ea(e,t,n,r){var s=Qt();xe.flags|=e,s.memoizedState=Hi(1|t,n,void 0,r===void 0?null:r)}function Za(e,t,n,r){var s=Lt();r=r===void 0?null:r;var i=void 0;if(Oe!==null){var o=Oe.memoizedState;if(i=o.destroy,r!==null&&Sd(r,o.deps)){s.memoizedState=Hi(t,n,i,r);return}}xe.flags|=e,s.memoizedState=Hi(1|t,n,i,r)}function ch(e,t){return ea(8390656,8,e,t)}function Cd(e,t){return Za(2048,8,e,t)}function B0(e,t){return Za(4,2,e,t)}function H0(e,t){return Za(4,4,e,t)}function W0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function J0(e,t,n){return n=n!=null?n.concat([e]):null,Za(4,4,W0.bind(null,t,e),n)}function Td(){}function G0(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function q0(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function K0(e,t,n){return Ur&21?(Wt(n,t)||(n=e0(),xe.lanes|=n,$r|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function wx(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Kl.transition;Kl.transition={};try{e(!1),t()}finally{ie=n,Kl.transition=r}}function X0(){return Lt().memoizedState}function xx(e,t,n){var r=Qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Y0(e))Q0(t,n);else if(n=R0(e,t,n,r),n!==null){var s=nt();Ht(n,e,r,s),Z0(n,t,r)}}function _x(e,t,n){var r=Qn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y0(e))Q0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wt(a,o)){var l=t.interleaved;l===null?(s.next=s,vd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=R0(e,t,s,r),n!==null&&(s=nt(),Ht(n,e,r,s),Z0(n,t,r))}}function Y0(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Q0(e,t){yi=Ea=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Z0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sd(e,n)}}var Ca={readContext:Mt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},bx={readContext:Mt,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:ch,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ea(4194308,4,W0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ea(4194308,4,e,t)},useInsertionEffect:function(e,t){return ea(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xx.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:uh,useDebugValue:Td,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=uh(!1),t=e[0];return e=wx.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,s=Qt();if(ge){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),$e===null)throw Error(H(349));Ur&30||D0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ch($0.bind(null,r,i,e),[e]),r.flags|=2048,Hi(9,U0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qt(),t=$e.identifierPrefix;if(ge){var n=hn,r=fn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sx={readContext:Mt,useCallback:G0,useContext:Mt,useEffect:Cd,useImperativeHandle:J0,useInsertionEffect:B0,useLayoutEffect:H0,useMemo:q0,useReducer:Xl,useRef:V0,useState:function(){return Xl(Bi)},useDebugValue:Td,useDeferredValue:function(e){var t=Lt();return K0(t,Oe.memoizedState,e)},useTransition:function(){var e=Xl(Bi)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:M0,useSyncExternalStore:L0,useId:X0,unstable_isNewReconciler:!1},kx={readContext:Mt,useCallback:G0,useContext:Mt,useEffect:Cd,useImperativeHandle:J0,useInsertionEffect:B0,useLayoutEffect:H0,useMemo:q0,useReducer:Yl,useRef:V0,useState:function(){return Yl(Bi)},useDebugValue:Td,useDeferredValue:function(e){var t=Lt();return Oe===null?t.memoizedState=e:K0(t,Oe.memoizedState,e)},useTransition:function(){var e=Yl(Bi)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:M0,useSyncExternalStore:L0,useId:X0,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ec(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var el={isMounted:function(e){return(e=e._reactInternals)?Br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),s=Qn(e),i=gn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Xn(e,i,s),t!==null&&(Ht(t,e,s,r),Qo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),s=Qn(e),i=gn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xn(e,i,s),t!==null&&(Ht(t,e,s,r),Qo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=Qn(e),s=gn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xn(e,s,r),t!==null&&(Ht(t,e,r,n),Qo(t,e,r))}};function dh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Li(n,r)||!Li(s,i):!0}function eg(e,t,n){var r=!1,s=rr,i=t.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(s=dt(t)?Lr:Ye.current,r=t.contextTypes,i=(r=r!=null)?js(e,s):rr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=el,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&el.enqueueReplaceState(t,t.state,null)}function tc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Mt(i):(i=dt(t)?Lr:Ye.current,s.context=js(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ec(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&el.enqueueReplaceState(s,s.state,null),Sa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var n="",r=t;do n+=Q1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ex=typeof WeakMap=="function"?WeakMap:Map;function tg(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ja||(ja=!0,fc=r),nc(e,t)},n}function ng(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){nc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nc(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ex;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=$x.bind(null,e,t,n),t.then(e,e))}function ph(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e)}var Cx=En.ReactCurrentOwner,ut=!1;function tt(e,t,n,r){t.child=e===null?I0(t,null,n,r):Ns(t,e.child,n,r)}function gh(e,t,n,r,s){n=n.render;var i=t.ref;return ks(t,s),r=kd(e,t,n,r,i,s),n=Ed(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bn(e,t,s)):(ge&&n&&fd(t),t.flags|=1,tt(e,t,r,s),t.child)}function yh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Md(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,rg(e,t,i,r,s)):(e=sa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Li,n(o,r)&&e.ref===t.ref)return bn(e,t,s)}return t.flags|=1,e=Zn(i,r),e.ref=t.ref,e.return=t,t.child=e}function rg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Li(i,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,bn(e,t,s)}return rc(e,t,n,r,s)}function sg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(fs,wt),wt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(fs,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(fs,wt),wt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,le(fs,wt),wt|=r;return tt(e,t,s,n),t.child}function ig(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rc(e,t,n,r,s){var i=dt(n)?Lr:Ye.current;return i=js(t,i),ks(t,s),n=kd(e,t,n,r,i,s),r=Ed(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bn(e,t,s)):(ge&&r&&fd(t),t.flags|=1,tt(e,t,n,s),t.child)}function vh(e,t,n,r,s){if(dt(n)){var i=!0;va(t)}else i=!1;if(ks(t,s),t.stateNode===null)ta(e,t),eg(t,n,r),tc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mt(c):(c=dt(n)?Lr:Ye.current,c=js(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&fh(t,o,r,c),Mn=!1;var f=t.memoizedState;o.state=f,Sa(t,r,o,s),l=t.memoizedState,a!==r||f!==l||ct.current||Mn?(typeof u=="function"&&(ec(t,n,u,r),l=t.memoizedState),(a=Mn||dh(t,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,A0(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:$t(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=dt(n)?Lr:Ye.current,l=js(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&fh(t,o,r,l),Mn=!1,f=t.memoizedState,o.state=f,Sa(t,r,o,s);var p=t.memoizedState;a!==d||f!==p||ct.current||Mn?(typeof h=="function"&&(ec(t,n,h,r),p=t.memoizedState),(c=Mn||dh(t,n,c,r,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sc(e,t,n,r,i,s)}function sc(e,t,n,r,s,i){ig(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&rh(t,n,!1),bn(e,t,i);r=t.stateNode,Cx.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ns(t,e.child,null,i),t.child=Ns(t,null,a,i)):tt(e,t,a,i),t.memoizedState=r.state,s&&rh(t,n,!0),t.child}function og(e){var t=e.stateNode;t.pendingContext?nh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nh(e,t.context,!1),xd(e,t.containerInfo)}function wh(e,t,n,r,s){return Ps(),pd(s),t.flags|=256,tt(e,t,n,r),t.child}var ic={dehydrated:null,treeContext:null,retryLane:0};function oc(e){return{baseLanes:e,cachePool:null,transitions:null}}function ag(e,t,n){var r=t.pendingProps,s=ve.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(ve,s&1),e===null)return Qu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=rl(o,r,0,null),e=Or(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=oc(n),t.memoizedState=ic,e):jd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Tx(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Zn(a,i):(i=Or(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?oc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ic,r}return i=e.child,e=i.sibling,r=Zn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jd(e,t){return t=rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ro(e,t,n,r){return r!==null&&pd(r),Ns(t,e.child,null,n),e=jd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tx(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ql(Error(H(422))),Ro(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=rl({mode:"visible",children:r.children},s,0,null),i=Or(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ns(t,e.child,null,o),t.child.memoizedState=oc(o),t.memoizedState=ic,i);if(!(t.mode&1))return Ro(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Ql(i,r,void 0),Ro(e,t,o,r)}if(a=(o&e.childLanes)!==0,ut||a){if(r=$e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_n(e,s),Ht(r,e,s,-1))}return Od(),r=Ql(Error(H(421))),Ro(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Fx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,xt=Kn(s.nextSibling),_t=t,ge=!0,Vt=null,e!==null&&(It[Rt++]=fn,It[Rt++]=hn,It[Rt++]=Dr,fn=e.id,hn=e.overflow,Dr=t),t=jd(t,r.children),t.flags|=4096,t)}function xh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zu(e.return,t,n)}function Zl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(tt(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xh(e,n,t);else if(e.tag===19)xh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ka(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Zl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ka(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Zl(t,!0,n,null,i);break;case"together":Zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jx(e,t,n){switch(t.tag){case 3:og(t),Ps();break;case 5:O0(t);break;case 1:dt(t.type)&&va(t);break;case 4:xd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;le(_a,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?ag(e,t,n):(le(ve,ve.current&1),e=bn(e,t,n),e!==null?e.sibling:null);le(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,sg(e,t,n)}return bn(e,t,n)}var ug,ac,cg,dg;ug=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ac=function(){};cg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Pr(rn.current);var i=null;switch(n){case"input":s=Pu(e,s),r=Pu(e,r),i=[];break;case"select":s=_e({},s,{value:void 0}),r=_e({},r,{value:void 0}),i=[];break;case"textarea":s=Ru(e,s),r=Ru(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ga)}Ou(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&he("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};dg=function(e,t,n,r){n!==r&&(t.flags|=4)};function ei(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Px(e,t,n){var r=t.pendingProps;switch(hd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return dt(t.type)&&ya(),qe(t),null;case 3:return r=t.stateNode,Is(),pe(ct),pe(Ye),bd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(No(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(mc(Vt),Vt=null))),ac(e,t),qe(t),null;case 5:_d(t);var s=Pr(zi.current);if(n=t.type,e!==null&&t.stateNode!=null)cg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return qe(t),null}if(e=Pr(rn.current),No(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zt]=t,r[$i]=i,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<li.length;s++)he(li[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Pf(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":If(r,i),he("invalid",r)}Ou(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Po(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Po(r.textContent,a,e),s=["children",""+a]):Pi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":_o(r),Nf(r,i,!0);break;case"textarea":_o(r),Rf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ga)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$m(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[$i]=r,ug(e,t,!1,!1),t.stateNode=e;e:{switch(o=Mu(n,r),n){case"dialog":he("cancel",e),he("close",e),s=r;break;case"iframe":case"object":case"embed":he("load",e),s=r;break;case"video":case"audio":for(s=0;s<li.length;s++)he(li[s],e);s=r;break;case"source":he("error",e),s=r;break;case"img":case"image":case"link":he("error",e),he("load",e),s=r;break;case"details":he("toggle",e),s=r;break;case"input":Pf(e,r),s=Pu(e,r),he("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=_e({},r,{value:void 0}),he("invalid",e);break;case"textarea":If(e,r),s=Ru(e,r),he("invalid",e);break;default:s=r}Ou(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ni(e,l):typeof l=="number"&&Ni(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&he("scroll",e):l!=null&&Qc(e,i,l,o))}switch(n){case"input":_o(e),Nf(e,r,!1);break;case"textarea":_o(e),Rf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?xs(e,!!r.multiple,i,!1):r.defaultValue!=null&&xs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ga)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)dg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Pr(zi.current),Pr(rn.current),No(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(i=r.nodeValue!==n)&&(e=_t,e!==null))switch(e.tag){case 3:Po(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Po(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return qe(t),null;case 13:if(pe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&xt!==null&&t.mode&1&&!(t.flags&128))P0(),Ps(),t.flags|=98560,i=!1;else if(i=No(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Zt]=t}else Ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Vt!==null&&(mc(Vt),Vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Me===0&&(Me=3):Od())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Is(),ac(e,t),e===null&&Di(t.stateNode.containerInfo),qe(t),null;case 10:return yd(t.type._context),qe(t),null;case 17:return dt(t.type)&&ya(),qe(t),null;case 19:if(pe(ve),i=t.memoizedState,i===null)return qe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ei(i,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ka(e),o!==null){for(t.flags|=128,ei(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>As&&(t.flags|=128,r=!0,ei(i,!1),t.lanes=4194304)}else{if(!r)if(e=ka(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return qe(t),null}else 2*Te()-i.renderingStartTime>As&&n!==1073741824&&(t.flags|=128,r=!0,ei(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=ve.current,le(ve,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return Ad(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Nx(e,t){switch(hd(t),t.tag){case 1:return dt(t.type)&&ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Is(),pe(ct),pe(Ye),bd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _d(t),null;case 13:if(pe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ve),null;case 4:return Is(),null;case 10:return yd(t.type._context),null;case 22:case 23:return Ad(),null;case 24:return null;default:return null}}var Ao=!1,Xe=!1,Ix=typeof WeakSet=="function"?WeakSet:Set,W=null;function ds(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function lc(e,t,n){try{n()}catch(r){ke(e,t,r)}}var _h=!1;function Rx(e,t){if(Wu=ha,e=g0(),dd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:e,selectionRange:n},ha=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,x=p.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:$t(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(_){ke(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return p=_h,_h=!1,p}function vi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&lc(t,n,i)}s=s.next}while(s!==r)}}function tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fg(e){var t=e.alternate;t!==null&&(e.alternate=null,fg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[$i],delete t[Ku],delete t[px],delete t[mx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hg(e){return e.tag===5||e.tag===3||e.tag===4}function bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ga));else if(r!==4&&(e=e.child,e!==null))for(cc(e,t,n),e=e.sibling;e!==null;)cc(e,t,n),e=e.sibling}function dc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dc(e,t,n),e=e.sibling;e!==null;)dc(e,t,n),e=e.sibling}var Ve=null,Ft=!1;function Pn(e,t,n){for(n=n.child;n!==null;)pg(e,t,n),n=n.sibling}function pg(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 5:Xe||ds(n,t);case 6:var r=Ve,s=Ft;Ve=null,Pn(e,t,n),Ve=r,Ft=s,Ve!==null&&(Ft?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Ft?(e=Ve,n=n.stateNode,e.nodeType===8?Jl(e.parentNode,n):e.nodeType===1&&Jl(e,n),Oi(e)):Jl(Ve,n.stateNode));break;case 4:r=Ve,s=Ft,Ve=n.stateNode.containerInfo,Ft=!0,Pn(e,t,n),Ve=r,Ft=s;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lc(n,t,o),s=s.next}while(s!==r)}Pn(e,t,n);break;case 1:if(!Xe&&(ds(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,t,a)}Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,Pn(e,t,n),Xe=r):Pn(e,t,n);break;default:Pn(e,t,n)}}function Sh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ix),t.forEach(function(r){var s=zx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Ft=!1;break e;case 3:Ve=a.stateNode.containerInfo,Ft=!0;break e;case 4:Ve=a.stateNode.containerInfo,Ft=!0;break e}a=a.return}if(Ve===null)throw Error(H(160));pg(i,o,s),Ve=null,Ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ke(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mg(t,e),t=t.sibling}function mg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),qt(e),r&4){try{vi(3,e,e.return),tl(3,e)}catch(v){ke(e,e.return,v)}try{vi(5,e,e.return)}catch(v){ke(e,e.return,v)}}break;case 1:Ut(t,e),qt(e),r&512&&n!==null&&ds(n,n.return);break;case 5:if(Ut(t,e),qt(e),r&512&&n!==null&&ds(n,n.return),e.flags&32){var s=e.stateNode;try{Ni(s,"")}catch(v){ke(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Dm(s,i),Mu(a,o);var c=Mu(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Vm(s,d):u==="dangerouslySetInnerHTML"?Fm(s,d):u==="children"?Ni(s,d):Qc(s,u,d,c)}switch(a){case"input":Nu(s,i);break;case"textarea":Um(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?xs(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?xs(s,!!i.multiple,i.defaultValue,!0):xs(s,!!i.multiple,i.multiple?[]:"",!1))}s[$i]=i}catch(v){ke(e,e.return,v)}}break;case 6:if(Ut(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ke(e,e.return,v)}}break;case 3:if(Ut(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oi(t.containerInfo)}catch(v){ke(e,e.return,v)}break;case 4:Ut(t,e),qt(e);break;case 13:Ut(t,e),qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Id=Te())),r&4&&Sh(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(c=Xe)||u,Ut(t,e),Xe=c):Ut(t,e),qt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(d=W=u;W!==null;){switch(f=W,h=f.child,f.tag){case 0:case 11:case 14:case 15:vi(4,f,f.return);break;case 1:ds(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){ke(r,n,v)}}break;case 5:ds(f,f.return);break;case 22:if(f.memoizedState!==null){Eh(d);continue}}h!==null?(h.return=f,W=h):Eh(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zm("display",o))}catch(v){ke(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ke(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ut(t,e),qt(e),r&4&&Sh(e);break;case 21:break;default:Ut(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hg(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ni(s,""),r.flags&=-33);var i=bh(e);dc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bh(e);cc(e,a,o);break;default:throw Error(H(161))}}catch(l){ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ax(e,t,n){W=e,gg(e)}function gg(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ao;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Xe;a=Ao;var c=Xe;if(Ao=o,(Xe=l)&&!c)for(W=s;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Ch(s):l!==null?(l.return=o,W=l):Ch(s);for(;i!==null;)W=i,gg(i),i=i.sibling;W=s,Ao=a,Xe=c}kh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):kh(e)}}function kh(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||tl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:$t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&lh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Oi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Xe||t.flags&512&&uc(t)}catch(f){ke(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Eh(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Ch(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tl(4,t)}catch(l){ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ke(t,s,l)}}var i=t.return;try{uc(t)}catch(l){ke(t,i,l)}break;case 5:var o=t.return;try{uc(t)}catch(l){ke(t,o,l)}}}catch(l){ke(t,t.return,l)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var Ox=Math.ceil,Ta=En.ReactCurrentDispatcher,Pd=En.ReactCurrentOwner,Ot=En.ReactCurrentBatchConfig,Z=0,$e=null,Re=null,Be=0,wt=0,fs=ar(0),Me=0,Wi=null,$r=0,nl=0,Nd=0,wi=null,at=null,Id=0,As=1/0,un=null,ja=!1,fc=null,Yn=null,Oo=!1,Bn=null,Pa=0,xi=0,hc=null,na=-1,ra=0;function nt(){return Z&6?Te():na!==-1?na:na=Te()}function Qn(e){return e.mode&1?Z&2&&Be!==0?Be&-Be:yx.transition!==null?(ra===0&&(ra=e0()),ra):(e=ie,e!==0||(e=window.event,e=e===void 0?16:a0(e.type)),e):1}function Ht(e,t,n,r){if(50<xi)throw xi=0,hc=null,Error(H(185));no(e,n,r),(!(Z&2)||e!==$e)&&(e===$e&&(!(Z&2)&&(nl|=n),Me===4&&$n(e,Be)),ft(e,r),n===1&&Z===0&&!(t.mode&1)&&(As=Te()+500,Qa&&lr()))}function ft(e,t){var n=e.callbackNode;yw(e,t);var r=fa(e,e===$e?Be:0);if(r===0)n!==null&&Mf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Mf(n),t===1)e.tag===0?gx(Th.bind(null,e)):C0(Th.bind(null,e)),fx(function(){!(Z&6)&&lr()}),n=null;else{switch(t0(r)){case 1:n=rd;break;case 4:n=Qm;break;case 16:n=da;break;case 536870912:n=Zm;break;default:n=da}n=kg(n,yg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yg(e,t){if(na=-1,ra=0,Z&6)throw Error(H(327));var n=e.callbackNode;if(Es()&&e.callbackNode!==n)return null;var r=fa(e,e===$e?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Na(e,r);else{t=r;var s=Z;Z|=2;var i=wg();($e!==e||Be!==t)&&(un=null,As=Te()+500,Ar(e,t));do try{Dx();break}catch(a){vg(e,a)}while(1);gd(),Ta.current=i,Z=s,Re!==null?t=0:($e=null,Be=0,t=Me)}if(t!==0){if(t===2&&(s=Fu(e),s!==0&&(r=s,t=pc(e,s))),t===1)throw n=Wi,Ar(e,0),$n(e,r),ft(e,Te()),n;if(t===6)$n(e,r);else{if(s=e.current.alternate,!(r&30)&&!Mx(s)&&(t=Na(e,r),t===2&&(i=Fu(e),i!==0&&(r=i,t=pc(e,i))),t===1))throw n=Wi,Ar(e,0),$n(e,r),ft(e,Te()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:_r(e,at,un);break;case 3:if($n(e,r),(r&130023424)===r&&(t=Id+500-Te(),10<t)){if(fa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=qu(_r.bind(null,e,at,un),t);break}_r(e,at,un);break;case 4:if($n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Bt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ox(r/1960))-r,10<r){e.timeoutHandle=qu(_r.bind(null,e,at,un),r);break}_r(e,at,un);break;case 5:_r(e,at,un);break;default:throw Error(H(329))}}}return ft(e,Te()),e.callbackNode===n?yg.bind(null,e):null}function pc(e,t){var n=wi;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=Na(e,t),e!==2&&(t=at,at=n,t!==null&&mc(t)),e}function mc(e){at===null?at=e:at.push.apply(at,e)}function Mx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t){for(t&=~Nd,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function Th(e){if(Z&6)throw Error(H(327));Es();var t=fa(e,0);if(!(t&1))return ft(e,Te()),null;var n=Na(e,t);if(e.tag!==0&&n===2){var r=Fu(e);r!==0&&(t=r,n=pc(e,r))}if(n===1)throw n=Wi,Ar(e,0),$n(e,t),ft(e,Te()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_r(e,at,un),ft(e,Te()),null}function Rd(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(As=Te()+500,Qa&&lr())}}function Fr(e){Bn!==null&&Bn.tag===0&&!(Z&6)&&Es();var t=Z;Z|=1;var n=Ot.transition,r=ie;try{if(Ot.transition=null,ie=1,e)return e()}finally{ie=r,Ot.transition=n,Z=t,!(Z&6)&&lr()}}function Ad(){wt=fs.current,pe(fs)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dx(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(hd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ya();break;case 3:Is(),pe(ct),pe(Ye),bd();break;case 5:_d(r);break;case 4:Is();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:yd(r.type._context);break;case 22:case 23:Ad()}n=n.return}if($e=e,Re=e=Zn(e.current,null),Be=wt=t,Me=0,Wi=null,Nd=nl=$r=0,at=wi=null,jr!==null){for(t=0;t<jr.length;t++)if(n=jr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}jr=null}return e}function vg(e,t){do{var n=Re;try{if(gd(),Zo.current=Ca,Ea){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ea=!1}if(Ur=0,De=Oe=xe=null,yi=!1,Vi=0,Pd.current=null,n===null||n.return===null){Me=1,Wi=t,Re=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ph(o);if(h!==null){h.flags&=-257,mh(h,o,a,i,t),h.mode&1&&hh(i,c,t),t=h,l=c;var p=t.updateQueue;if(p===null){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}else{if(!(t&1)){hh(i,c,t),Od();break e}l=Error(H(426))}}else if(ge&&a.mode&1){var x=ph(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),mh(x,o,a,i,t),pd(Rs(l,a));break e}}i=l=Rs(l,a),Me!==4&&(Me=2),wi===null?wi=[i]:wi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=tg(i,l,t);ah(i,y);break e;case 1:a=l;var w=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Yn===null||!Yn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=ng(i,a,t);ah(i,_);break e}}i=i.return}while(i!==null)}_g(n)}catch(T){t=T,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(1)}function wg(){var e=Ta.current;return Ta.current=Ca,e===null?Ca:e}function Od(){(Me===0||Me===3||Me===2)&&(Me=4),$e===null||!($r&268435455)&&!(nl&268435455)||$n($e,Be)}function Na(e,t){var n=Z;Z|=2;var r=wg();($e!==e||Be!==t)&&(un=null,Ar(e,t));do try{Lx();break}catch(s){vg(e,s)}while(1);if(gd(),Z=n,Ta.current=r,Re!==null)throw Error(H(261));return $e=null,Be=0,Me}function Lx(){for(;Re!==null;)xg(Re)}function Dx(){for(;Re!==null&&!lw();)xg(Re)}function xg(e){var t=Sg(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?_g(e):Re=t,Pd.current=null}function _g(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Nx(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Re=null;return}}else if(n=Px(n,t,wt),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Me===0&&(Me=5)}function _r(e,t,n){var r=ie,s=Ot.transition;try{Ot.transition=null,ie=1,Ux(e,t,n,r)}finally{Ot.transition=s,ie=r}return null}function Ux(e,t,n,r){do Es();while(Bn!==null);if(Z&6)throw Error(H(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(vw(e,i),e===$e&&(Re=$e=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oo||(Oo=!0,kg(da,function(){return Es(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var o=ie;ie=1;var a=Z;Z|=4,Pd.current=null,Rx(e,n),mg(n,e),sx(Ju),ha=!!Wu,Ju=Wu=null,e.current=n,Ax(n),uw(),Z=a,ie=o,Ot.transition=i}else e.current=n;if(Oo&&(Oo=!1,Bn=e,Pa=s),i=e.pendingLanes,i===0&&(Yn=null),fw(n.stateNode),ft(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ja)throw ja=!1,e=fc,fc=null,e;return Pa&1&&e.tag!==0&&Es(),i=e.pendingLanes,i&1?e===hc?xi++:(xi=0,hc=e):xi=0,lr(),null}function Es(){if(Bn!==null){var e=t0(Pa),t=Ot.transition,n=ie;try{if(Ot.transition=null,ie=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,Pa=0,Z&6)throw Error(H(331));var s=Z;for(Z|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:vi(8,u,i)}var d=u.child;if(d!==null)d.return=u,W=d;else for(;W!==null;){u=W;var f=u.sibling,h=u.return;if(fg(u),u===c){W=null;break}if(f!==null){f.return=h,W=f;break}W=h}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,W=y;break e}W=i.return}}var w=e.current;for(W=w;W!==null;){o=W;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,W=m;else e:for(o=w;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tl(9,a)}}catch(T){ke(a,a.return,T)}if(a===o){W=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,W=_;break e}W=a.return}}if(Z=s,lr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ga,e)}catch{}r=!0}return r}finally{ie=n,Ot.transition=t}}return!1}function jh(e,t,n){t=Rs(n,t),t=tg(e,t,1),e=Xn(e,t,1),t=nt(),e!==null&&(no(e,1,t),ft(e,t))}function ke(e,t,n){if(e.tag===3)jh(e,e,n);else for(;t!==null;){if(t.tag===3){jh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=Rs(n,e),e=ng(t,e,1),t=Xn(t,e,1),e=nt(),t!==null&&(no(t,1,e),ft(t,e));break}}t=t.return}}function $x(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Be&n)===n&&(Me===4||Me===3&&(Be&130023424)===Be&&500>Te()-Id?Ar(e,0):Nd|=n),ft(e,t)}function bg(e,t){t===0&&(e.mode&1?(t=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):t=1);var n=nt();e=_n(e,t),e!==null&&(no(e,t,n),ft(e,n))}function Fx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bg(e,n)}function zx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),bg(e,n)}var Sg;Sg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,jx(e,t,n);ut=!!(e.flags&131072)}else ut=!1,ge&&t.flags&1048576&&T0(t,xa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ta(e,t),e=t.pendingProps;var s=js(t,Ye.current);ks(t,n),s=kd(null,t,r,e,s,n);var i=Ed();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(i=!0,va(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wd(t),s.updater=el,t.stateNode=s,s._reactInternals=t,tc(t,r,e,n),t=sc(null,t,r,!0,i,n)):(t.tag=0,ge&&i&&fd(t),tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ta(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Bx(r),e=$t(r,e),s){case 0:t=rc(null,t,r,e,n);break e;case 1:t=vh(null,t,r,e,n);break e;case 11:t=gh(null,t,r,e,n);break e;case 14:t=yh(null,t,r,$t(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),rc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),vh(e,t,r,s,n);case 3:e:{if(og(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,s=i.element,A0(e,t),Sa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Rs(Error(H(423)),t),t=wh(e,t,r,n,s);break e}else if(r!==s){s=Rs(Error(H(424)),t),t=wh(e,t,r,n,s);break e}else for(xt=Kn(t.stateNode.containerInfo.firstChild),_t=t,ge=!0,Vt=null,n=I0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===s){t=bn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return O0(t),e===null&&Qu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Gu(r,s)?o=null:i!==null&&Gu(r,i)&&(t.flags|=32),ig(e,t),tt(e,t,o,n),t.child;case 6:return e===null&&Qu(t),null;case 13:return ag(e,t,n);case 4:return xd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ns(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),gh(e,t,r,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,le(_a,r._currentValue),r._currentValue=o,i!==null)if(Wt(i.value,o)){if(i.children===s.children&&!ct.current){t=bn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Zu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ks(t,n),s=Mt(s),r=r(s),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,s=$t(r,t.pendingProps),s=$t(r.type,s),yh(e,t,r,s,n);case 15:return rg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),ta(e,t),t.tag=1,dt(r)?(e=!0,va(t)):e=!1,ks(t,n),eg(t,r,s),tc(t,r,s,n),sc(null,t,r,!0,e,n);case 19:return lg(e,t,n);case 22:return sg(e,t,n)}throw Error(H(156,t.tag))};function kg(e,t){return Ym(e,t)}function Vx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,r){return new Vx(e,t,n,r)}function Md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bx(e){if(typeof e=="function")return Md(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ed)return 11;if(e===td)return 14}return 2}function Zn(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sa(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Md(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ns:return Or(n.children,s,i,t);case Zc:o=8,s|=8;break;case Eu:return e=At(12,n,t,s|2),e.elementType=Eu,e.lanes=i,e;case Cu:return e=At(13,n,t,s),e.elementType=Cu,e.lanes=i,e;case Tu:return e=At(19,n,t,s),e.elementType=Tu,e.lanes=i,e;case Om:return rl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rm:o=10;break e;case Am:o=9;break e;case ed:o=11;break e;case td:o=14;break e;case On:o=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=At(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Or(e,t,n,r){return e=At(7,e,r,t),e.lanes=n,e}function rl(e,t,n,r){return e=At(22,e,r,t),e.elementType=Om,e.lanes=n,e.stateNode={isHidden:!1},e}function eu(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function tu(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ld(e,t,n,r,s,i,o,a,l){return e=new Hx(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=At(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(i),e}function Wx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Eg(e){if(!e)return rr;e=e._reactInternals;e:{if(Br(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(dt(n))return E0(e,n,t)}return t}function Cg(e,t,n,r,s,i,o,a,l){return e=Ld(n,r,!0,e,s,i,o,a,l),e.context=Eg(null),n=e.current,r=nt(),s=Qn(n),i=gn(r,s),i.callback=t??null,Xn(n,i,s),e.current.lanes=s,no(e,s,r),ft(e,r),e}function sl(e,t,n,r){var s=t.current,i=nt(),o=Qn(s);return n=Eg(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xn(s,t,o),e!==null&&(Ht(e,s,o,i),Qo(e,s,o)),o}function Ia(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ph(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dd(e,t){Ph(e,t),(e=e.alternate)&&Ph(e,t)}function Jx(){return null}var Tg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ud(e){this._internalRoot=e}il.prototype.render=Ud.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));sl(e,t,null,null)};il.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fr(function(){sl(null,e,null,null)}),t[xn]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=s0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Un.length&&t!==0&&t<Un[n].priority;n++);Un.splice(n,0,e),n===0&&o0(e)}};function $d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nh(){}function Gx(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ia(o);i.call(c)}}var o=Cg(t,r,e,0,null,!1,!1,"",Nh);return e._reactRootContainer=o,e[xn]=o.current,Di(e.nodeType===8?e.parentNode:e),Fr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ia(l);a.call(c)}}var l=Ld(e,0,!1,null,null,!1,!1,"",Nh);return e._reactRootContainer=l,e[xn]=l.current,Di(e.nodeType===8?e.parentNode:e),Fr(function(){sl(t,l,n,r)}),l}function al(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ia(o);a.call(l)}}sl(t,o,e,s)}else o=Gx(n,t,e,s,r);return Ia(o)}n0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ai(t.pendingLanes);n!==0&&(sd(t,n|1),ft(t,Te()),!(Z&6)&&(As=Te()+500,lr()))}break;case 13:Fr(function(){var r=_n(e,1);if(r!==null){var s=nt();Ht(r,e,1,s)}}),Dd(e,1)}};id=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var n=nt();Ht(t,e,134217728,n)}Dd(e,134217728)}};r0=function(e){if(e.tag===13){var t=Qn(e),n=_n(e,t);if(n!==null){var r=nt();Ht(n,e,t,r)}Dd(e,t)}};s0=function(){return ie};i0=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Du=function(e,t,n){switch(t){case"input":if(Nu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ya(r);if(!s)throw Error(H(90));Lm(r),Nu(r,s)}}}break;case"textarea":Um(e,n);break;case"select":t=n.value,t!=null&&xs(e,!!n.multiple,t,!1)}};Wm=Rd;Jm=Fr;var qx={usingClientEntryPoint:!1,Events:[so,os,Ya,Bm,Hm,Rd]},ti={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kx={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Km(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||Jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{Ga=Mo.inject(Kx),nn=Mo}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qx;Et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(t))throw Error(H(200));return Wx(e,t,null,n)};Et.createRoot=function(e,t){if(!$d(e))throw Error(H(299));var n=!1,r="",s=Tg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ld(e,1,!1,null,null,n,!1,r,s),e[xn]=t.current,Di(e.nodeType===8?e.parentNode:e),new Ud(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Km(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return Fr(e)};Et.hydrate=function(e,t,n){if(!ol(t))throw Error(H(200));return al(null,e,t,!0,n)};Et.hydrateRoot=function(e,t,n){if(!$d(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Tg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Cg(t,null,e,1,n??null,s,!1,i,o),e[xn]=t.current,Di(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new il(t)};Et.render=function(e,t,n){if(!ol(t))throw Error(H(200));return al(null,e,t,!1,n)};Et.unmountComponentAtNode=function(e){if(!ol(e))throw Error(H(40));return e._reactRootContainer?(Fr(function(){al(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};Et.unstable_batchedUpdates=Rd;Et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return al(e,t,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jg)}catch(e){console.error(e)}}jg(),jm.exports=Et;var Xx=jm.exports,Pg,Ih=Xx;Pg=Ih.createRoot,Ih.hydrateRoot;let Yx={data:""},Qx=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Yx,Zx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,e_=/\/\*[^]*?\*\/|  +/g,Rh=/\n+/g,Fn=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Fn(o,i):i+"{"+Fn(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Fn(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Fn.p?Fn.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},ln={},Ng=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Ng(e[n]);return t}return e},t_=(e,t,n,r,s)=>{let i=Ng(e),o=ln[i]||(ln[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!ln[o]){let l=i!==e?e:(c=>{let u,d,f=[{}];for(;u=Zx.exec(c.replace(e_,""));)u[4]?f.shift():u[3]?(d=u[3].replace(Rh," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(Rh," ").trim();return f[0]})(e);ln[o]=Fn(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&ln.g?ln.g:null;return n&&(ln.g=ln[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(ln[o],t,r,a),o},n_=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Fn(a,""):a===!1?"":a}return r+s+(o??"")},"");function ll(e){let t=this||{},n=e.call?e(t.p):e;return t_(n.unshift?n.raw?n_(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,Qx(t.target),t.g,t.o,t.k)}let Ig,gc,yc;ll.bind({g:1});let Sn=ll.bind({k:1});function r_(e,t,n,r){Fn.p=t,Ig=e,gc=n,yc=r}function ur(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:gc&&gc()},a),n.o=/ *go\d+/.test(l),a.className=ll.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let c=e;return e[0]&&(c=a.as||e,delete a.as),yc&&c[0]&&yc(a),Ig(c,a)}return t?t(s):s}}var s_=e=>typeof e=="function",Ra=(e,t)=>s_(e)?e(t):e,i_=(()=>{let e=0;return()=>(++e).toString()})(),Rg=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),o_=20,Ag=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o_)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Ag(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},ia=[],Nr={toasts:[],pausedAt:void 0},Hr=e=>{Nr=Ag(Nr,e),ia.forEach(t=>{t(Nr)})},a_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},l_=(e={})=>{let[t,n]=j.useState(Nr),r=j.useRef(Nr);j.useEffect(()=>(r.current!==Nr&&n(Nr),ia.push(n),()=>{let i=ia.indexOf(n);i>-1&&ia.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||a_[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},u_=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||i_()}),oo=e=>(t,n)=>{let r=u_(t,e,n);return Hr({type:2,toast:r}),r.id},Ue=(e,t)=>oo("blank")(e,t);Ue.error=oo("error");Ue.success=oo("success");Ue.loading=oo("loading");Ue.custom=oo("custom");Ue.dismiss=e=>{Hr({type:3,toastId:e})};Ue.remove=e=>Hr({type:4,toastId:e});Ue.promise=(e,t,n)=>{let r=Ue.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Ra(t.success,s):void 0;return i?Ue.success(i,{id:r,...n,...n==null?void 0:n.success}):Ue.dismiss(r),s}).catch(s=>{let i=t.error?Ra(t.error,s):void 0;i?Ue.error(i,{id:r,...n,...n==null?void 0:n.error}):Ue.dismiss(r)}),e};var c_=(e,t)=>{Hr({type:1,toast:{id:e,height:t}})},d_=()=>{Hr({type:5,time:Date.now()})},_i=new Map,f_=1e3,h_=(e,t=f_)=>{if(_i.has(e))return;let n=setTimeout(()=>{_i.delete(e),Hr({type:4,toastId:e})},t);_i.set(e,n)},p_=e=>{let{toasts:t,pausedAt:n}=l_(e);j.useEffect(()=>{if(n)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Ue.dismiss(a.id);return}return setTimeout(()=>Ue.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=j.useCallback(()=>{n&&Hr({type:6,time:Date.now()})},[n]),s=j.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=t.filter(h=>(h.position||c)===(i.position||c)&&h.height),d=u.findIndex(h=>h.id===i.id),f=u.filter((h,p)=>p<d&&h.visible).length;return u.filter(h=>h.visible).slice(...a?[f+1]:[0,f]).reduce((h,p)=>h+(p.height||0)+l,0)},[t]);return j.useEffect(()=>{t.forEach(i=>{if(i.dismissed)h_(i.id,i.removeDelay);else{let o=_i.get(i.id);o&&(clearTimeout(o),_i.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:c_,startPause:d_,endPause:r,calculateOffset:s}}},m_=Sn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,g_=Sn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,y_=Sn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,v_=ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${m_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${g_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${y_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,w_=Sn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,x_=ur("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${w_} 1s linear infinite;
`,__=Sn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,b_=Sn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,S_=ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${__} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${b_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,k_=ur("div")`
  position: absolute;
`,E_=ur("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C_=Sn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T_=ur("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,j_=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?j.createElement(T_,null,t):t:n==="blank"?null:j.createElement(E_,null,j.createElement(x_,{...r}),n!=="loading"&&j.createElement(k_,null,n==="error"?j.createElement(v_,{...r}):j.createElement(S_,{...r})))},P_=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,N_=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,I_="0%{opacity:0;} 100%{opacity:1;}",R_="0%{opacity:1;} 100%{opacity:0;}",A_=ur("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,O_=ur("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,M_=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Rg()?[I_,R_]:[P_(n),N_(n)];return{animation:t?`${Sn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Sn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},L_=j.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?M_(e.position||t||"top-center",e.visible):{opacity:0},i=j.createElement(j_,{toast:e}),o=j.createElement(O_,{...e.ariaProps},Ra(e.message,e));return j.createElement(A_,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):j.createElement(j.Fragment,null,i,o))});r_(j.createElement);var D_=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=j.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return j.createElement("div",{ref:i,className:t,style:n},s)},U_=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Rg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},$_=ll`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lo=16,F_=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=p_(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Lo,left:Lo,right:Lo,bottom:Lo,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||t,d=l.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),f=U_(u,d);return j.createElement(D_,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?$_:"",style:f},c.type==="custom"?Ra(c.message,c):s?s(c):j.createElement(L_,{toast:c,position:u}))}))};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ji.apply(this,arguments)}var Hn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hn||(Hn={}));const Ah="popstate";function z_(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return vc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Mg(s)}return B_(t,n,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Og(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V_(){return Math.random().toString(36).substr(2,8)}function Oh(e,t){return{usr:e.state,key:e.key,idx:t}}function vc(e,t,n,r){return n===void 0&&(n=null),Ji({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vs(t):t,{state:n,key:t&&t.key||r||V_()})}function Mg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B_(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Hn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ji({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Hn.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:y})}function f(x,y){a=Hn.Push;let w=vc(v.location,x,y);n&&n(w,x),c=u()+1;let m=Oh(w,c),_=v.createHref(w);try{o.pushState(m,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(_)}i&&l&&l({action:a,location:v.location,delta:1})}function h(x,y){a=Hn.Replace;let w=vc(v.location,x,y);n&&n(w,x),c=u();let m=Oh(w,c),_=v.createHref(w);o.replaceState(m,"",_),i&&l&&l({action:a,location:v.location,delta:0})}function p(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:Mg(x);return w=w.replace(/ $/,"%20"),Ae(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let v={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ah,d),l=x,()=>{s.removeEventListener(Ah,d),l=null}},createHref(x){return t(s,x)},createURL:p,encodeLocation(x){let y=p(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(x){return o.go(x)}};return v}var Mh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mh||(Mh={}));function H_(e,t,n){return n===void 0&&(n="/"),W_(e,t,n,!1)}function W_(e,t,n,r){let s=typeof t=="string"?Vs(t):t,i=Ug(s.pathname||"/",n);if(i==null)return null;let o=Lg(e);J_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=r2(i);a=t2(o[l],c,r)}return a}function Lg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Mr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Lg(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Z_(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Dg(i.path))s(i,o,l)}),t}function Dg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Dg(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function J_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G_=/^:[\w-]+$/,q_=3,K_=2,X_=1,Y_=10,Q_=-2,Lh=e=>e==="*";function Z_(e,t){let n=e.split("/"),r=n.length;return n.some(Lh)&&(r+=Q_),t&&(r+=K_),n.filter(s=>!Lh(s)).reduce((s,i)=>s+(G_.test(i)?q_:i===""?X_:Y_),r)}function e2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function t2(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Dh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Dh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Mr([i,d.pathname]),pathnameBase:a2(Mr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Mr([i,d.pathnameBase]))}return o}function Dh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=n2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function n2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Og(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function r2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Og(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ug(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function s2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Vs(e):e;return{pathname:n?n.startsWith("/")?n:i2(n,t):t,search:l2(r),hash:u2(s)}}function i2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $g(e,t){let n=o2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Vs(e):(s=Ji({},e),Ae(!s.pathname||!s.pathname.includes("?"),nu("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),nu("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),nu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=s2(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Mr=e=>e.join("/").replace(/\/\/+/g,"/"),a2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zg=["post","put","patch","delete"];new Set(zg);const d2=["get",...zg];new Set(d2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gi.apply(this,arguments)}const Fd=j.createContext(null),f2=j.createContext(null),ao=j.createContext(null),ul=j.createContext(null),Wr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Vg=j.createContext(null);function lo(){return j.useContext(ul)!=null}function uo(){return lo()||Ae(!1),j.useContext(ul).location}function Bg(e){j.useContext(ao).static||j.useLayoutEffect(e)}function Bs(){let{isDataRoute:e}=j.useContext(Wr);return e?E2():h2()}function h2(){lo()||Ae(!1);let e=j.useContext(Fd),{basename:t,future:n,navigator:r}=j.useContext(ao),{matches:s}=j.useContext(Wr),{pathname:i}=uo(),o=JSON.stringify($g(s,n.v7_relativeSplatPath)),a=j.useRef(!1);return Bg(()=>{a.current=!0}),j.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Fg(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Mr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,i,e])}function p2(e,t){return m2(e,t)}function m2(e,t,n,r){lo()||Ae(!1);let{navigator:s,static:i}=j.useContext(ao),{matches:o}=j.useContext(Wr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=uo(),d;if(t){var f;let y=typeof t=="string"?Vs(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Ae(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=!i&&n&&n.matches&&n.matches.length>0?n.matches:H_(e,{pathname:p}),x=x2(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Mr([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Mr([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&x?j.createElement(ul.Provider,{value:{location:Gi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hn.Pop}},x):x}function g2(){let e=k2(),t=c2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,i)}const y2=j.createElement(g2,null);class v2 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(Wr.Provider,{value:this.props.routeContext},j.createElement(Vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w2(e){let{routeContext:t,match:n,children:r}=e,s=j.useContext(Fd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Wr.Provider,{value:t},r)}function x2(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ae(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,p=!1,v=null,x=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||y2,l&&(c<0&&f===0?(C2("route-fallback",!1),p=!0,x=null):c===f&&(p=!0,x=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let m;return h?m=v:p?m=x:d.route.Component?m=j.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=u,j.createElement(w2,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(v2,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Hg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hg||{}),Aa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Aa||{});function _2(e){let t=j.useContext(Fd);return t||Ae(!1),t}function b2(e){let t=j.useContext(f2);return t||Ae(!1),t}function S2(e){let t=j.useContext(Wr);return t||Ae(!1),t}function Wg(e){let t=S2(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function k2(){var e;let t=j.useContext(Vg),n=b2(Aa.UseRouteError),r=Wg(Aa.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function E2(){let{router:e}=_2(Hg.UseNavigateStable),t=Wg(Aa.UseNavigateStable),n=j.useRef(!1);return Bg(()=>{n.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Gi({fromRouteId:t},i)))},[e,t])}const Uh={};function C2(e,t,n){!t&&!Uh[e]&&(Uh[e]=!0)}function T2(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function hs(e){let{to:t,replace:n,state:r,relative:s}=e;lo()||Ae(!1);let{future:i,static:o}=j.useContext(ao),{matches:a}=j.useContext(Wr),{pathname:l}=uo(),c=Bs(),u=Fg(t,$g(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return j.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function Nn(e){Ae(!1)}function j2(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Hn.Pop,navigator:i,static:o=!1,future:a}=e;lo()&&Ae(!1);let l=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:i,static:o,future:Gi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Vs(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,v=j.useMemo(()=>{let x=Ug(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:h,key:p},navigationType:s}},[l,u,d,f,h,p,s]);return v==null?null:j.createElement(ao.Provider,{value:c},j.createElement(ul.Provider,{children:n,value:v}))}function P2(e){let{children:t,location:n}=e;return p2(wc(t),n)}new Promise(()=>{});function wc(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,s)=>{if(!j.isValidElement(r))return;let i=[...t,s];if(r.type===j.Fragment){n.push.apply(n,wc(r.props.children,i));return}r.type!==Nn&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wc(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const N2="6";try{window.__reactRouterVersion=N2}catch{}const I2="startTransition",$h=$1[I2];function R2(e){let{basename:t,children:n,future:r,window:s}=e,i=j.useRef();i.current==null&&(i.current=z_({window:s,v5Compat:!0}));let o=i.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=j.useCallback(d=>{c&&$h?$h(()=>l(d)):l(d)},[l,c]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.useEffect(()=>T2(r),[r]),j.createElement(j2,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Fh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fh||(Fh={}));var zh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zh||(zh={}));const Jg=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cl=j.createContext({}),dl=j.createContext(null),fl=typeof document<"u",zd=fl?j.useLayoutEffect:j.useEffect,Gg=j.createContext({strict:!1}),Vd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),A2="framerAppearId",qg="data-"+Vd(A2);function O2(e,t,n,r){const{visualElement:s}=j.useContext(cl),i=j.useContext(Gg),o=j.useContext(dl),a=j.useContext(Jg).reducedMotion,l=j.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;j.useInsertionEffect(()=>{c&&c.update(n,o)});const u=j.useRef(!!(n[qg]&&!window.HandoffComplete));return zd(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),j.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function ps(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function M2(e,t,n){return j.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ps(n)&&(n.current=r))},[t])}function qi(e){return typeof e=="string"||Array.isArray(e)}function hl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hd=["initial",...Bd];function pl(e){return hl(e.animate)||Hd.some(t=>qi(e[t]))}function Kg(e){return!!(pl(e)||e.variants)}function L2(e,t){if(pl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||qi(n)?n:void 0,animate:qi(r)?r:void 0}}return e.inherit!==!1?t:{}}function D2(e){const{initial:t,animate:n}=L2(e,j.useContext(cl));return j.useMemo(()=>({initial:t,animate:n}),[Vh(t),Vh(n)])}function Vh(e){return Array.isArray(e)?e.join(" "):e}const Bh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ki={};for(const e in Bh)Ki[e]={isEnabled:t=>Bh[e].some(n=>!!t[n])};function U2(e){for(const t in e)Ki[t]={...Ki[t],...e[t]}}const Wd=j.createContext({}),Xg=j.createContext({}),$2=Symbol.for("motionComponentSymbol");function F2({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&U2(e);function i(a,l){let c;const u={...j.useContext(Jg),...a,layoutId:z2(a)},{isStatic:d}=u,f=D2(a),h=r(a,d);if(!d&&fl){f.visualElement=O2(s,h,u,t);const p=j.useContext(Xg),v=j.useContext(Gg).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,v,e,p))}return j.createElement(cl.Provider,{value:f},c&&f.visualElement?j.createElement(c,{visualElement:f.visualElement,...u}):null,n(s,a,M2(h,f.visualElement,l),h,d,f.visualElement))}const o=j.forwardRef(i);return o[$2]=s,o}function z2({layoutId:e}){const t=j.useContext(Wd).id;return t&&e!==void 0?t+"-"+e:e}function V2(e){function t(r,s={}){return F2(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const B2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jd(e){return typeof e!="string"||e.includes("-")?!1:!!(B2.indexOf(e)>-1||/[A-Z]/.test(e))}const Oa={};function H2(e){Object.assign(Oa,e)}const co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jr=new Set(co);function Yg(e,{layout:t,layoutId:n}){return Jr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Oa[e]||e==="opacity")}const ht=e=>!!(e&&e.getVelocity),W2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J2=co.length;function G2(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<J2;o++){const a=co[o];if(e[a]!==void 0){const l=W2[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const Qg=e=>t=>typeof t=="string"&&t.startsWith(e),Zg=Qg("--"),xc=Qg("var(--"),q2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,K2=(e,t)=>t&&typeof e=="number"?t.transform(e):e,sr=(e,t,n)=>Math.min(Math.max(n,e),t),Gr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bi={...Gr,transform:e=>sr(0,1,e)},Do={...Gr,default:1},Si=e=>Math.round(e*1e5)/1e5,ml=/(-)?([\d]*\.?[\d])+/g,ey=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,X2=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function fo(e){return typeof e=="string"}const ho=e=>({test:t=>fo(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),In=ho("deg"),sn=ho("%"),G=ho("px"),Y2=ho("vh"),Q2=ho("vw"),Hh={...sn,parse:e=>sn.parse(e)/100,transform:e=>sn.transform(e*100)},Wh={...Gr,transform:Math.round},ty={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:In,rotateX:In,rotateY:In,rotateZ:In,scale:Do,scaleX:Do,scaleY:Do,scaleZ:Do,skew:In,skewX:In,skewY:In,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:bi,originX:Hh,originY:Hh,originZ:G,zIndex:Wh,fillOpacity:bi,strokeOpacity:bi,numOctaves:Wh};function Gd(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const f=t[d];if(Zg(d)){i[d]=f;continue}const h=ty[d],p=K2(f,h);if(Jr.has(d)){if(l=!0,o[d]=p,!u)continue;f!==(h.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=p):s[d]=p}if(t.transform||(l||r?s.transform=G2(e.transform,n,u,r):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=a;s.transformOrigin=`${d} ${f} ${h}`}}const qd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ny(e,t,n){for(const r in t)!ht(t[r])&&!Yg(r,n)&&(e[r]=t[r])}function Z2({transformTemplate:e},t,n){return j.useMemo(()=>{const r=qd();return Gd(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function eb(e,t,n){const r=e.style||{},s={};return ny(s,r,e),Object.assign(s,Z2(e,t,n)),e.transformValues?e.transformValues(s):s}function tb(e,t,n){const r={},s=eb(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const nb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ma(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nb.has(e)}let ry=e=>!Ma(e);function rb(e){e&&(ry=t=>t.startsWith("on")?!Ma(t):e(t))}try{rb(require("@emotion/is-prop-valid").default)}catch{}function sb(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(ry(s)||n===!0&&Ma(s)||!t&&!Ma(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Jh(e,t,n){return typeof e=="string"?e:G.transform(t+n*e)}function ib(e,t,n){const r=Jh(t,e.x,e.width),s=Jh(n,e.y,e.height);return`${r} ${s}`}const ob={offset:"stroke-dashoffset",array:"stroke-dasharray"},ab={offset:"strokeDashoffset",array:"strokeDasharray"};function lb(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?ob:ab;e[i.offset]=G.transform(-r);const o=G.transform(t),a=G.transform(n);e[i.array]=`${o} ${a}`}function Kd(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,f){if(Gd(e,c,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:v}=e;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=ib(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&lb(h,o,a,l,!1)}const sy=()=>({...qd(),attrs:{}}),Xd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ub(e,t,n,r){const s=j.useMemo(()=>{const i=sy();return Kd(i,t,{enableHardwareAcceleration:!1},Xd(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ny(i,e.style,e),s.style={...i,...s.style}}return s}function cb(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Jd(n)?ub:tb)(r,i,o,n),u={...sb(r,typeof n=="string",e),...l,ref:s},{children:d}=r,f=j.useMemo(()=>ht(d)?d.get():d,[d]);return j.createElement(n,{...u,children:f})}}function iy(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const oy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ay(e,t,n,r){iy(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(oy.has(s)?s:Vd(s),t.attrs[s])}function Yd(e,t){const{style:n}=e,r={};for(const s in n)(ht(n[s])||t.style&&ht(t.style[s])||Yg(s,e))&&(r[s]=n[s]);return r}function ly(e,t){const n=Yd(e,t);for(const r in e)if(ht(e[r])||ht(t[r])){const s=co.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Qd(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function uy(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const La=e=>Array.isArray(e),db=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),fb=e=>La(e)?e[e.length-1]||0:e;function oa(e){const t=ht(e)?e.get():e;return db(t)?t.toValue():t}function hb({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:pb(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const cy=e=>(t,n)=>{const r=j.useContext(cl),s=j.useContext(dl),i=()=>hb(e,t,r,s);return n?i():uy(i)};function pb(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=oa(i[f]);let{initial:o,animate:a}=e;const l=pl(e),c=Kg(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!hl(d)&&(Array.isArray(d)?d:[d]).forEach(h=>{const p=Qd(e,h);if(!p)return;const{transitionEnd:v,transition:x,...y}=p;for(const w in y){let m=y[w];if(Array.isArray(m)){const _=u?m.length-1:0;m=m[_]}m!==null&&(s[w]=m)}for(const w in v)s[w]=v[w]}),s}const Ee=e=>e;class Gh{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function mb(e){let t=new Gh,n=new Gh,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&s,f=d?t:n;return c&&o.add(l),f.add(l)&&d&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const u=t.order[c];u(l),o.has(u)&&(a.schedule(u),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const Uo=["prepare","read","update","preRender","render","postRender"],gb=40;function yb(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Uo.reduce((d,f)=>(d[f]=mb(()=>n=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,gb),1),s.timestamp=d,s.isProcessing=!0,Uo.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:Uo.reduce((d,f)=>{const h=i[f];return d[f]=(p,v=!1,x=!1)=>(n||l(),h.schedule(p,v,x)),d},{}),cancel:d=>Uo.forEach(f=>i[f].cancel(d)),state:s,steps:i}}const{schedule:ce,cancel:kn,state:Ke,steps:ru}=yb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ee,!0),vb={useVisualState:cy({scrapeMotionValuesFromProps:ly,createRenderState:sy,onMount:(e,t,{renderState:n,latestValues:r})=>{ce.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ce.render(()=>{Kd(n,r,{enableHardwareAcceleration:!1},Xd(t.tagName),e.transformTemplate),ay(t,n)})}})},wb={useVisualState:cy({scrapeMotionValuesFromProps:Yd,createRenderState:qd})};function xb(e,{forwardMotionProps:t=!1},n,r){return{...Jd(e)?vb:wb,preloadedFeatures:n,useRender:cb(t),createVisualElement:r,Component:e}}function pn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const dy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const _b=e=>t=>dy(t)&&e(t,gl(t));function yn(e,t,n,r){return pn(e,t,_b(n),r)}const bb=(e,t)=>n=>t(e(n)),er=(...e)=>e.reduce(bb);function fy(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const qh=fy("dragHorizontal"),Kh=fy("dragVertical");function hy(e){let t=!1;if(e==="y")t=Kh();else if(e==="x")t=qh();else{const n=qh(),r=Kh();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function py(){const e=hy(!0);return e?(e(),!1):!0}class cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Xh(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||py())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&ce.update(()=>a[r](i,o))};return yn(e.current,n,s,{passive:!e.getProps()[r]})}class Sb extends cr{mount(){this.unmount=er(Xh(this.node,!0),Xh(this.node,!1))}unmount(){}}class kb extends cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=er(pn(this.node.current,"focus",()=>this.onFocus()),pn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const my=(e,t)=>t?e===t?!0:my(e,t.parentElement):!1;function su(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gl(n))}class Eb extends cr{constructor(){super(...arguments),this.removeStartListeners=Ee,this.removeEndListeners=Ee,this.removeAccessibleListeners=Ee,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=yn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();ce.update(()=>{!d&&!my(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=yn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=er(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||su("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ce.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=pn(this.node.current,"keyup",o),su("down",(a,l)=>{this.startPress(a,l)})},n=pn(this.node.current,"keydown",t),r=()=>{this.isPressing&&su("cancel",(i,o)=>this.cancelPress(i,o))},s=pn(this.node.current,"blur",r);this.removeAccessibleListeners=er(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ce.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!py()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ce.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=yn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=pn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=er(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const _c=new WeakMap,iu=new WeakMap,Cb=e=>{const t=_c.get(e.target);t&&t(e)},Tb=e=>{e.forEach(Cb)};function jb({root:e,...t}){const n=e||document;iu.has(n)||iu.set(n,{});const r=iu.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Tb,{root:e,...t})),r[s]}function Pb(e,t,n){const r=jb(t);return _c.set(e,n),r.observe(e),()=>{_c.delete(e),r.unobserve(e)}}const Nb={some:0,all:1};class Ib extends cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Nb[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return Pb(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Rb(t,n))&&this.startObserver()}unmount(){}}function Rb({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ab={inView:{Feature:Ib},tap:{Feature:Eb},focus:{Feature:kb},hover:{Feature:Sb}};function gy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ob(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Mb(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function yl(e,t,n){const r=e.getProps();return Qd(r,t,n!==void 0?n:r.custom,Ob(e),Mb(e))}let Lb=Ee,Zd=Ee;const tr=e=>e*1e3,vn=e=>e/1e3,Db={current:!1},yy=e=>Array.isArray(e)&&typeof e[0]=="number";function vy(e){return!!(!e||typeof e=="string"&&wy[e]||yy(e)||Array.isArray(e)&&e.every(vy))}const ui=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,wy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ui([0,.65,.55,1]),circOut:ui([.55,0,1,.45]),backIn:ui([.31,.01,.66,-.59]),backOut:ui([.33,1.53,.69,.99])};function xy(e){if(e)return yy(e)?ui(e):Array.isArray(e)?e.map(xy):wy[e]}function Ub(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=xy(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function $b(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const _y=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Fb=1e-7,zb=12;function Vb(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=_y(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Fb&&++a<zb);return o}function po(e,t,n,r){if(e===t&&n===r)return Ee;const s=i=>Vb(i,0,1,e,n);return i=>i===0||i===1?i:_y(s(i),t,r)}const Bb=po(.42,0,1,1),Hb=po(0,0,.58,1),by=po(.42,0,.58,1),Wb=e=>Array.isArray(e)&&typeof e[0]!="number",Sy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ky=e=>t=>1-e(1-t),ef=e=>1-Math.sin(Math.acos(e)),Ey=ky(ef),Jb=Sy(ef),Cy=po(.33,1.53,.69,.99),tf=ky(Cy),Gb=Sy(tf),qb=e=>(e*=2)<1?.5*tf(e):.5*(2-Math.pow(2,-10*(e-1))),Kb={linear:Ee,easeIn:Bb,easeInOut:by,easeOut:Hb,circIn:ef,circInOut:Jb,circOut:Ey,backIn:tf,backInOut:Gb,backOut:Cy,anticipate:qb},Yh=e=>{if(Array.isArray(e)){Zd(e.length===4);const[t,n,r,s]=e;return po(t,n,r,s)}else if(typeof e=="string")return Kb[e];return e},nf=(e,t)=>n=>!!(fo(n)&&X2.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ty=(e,t,n)=>r=>{if(!fo(r))return r;const[s,i,o,a]=r.match(ml);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Xb=e=>sr(0,255,e),ou={...Gr,transform:e=>Math.round(Xb(e))},Ir={test:nf("rgb","red"),parse:Ty("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ou.transform(e)+", "+ou.transform(t)+", "+ou.transform(n)+", "+Si(bi.transform(r))+")"};function Yb(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const bc={test:nf("#"),parse:Yb,transform:Ir.transform},ms={test:nf("hsl","hue"),parse:Ty("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+sn.transform(Si(t))+", "+sn.transform(Si(n))+", "+Si(bi.transform(r))+")"},et={test:e=>Ir.test(e)||bc.test(e)||ms.test(e),parse:e=>Ir.test(e)?Ir.parse(e):ms.test(e)?ms.parse(e):bc.parse(e),transform:e=>fo(e)?e:e.hasOwnProperty("red")?Ir.transform(e):ms.transform(e)},we=(e,t,n)=>-n*e+n*t+e;function au(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Qb({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=au(l,a,e+1/3),i=au(l,a,e),o=au(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const lu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Zb=[bc,Ir,ms],eS=e=>Zb.find(t=>t.test(e));function Qh(e){const t=eS(e);let n=t.parse(e);return t===ms&&(n=Qb(n)),n}const jy=(e,t)=>{const n=Qh(e),r=Qh(t),s={...n};return i=>(s.red=lu(n.red,r.red,i),s.green=lu(n.green,r.green,i),s.blue=lu(n.blue,r.blue,i),s.alpha=we(n.alpha,r.alpha,i),Ir.transform(s))};function tS(e){var t,n;return isNaN(e)&&fo(e)&&(((t=e.match(ml))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(ey))===null||n===void 0?void 0:n.length)||0)>0}const Py={regex:q2,countKey:"Vars",token:"${v}",parse:Ee},Ny={regex:ey,countKey:"Colors",token:"${c}",parse:et.parse},Iy={regex:ml,countKey:"Numbers",token:"${n}",parse:Gr.parse};function uu(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Da(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&uu(n,Py),uu(n,Ny),uu(n,Iy),n}function Ry(e){return Da(e).values}function Ay(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Da(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(Py.token,o[l]):l<r+n?a=a.replace(Ny.token,et.transform(o[l])):a=a.replace(Iy.token,Si(o[l]));return a}}const nS=e=>typeof e=="number"?0:e;function rS(e){const t=Ry(e);return Ay(e)(t.map(nS))}const ir={test:tS,parse:Ry,createTransformer:Ay,getAnimatableNone:rS},Oy=(e,t)=>n=>`${n>0?t:e}`;function My(e,t){return typeof e=="number"?n=>we(e,t,n):et.test(e)?jy(e,t):e.startsWith("var(")?Oy(e,t):Dy(e,t)}const Ly=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>My(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},sS=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=My(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Dy=(e,t)=>{const n=ir.createTransformer(t),r=Da(e),s=Da(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?er(Ly(r.values,s.values),n):Oy(e,t)},Xi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Zh=(e,t)=>n=>we(e,t,n);function iS(e){return typeof e=="number"?Zh:typeof e=="string"?et.test(e)?jy:Dy:Array.isArray(e)?Ly:typeof e=="object"?sS:Zh}function oS(e,t,n){const r=[],s=n||iS(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ee:t;a=er(l,a)}r.push(a)}return r}function Uy(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Zd(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=oS(t,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=Xi(e[u],e[u+1],c);return o[u](d)};return n?c=>l(sr(e[0],e[i-1],c)):l}function aS(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Xi(0,t,r);e.push(we(n,1,s))}}function lS(e){const t=[0];return aS(t,e.length-1),t}function uS(e,t){return e.map(n=>n*t)}function cS(e,t){return e.map(()=>t||by).splice(0,e.length-1)}function Ua({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Wb(r)?r.map(Yh):Yh(r),i={done:!1,value:t[0]},o=uS(n&&n.length===t.length?n:lS(t),e),a=Uy(o,t,{ease:Array.isArray(s)?s:cS(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function $y(e,t){return t?e*(1e3/t):0}const dS=5;function Fy(e,t,n){const r=Math.max(t-dS,0);return $y(n-e(r),t-r)}const cu=.001,fS=.01,ep=10,hS=.05,pS=1;function mS({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i;Lb(e<=tr(ep));let o=1-t;o=sr(hS,pS,o),e=sr(fS,ep,vn(e)),o<1?(s=c=>{const u=c*o,d=u*e,f=u-n,h=Sc(c,o),p=Math.exp(-d);return cu-f/h*p},i=c=>{const d=c*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(c,2)*e,p=Math.exp(-d),v=Sc(Math.pow(c,2),o);return(-s(c)+cu>0?-1:1)*((f-h)*p)/v}):(s=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-cu+u*d},i=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=yS(s,i,a);if(e=tr(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const gS=12;function yS(e,t,n){let r=n;for(let s=1;s<gS;s++)r=r-e(r)/t(r);return r}function Sc(e,t){return e*Math.sqrt(1-t*t)}const vS=["duration","bounce"],wS=["stiffness","damping","mass"];function tp(e,t){return t.some(n=>e[n]!==void 0)}function xS(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!tp(e,wS)&&tp(e,vS)){const n=mS(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function zy({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=xS({...r,velocity:-vn(r.velocity||0)}),h=d||0,p=l/(2*Math.sqrt(a*c)),v=i-s,x=vn(Math.sqrt(a/c)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let w;if(p<1){const m=Sc(x,p);w=_=>{const T=Math.exp(-p*x*_);return i-T*((h+p*x*v)/m*Math.sin(m*_)+v*Math.cos(m*_))}}else if(p===1)w=m=>i-Math.exp(-x*m)*(v+(h+x*v)*m);else{const m=x*Math.sqrt(p*p-1);w=_=>{const T=Math.exp(-p*x*_),C=Math.min(m*_,300);return i-T*((h+p*x*v)*Math.sinh(C)+m*v*Math.cosh(C))/m}}return{calculatedDuration:f&&u||null,next:m=>{const _=w(m);if(f)o.done=m>=u;else{let T=h;m!==0&&(p<1?T=Fy(w,m,_):T=0);const C=Math.abs(T)<=n,N=Math.abs(i-_)<=t;o.done=C&&N}return o.value=o.done?i:_,o}}}function np({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=b=>a!==void 0&&b<a||l!==void 0&&b>l,p=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let v=n*t;const x=d+v,y=o===void 0?x:o(x);y!==x&&(v=y-d);const w=b=>-v*Math.exp(-b/r),m=b=>y+w(b),_=b=>{const k=w(b),P=m(b);f.done=Math.abs(k)<=c,f.value=f.done?y:P};let T,C;const N=b=>{h(f.value)&&(T=b,C=zy({keyframes:[f.value,p(f.value)],velocity:Fy(m,b,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:b=>{let k=!1;return!C&&T===void 0&&(k=!0,_(b),N(b)),T!==void 0&&b>T?C.next(b-T):(!k&&_(b),f)}}}const _S=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ce.update(t,!0),stop:()=>kn(t),now:()=>Ke.isProcessing?Ke.timestamp:performance.now()}},rp=2e4;function sp(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<rp;)t+=n,r=e.next(t);return t>=rp?1/0:t}const bS={decay:np,inertia:np,tween:Ua,keyframes:Ua,spring:zy};function $a({autoplay:e=!0,delay:t=0,driver:n=_S,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...f}){let h=1,p=!1,v,x;const y=()=>{x=new Promise(B=>{v=B})};y();let w;const m=bS[s]||Ua;let _;m!==Ua&&typeof r[0]!="number"&&(_=Uy([0,100],r,{clamp:!1}),r=[0,100]);const T=m({...f,keyframes:r});let C;a==="mirror"&&(C=m({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let N="idle",b=null,k=null,P=null;T.calculatedDuration===null&&i&&(T.calculatedDuration=sp(T));const{calculatedDuration:R}=T;let O=1/0,D=1/0;R!==null&&(O=R+o,D=O*(i+1)-o);let I=0;const U=B=>{if(k===null)return;h>0&&(k=Math.min(k,B)),h<0&&(k=Math.min(B-D/h,k)),b!==null?I=b:I=Math.round(B-k)*h;const z=I-t*(h>=0?1:-1),$=h>=0?z<0:z>D;I=Math.max(z,0),N==="finished"&&b===null&&(I=D);let V=I,F=T;if(i){const Q=Math.min(I,D)/O;let ne=Math.floor(Q),se=Q%1;!se&&Q>=1&&(se=1),se===1&&ne--,ne=Math.min(ne,i+1),!!(ne%2)&&(a==="reverse"?(se=1-se,o&&(se-=o/O)):a==="mirror"&&(F=C)),V=sr(0,1,se)*O}const J=$?{done:!1,value:r[0]}:F.next(V);_&&(J.value=_(J.value));let{done:ee}=J;!$&&R!==null&&(ee=h>=0?I>=D:I<=0);const re=b===null&&(N==="finished"||N==="running"&&ee);return d&&d(J.value),re&&L(),J},E=()=>{w&&w.stop(),w=void 0},S=()=>{N="idle",E(),v(),y(),k=P=null},L=()=>{N="finished",u&&u(),E(),v()},A=()=>{if(p)return;w||(w=n(U));const B=w.now();l&&l(),b!==null?k=B-b:(!k||N==="finished")&&(k=B),N==="finished"&&y(),P=k,b=null,N="running",w.start()};e&&A();const M={then(B,z){return x.then(B,z)},get time(){return vn(I)},set time(B){B=tr(B),I=B,b!==null||!w||h===0?b=B:k=w.now()-B/h},get duration(){const B=T.calculatedDuration===null?sp(T):T.calculatedDuration;return vn(B)},get speed(){return h},set speed(B){B===h||!w||(h=B,M.time=vn(I))},get state(){return N},play:A,pause:()=>{N="paused",b=I},stop:()=>{p=!0,N!=="idle"&&(N="idle",c&&c(),S())},cancel:()=>{P!==null&&U(P),S()},complete:()=>{N="finished"},sample:B=>(k=0,U(B))};return M}function SS(e){let t;return()=>(t===void 0&&(t=e()),t)}const kS=SS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ES=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$o=10,CS=2e4,TS=(e,t)=>t.type==="spring"||e==="backgroundColor"||!vy(t.ease);function jS(e,t,{onUpdate:n,onComplete:r,...s}){if(!(kS()&&ES.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(m=>{a=m})};u();let{keyframes:d,duration:f=300,ease:h,times:p}=s;if(TS(t,s)){const m=$a({...s,repeat:0,delay:0});let _={done:!1,value:d[0]};const T=[];let C=0;for(;!_.done&&C<CS;)_=m.sample(C),T.push(_.value),C+=$o;p=void 0,d=T,f=C-$o,h="linear"}const v=Ub(e.owner.current,t,d,{...s,duration:f,ease:h,times:p}),x=()=>{c=!1,v.cancel()},y=()=>{c=!0,ce.update(x),a(),u()};return v.onfinish=()=>{c||(e.set($b(d,s)),r&&r(),y())},{then(m,_){return l.then(m,_)},attachTimeline(m){return v.timeline=m,v.onfinish=null,Ee},get time(){return vn(v.currentTime||0)},set time(m){v.currentTime=tr(m)},get speed(){return v.playbackRate},set speed(m){v.playbackRate=m},get duration(){return vn(f)},play:()=>{o||(v.play(),kn(x))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:m}=v;if(m){const _=$a({...s,autoplay:!1});e.setWithVelocity(_.sample(m-$o).value,_.sample(m).value,$o)}y()},complete:()=>{c||v.finish()},cancel:y}}function PS({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ee,pause:Ee,stop:Ee,then:i=>(i(),Promise.resolve()),cancel:Ee,complete:Ee});return t?$a({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const NS={type:"spring",stiffness:500,damping:25,restSpeed:10},IS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RS={type:"keyframes",duration:.8},AS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OS=(e,{keyframes:t})=>t.length>2?RS:Jr.has(e)?e.startsWith("scale")?IS(t[1]):NS:AS,kc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ir.test(t)||t==="0")&&!t.startsWith("url(")),MS=new Set(["brightness","contrast","saturate","opacity"]);function LS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ml)||[];if(!r)return e;const s=n.replace(r,"");let i=MS.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const DS=/([a-z-]*)\(.*?\)/g,Ec={...ir,getAnimatableNone:e=>{const t=e.match(DS);return t?t.map(LS).join(" "):e}},US={...ty,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:Ec,WebkitFilter:Ec},rf=e=>US[e];function Vy(e,t){let n=rf(e);return n!==Ec&&(n=ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const By=e=>/^0[^.\s]+$/.test(e);function $S(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||By(e)}function FS(e,t,n,r){const s=kc(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),$S(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=Vy(t,a)}return i}function zS({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function sf(e,t){return e[t]||e.default||e}const VS={skipAnimations:!1},of=(e,t,n,r={})=>s=>{const i=sf(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-tr(o);const l=FS(t,e,n,i),c=l[0],u=l[l.length-1],d=kc(e,c),f=kc(e,u);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:p=>{t.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(zS(i)||(h={...h,...OS(e,h)}),h.duration&&(h.duration=tr(h.duration)),h.repeatDelay&&(h.repeatDelay=tr(h.repeatDelay)),!d||!f||Db.current||i.type===!1||VS.skipAnimations)return PS(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=jS(t,e,h);if(p)return p}return $a(h)};function Fa(e){return!!(ht(e)&&e.add)}const Hy=e=>/^\-?\d*\.?\d+$/.test(e);function af(e,t){e.indexOf(t)===-1&&e.push(t)}function lf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class uf{constructor(){this.subscriptions=[]}add(t){return af(this.subscriptions,t),()=>lf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const BS=e=>!isNaN(parseFloat(e));class HS{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ke;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ce.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ce.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=BS(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new uf);const r=this.events[t].add(n);return t==="change"?()=>{r(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$y(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(e,t){return new HS(e,t)}const Wy=e=>t=>t.test(e),WS={test:e=>e==="auto",parse:e=>e},Jy=[Gr,G,sn,In,Q2,Y2,WS],ni=e=>Jy.find(Wy(e)),JS=[...Jy,et,ir],GS=e=>JS.find(Wy(e));function qS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Os(n))}function KS(e,t){const n=yl(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=fb(i[o]);qS(e,o,a)}}function XS(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=t[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(s=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&s!==void 0?s:t[l]),u!=null&&(typeof u=="string"&&(Hy(u)||By(u))?u=parseFloat(u):!GS(u)&&ir.test(c)&&(u=Vy(l,c)),e.addValue(l,Os(u,{owner:e})),n[l]===void 0&&(n[l]=u),u!==null&&e.setBaseTarget(l,u))}}function YS(e,t){return t?(t[e]||t.default||t).from:void 0}function QS(e,t,n){const r={};for(const s in e){const i=YS(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function ZS({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ek(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Gy(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const f=e.getValue(d),h=a[d];if(!f||h===void 0||u&&ZS(u,d))continue;const p={delay:n,elapsed:0,...sf(i||{},d)};if(window.HandoffAppearAnimations){const y=e.getProps()[qg];if(y){const w=window.HandoffAppearAnimations(y,d,f,ce);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let v=!p.isHandoff&&!ek(f,h);if(p.type==="spring"&&(f.getVelocity()||p.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(of(d,f,h,e.shouldReduceMotion&&Jr.has(d)?{type:!1}:p));const x=f.animation;Fa(l)&&(l.add(d),x.then(()=>l.remove(d))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&KS(e,o)}),c}function Cc(e,t,n={}){const r=yl(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Gy(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=s;return tk(e,t,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function tk(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(nk).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Cc(c,t,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function nk(e,t){return e.sortNodePosition(t)}function rk(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Cc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Cc(e,t,n);else{const s=typeof t=="function"?yl(e,t,n.custom):t;r=Promise.all(Gy(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const sk=[...Bd].reverse(),ik=Bd.length;function ok(e){return t=>Promise.all(t.map(({animation:n,options:r})=>rk(e,n,r)))}function ak(e){let t=ok(e);const n=uk();let r=!0;const s=(l,c)=>{const u=yl(e,c);if(u){const{transition:d,transitionEnd:f,...h}=u;l={...l,...h,...f}}return l};function i(l){t=l(e)}function o(l,c){const u=e.getProps(),d=e.getVariantContext(!0)||{},f=[],h=new Set;let p={},v=1/0;for(let y=0;y<ik;y++){const w=sk[y],m=n[w],_=u[w]!==void 0?u[w]:d[w],T=qi(_),C=w===c?m.isActive:null;C===!1&&(v=y);let N=_===d[w]&&_!==u[w]&&T;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),m.protectedKeys={...p},!m.isActive&&C===null||!_&&!m.prevProp||hl(_)||typeof _=="boolean")continue;let k=lk(m.prevProp,_)||w===c&&m.isActive&&!N&&T||y>v&&T,P=!1;const R=Array.isArray(_)?_:[_];let O=R.reduce(s,{});C===!1&&(O={});const{prevResolvedValues:D={}}=m,I={...D,...O},U=E=>{k=!0,h.has(E)&&(P=!0,h.delete(E)),m.needsAnimating[E]=!0};for(const E in I){const S=O[E],L=D[E];if(p.hasOwnProperty(E))continue;let A=!1;La(S)&&La(L)?A=!gy(S,L):A=S!==L,A?S!==void 0?U(E):h.add(E):S!==void 0&&h.has(E)?U(E):m.protectedKeys[E]=!0}m.prevProp=_,m.prevResolvedValues=O,m.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(k=!1),k&&(!N||P)&&f.push(...R.map(E=>({animation:E,options:{type:w,...l}})))}if(h.size){const y={};h.forEach(w=>{const m=e.getBaseTarget(w);m!==void 0&&(y[w]=m)}),f.push({animation:y})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const f=o(u,l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function lk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gy(t,e):!1}function yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uk(){return{animate:yr(!0),whileInView:yr(),whileHover:yr(),whileTap:yr(),whileDrag:yr(),whileFocus:yr(),exit:yr()}}class ck extends cr{constructor(t){super(t),t.animationState||(t.animationState=ak(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),hl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let dk=0;class fk extends cr{constructor(){super(...arguments),this.id=dk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const hk={animation:{Feature:ck},exit:{Feature:fk}},ip=(e,t)=>Math.abs(e-t);function pk(e,t){const n=ip(e.x,t.x),r=ip(e.y,t.y);return Math.sqrt(n**2+r**2)}class qy{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=fu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=pk(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:v}=Ke;this.history.push({...p,timestamp:v});const{onStart:x,onMove:y}=this.handlers;f||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=du(f,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=fu(d.type==="pointercancel"?this.lastMoveEventInfo:du(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,x),p&&p(d,x)},!dy(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=gl(t),a=du(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ke;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,fu(a,this.history)),this.removeListeners=er(yn(this.contextWindow,"pointermove",this.handlePointerMove),yn(this.contextWindow,"pointerup",this.handlePointerUp),yn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),kn(this.updatePoint)}}function du(e,t){return t?{point:t(e.point)}:e}function op(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fu({point:e},t){return{point:e,delta:op(e,Ky(t)),offset:op(e,mk(t)),velocity:gk(t,.1)}}function mk(e){return e[0]}function Ky(e){return e[e.length-1]}function gk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Ky(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>tr(t)));)n--;if(!r)return{x:0,y:0};const i=vn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kt(e){return e.max-e.min}function Tc(e,t=0,n=.01){return Math.abs(e-t)<=n}function ap(e,t,n,r=.5){e.origin=r,e.originPoint=we(t.min,t.max,e.origin),e.scale=kt(n)/kt(t),(Tc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=we(n.min,n.max,e.origin)-e.originPoint,(Tc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ki(e,t,n,r){ap(e.x,t.x,n.x,r?r.originX:void 0),ap(e.y,t.y,n.y,r?r.originY:void 0)}function lp(e,t,n){e.min=n.min+t.min,e.max=e.min+kt(t)}function yk(e,t,n){lp(e.x,t.x,n.x),lp(e.y,t.y,n.y)}function up(e,t,n){e.min=t.min-n.min,e.max=e.min+kt(t)}function Ei(e,t,n){up(e.x,t.x,n.x),up(e.y,t.y,n.y)}function vk(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?we(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?we(n,e,r.max):Math.min(e,n)),e}function cp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wk(e,{top:t,left:n,bottom:r,right:s}){return{x:cp(e.x,n,s),y:cp(e.y,t,r)}}function dp(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xk(e,t){return{x:dp(e.x,t.x),y:dp(e.y,t.y)}}function _k(e,t){let n=.5;const r=kt(e),s=kt(t);return s>r?n=Xi(t.min,t.max-r,e.min):r>s&&(n=Xi(e.min,e.max-s,t.min)),sr(0,1,n)}function bk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jc=.35;function Sk(e=jc){return e===!1?e=0:e===!0&&(e=jc),{x:fp(e,"left","right"),y:fp(e,"top","bottom")}}function fp(e,t,n){return{min:hp(e,t),max:hp(e,n)}}function hp(e,t){return typeof e=="number"?e:e[t]||0}const pp=()=>({translate:0,scale:1,origin:0,originPoint:0}),gs=()=>({x:pp(),y:pp()}),mp=()=>({min:0,max:0}),Ie=()=>({x:mp(),y:mp()});function Nt(e){return[e("x"),e("y")]}function Xy({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function kk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ek(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hu(e){return e===void 0||e===1}function Pc({scale:e,scaleX:t,scaleY:n}){return!hu(e)||!hu(t)||!hu(n)}function br(e){return Pc(e)||Yy(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Yy(e){return gp(e.x)||gp(e.y)}function gp(e){return e&&e!=="0%"}function za(e,t,n){const r=e-n,s=t*r;return n+s}function yp(e,t,n,r,s){return s!==void 0&&(e=za(e,s,r)),za(e,n,r)+t}function Nc(e,t=0,n=1,r,s){e.min=yp(e.min,t,n,r,s),e.max=yp(e.max,t,n,r,s)}function Qy(e,{x:t,y:n}){Nc(e.x,t.translate,t.scale,t.originPoint),Nc(e.y,n.translate,n.scale,n.originPoint)}function Ck(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ys(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Qy(e,o)),r&&br(i.latestValues)&&ys(e,i.latestValues))}t.x=vp(t.x),t.y=vp(t.y)}function vp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ln(e,t){e.min=e.min+t,e.max=e.max+t}function wp(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=we(e.min,e.max,i);Nc(e,t[n],t[r],o,t.scale)}const Tk=["x","scaleX","originX"],jk=["y","scaleY","originY"];function ys(e,t){wp(e.x,t,Tk),wp(e.y,t,jk)}function Zy(e,t){return Xy(Ek(e.getBoundingClientRect(),t))}function Pk(e,t,n){const r=Zy(e,n),{scroll:s}=t;return s&&(Ln(r.x,s.offset.x),Ln(r.y,s.offset.y)),r}const ev=({current:e})=>e?e.ownerDocument.defaultView:null,Nk=new WeakMap;class Ik{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ie(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gl(u,"page").point)},i=(u,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hy(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nt(x=>{let y=this.getAxisMotionValue(x).get()||0;if(sn.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const m=w.layout.layoutBox[x];m&&(y=kt(m)*(parseFloat(y)/100))}}this.originPoint[x]=y}),p&&ce.update(()=>p(u,d),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=d;if(h&&this.currentDirection===null){this.currentDirection=Rk(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Nt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new qy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ev(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ce.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Fo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vk(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&ps(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=wk(s.layoutBox,n):this.constraints=!1,this.elastic=Sk(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Nt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=bk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ps(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Pk(r,s.root,this.visualElement.getTransformPagePoint());let o=xk(s.layout.layoutBox,i);if(n){const a=n(kk(o));this.hasMutatedConstraints=!!a,a&&(o=Xy(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Nt(u=>{if(!Fo(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(of(t,r,0,n))}stopAnimation(){Nt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Nt(n=>{const{drag:r}=this.getProps();if(!Fo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-we(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ps(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=_k({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nt(o=>{if(!Fo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(we(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Nk.set(this.visualElement,this);const t=this.visualElement.current,n=yn(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ps(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=pn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Nt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=jc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Fo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Rk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ak extends cr{constructor(t){super(t),this.removeGroupControls=Ee,this.removeListeners=Ee,this.controls=new Ik(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ee}unmount(){this.removeGroupControls(),this.removeListeners()}}const xp=e=>(t,n)=>{e&&ce.update(()=>e(t,n))};class Ok extends cr{constructor(){super(...arguments),this.removePointerDownListener=Ee}onPointerDown(t){this.session=new qy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ev(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:xp(t),onStart:xp(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ce.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=yn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Mk(){const e=j.useContext(dl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=j.useId();return j.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const aa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _p(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ri={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(G.test(e))e=parseFloat(e);else return e;const n=_p(e,t.target.x),r=_p(e,t.target.y);return`${n}% ${r}%`}},Lk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ir.parse(e);if(s.length>5)return r;const i=ir.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=we(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class Dk extends ye.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;H2(Uk),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),aa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tv(e){const[t,n]=Mk(),r=j.useContext(Wd);return ye.createElement(Dk,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(Xg),isPresent:t,safeToRemove:n})}const Uk={borderRadius:{...ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ri,borderTopRightRadius:ri,borderBottomLeftRadius:ri,borderBottomRightRadius:ri,boxShadow:Lk},nv=["TopLeft","TopRight","BottomLeft","BottomRight"],$k=nv.length,bp=e=>typeof e=="string"?parseFloat(e):e,Sp=e=>typeof e=="number"||G.test(e);function Fk(e,t,n,r,s,i){s?(e.opacity=we(0,n.opacity!==void 0?n.opacity:1,zk(r)),e.opacityExit=we(t.opacity!==void 0?t.opacity:1,0,Vk(r))):i&&(e.opacity=we(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$k;o++){const a=`border${nv[o]}Radius`;let l=kp(t,a),c=kp(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Sp(l)===Sp(c)?(e[a]=Math.max(we(bp(l),bp(c),r),0),(sn.test(c)||sn.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=we(t.rotate||0,n.rotate||0,r))}function kp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zk=rv(0,.5,Ey),Vk=rv(.5,.95,Ee);function rv(e,t,n){return r=>r<e?0:r>t?1:n(Xi(e,t,r))}function Ep(e,t){e.min=t.min,e.max=t.max}function jt(e,t){Ep(e.x,t.x),Ep(e.y,t.y)}function Cp(e,t,n,r,s){return e-=t,e=za(e,1/n,r),s!==void 0&&(e=za(e,1/s,r)),e}function Bk(e,t=0,n=1,r=.5,s,i=e,o=e){if(sn.test(t)&&(t=parseFloat(t),t=we(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=we(i.min,i.max,r);e===i&&(a-=t),e.min=Cp(e.min,t,n,a,s),e.max=Cp(e.max,t,n,a,s)}function Tp(e,t,[n,r,s],i,o){Bk(e,t[n],t[r],t[s],t.scale,i,o)}const Hk=["x","scaleX","originX"],Wk=["y","scaleY","originY"];function jp(e,t,n,r){Tp(e.x,t,Hk,n?n.x:void 0,r?r.x:void 0),Tp(e.y,t,Wk,n?n.y:void 0,r?r.y:void 0)}function Pp(e){return e.translate===0&&e.scale===1}function sv(e){return Pp(e.x)&&Pp(e.y)}function Jk(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function iv(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Np(e){return kt(e.x)/kt(e.y)}class Gk{constructor(){this.members=[]}add(t){af(this.members,t),t.scheduleRender()}remove(t){if(lf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ip(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const qk=(e,t)=>e.depth-t.depth;class Kk{constructor(){this.children=[],this.isDirty=!1}add(t){af(this.children,t),this.isDirty=!0}remove(t){lf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qk),this.isDirty=!1,this.children.forEach(t)}}function Xk(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(kn(r),e(i-t))};return ce.read(r,!0),()=>kn(r)}function Yk(e){window.MotionDebug&&window.MotionDebug.record(e)}function Qk(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Zk(e,t,n){const r=ht(e)?e:Os(e);return r.start(of("",r,t,n)),r.animation}const Rp=["","X","Y","Z"],eE={visibility:"hidden"},Ap=1e3;let tE=0;const Sr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ov({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=tE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sr.totalNodes=Sr.resolvedTargetDeltas=Sr.recalculatedProjection=0,this.nodes.forEach(sE),this.nodes.forEach(uE),this.nodes.forEach(cE),this.nodes.forEach(iE),Yk(Sr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kk)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new uf),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qk(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Xk(f,250),aa.hasAnimatedSinceResize&&(aa.hasAnimatedSinceResize=!1,this.nodes.forEach(Mp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||mE,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!iv(this.targetLayout,p)||h,m=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,m);const _={...sf(v,"layout"),onPlay:x,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||Mp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Op);return}this.isUpdating||this.nodes.forEach(aE),this.isUpdating=!1,this.nodes.forEach(lE),this.nodes.forEach(nE),this.nodes.forEach(rE),this.clearAllSnapshots();const a=performance.now();Ke.delta=sr(0,1e3/60,a-Ke.timestamp),Ke.timestamp=a,Ke.isProcessing=!0,ru.update.process(Ke),ru.preRender.process(Ke),ru.render.process(Ke),Ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(oE),this.sharedNodes.forEach(fE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!sv(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||br(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),gE(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ie();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ln(a.x,l.offset.x),Ln(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ie();jt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){jt(a,o);const{scroll:f}=this.root;f&&(Ln(a.x,-f.offset.x),Ln(a.y,-f.offset.y))}Ln(a.x,u.offset.x),Ln(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Ie();jt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ys(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),br(u.latestValues)&&ys(l,u.latestValues)}return br(this.latestValues)&&ys(l,this.latestValues),l}removeTransform(o){const a=Ie();jt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!br(c.latestValues))continue;Pc(c.latestValues)&&c.updateSnapshot();const u=Ie(),d=c.measurePageBox();jt(u,d),jp(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return br(this.latestValues)&&jp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ke.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Ei(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ie(),this.targetWithTransforms=Ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jt(this.target,this.layout.layoutBox),Qy(this.target,this.targetDelta)):jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Ei(this.relativeTargetOrigin,this.target,h.target),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Pc(this.parent.latestValues)||Yy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ke.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;jt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Ck(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=gs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=gs(),this.projectionDeltaWithTransform=gs());const v=this.projectionTransform;ki(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Ip(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Sr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=gs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ie(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=h!==p,x=this.getStack(),y=!x||x.members.length<=1,w=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(pE));this.animationProgress=0;let m;this.mixTargetDelta=_=>{const T=_/1e3;Lp(d.x,o.x,T),Lp(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ei(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hE(this.relativeTarget,this.relativeTargetOrigin,f,T),m&&Jk(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=Ie()),jt(m,this.relativeTarget)),v&&(this.animationValues=u,Fk(u,c,this.latestValues,T,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{aa.hasAnimatedSinceResize=!0,this.currentAnimation=Zk(0,Ap,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ap),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&av(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ie();const d=kt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=kt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}jt(a,l),ys(a,u),ki(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Gk),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Rp.length;u++){const d="rotate"+Rp[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eE;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=oa(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=oa(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!br(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Ip(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:h,y:p}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Oa){if(f[v]===void 0)continue;const{correct:x,applyTo:y}=Oa[v],w=c.transform==="none"?f[v]:x(f[v],d);if(y){const m=y.length;for(let _=0;_<m;_++)c[y[_]]=w}else c[v]=w}return this.options.layoutId&&(c.pointerEvents=d===this?oa(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Op),this.root.sharedNodes.clear()}}}function nE(e){e.updateLayout()}function rE(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Nt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=kt(f);f.min=r[d].min,f.max=f.min+h}):av(i,n.layoutBox,r)&&Nt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=kt(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=gs();ki(a,r,n.layoutBox);const l=gs();o?ki(l,e.applyTransform(s,!0),n.measuredBox):ki(l,r,n.layoutBox);const c=!sv(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=Ie();Ei(p,n.layoutBox,f.layoutBox);const v=Ie();Ei(v,r,h.layoutBox),iv(p,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function sE(e){Sr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oE(e){e.clearSnapshot()}function Op(e){e.clearMeasurements()}function aE(e){e.isLayoutDirty=!1}function lE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uE(e){e.resolveTargetDelta()}function cE(e){e.calcProjection()}function dE(e){e.resetRotation()}function fE(e){e.removeLeadSnapshot()}function Lp(e,t,n){e.translate=we(t.translate,0,n),e.scale=we(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Dp(e,t,n,r){e.min=we(t.min,n.min,r),e.max=we(t.max,n.max,r)}function hE(e,t,n,r){Dp(e.x,t.x,n.x,r),Dp(e.y,t.y,n.y,r)}function pE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mE={duration:.45,ease:[.4,0,.1,1]},Up=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),$p=Up("applewebkit/")&&!Up("chrome/")?Math.round:Ee;function Fp(e){e.min=$p(e.min),e.max=$p(e.max)}function gE(e){Fp(e.x),Fp(e.y)}function av(e,t,n){return e==="position"||e==="preserve-aspect"&&!Tc(Np(t),Np(n),.2)}const yE=ov({attachResizeListener:(e,t)=>pn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pu={current:void 0},lv=ov({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pu.current){const e=new yE({});e.mount(window),e.setOptions({layoutScroll:!0}),pu.current=e}return pu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vE={pan:{Feature:Ok},drag:{Feature:Ak,ProjectionNode:lv,MeasureLayout:tv}},wE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xE(e){const t=wE.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Ic(e,t,n=1){const[r,s]=xE(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Hy(o)?parseFloat(o):o}else return xc(s)?Ic(s,t,n+1):s}function _E(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!xc(i))return;const o=Ic(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!xc(i))continue;const o=Ic(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const bE=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uv=e=>bE.has(e),SE=e=>Object.keys(e).some(uv),zp=e=>e===Gr||e===G,Vp=(e,t)=>parseFloat(e.split(", ")[t]),Bp=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Vp(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Vp(i[1],e):0}},kE=new Set(["x","y","z"]),EE=co.filter(e=>!kE.has(e));function CE(e){const t=[];return EE.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ms={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Bp(4,13),y:Bp(5,14)};Ms.translateX=Ms.x;Ms.translateY=Ms.y;const TE=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=Ms[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const u=t.getValue(c);u&&u.jump(a[c]),e[c]=Ms[c](l,i)}),e},jE=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(uv);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let u=n[l],d=ni(u);const f=t[l];let h;if(La(f)){const p=f.length,v=f[0]===null?1:0;u=f[v],d=ni(u);for(let x=v;x<p&&f[x]!==null;x++)h?Zd(ni(f[x])===h):h=ni(f[x])}else h=ni(f);if(d!==h)if(zp(d)&&zp(h)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&h===G&&(t[l]=f.map(parseFloat))}else d!=null&&d.transform&&(h!=null&&h.transform)&&(u===0||f===0)?u===0?c.set(h.transform(u)):t[l]=d.transform(f):(o||(i=CE(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=TE(t,e,a);return i.length&&i.forEach(([u,d])=>{e.getValue(u).set(d)}),e.render(),fl&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function PE(e,t,n,r){return SE(t)?jE(e,t,n,r):{target:t,transitionEnd:r}}const NE=(e,t,n,r)=>{const s=_E(e,t,r);return t=s.target,r=s.transitionEnd,PE(e,t,n,r)},Rc={current:null},cv={current:!1};function IE(){if(cv.current=!0,!!fl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rc.current=e.matches;e.addListener(t),t()}else Rc.current=!1}function RE(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(ht(i))e.addValue(s,i),Fa(r)&&r.add(s);else if(ht(o))e.addValue(s,Os(i,{owner:e})),Fa(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Os(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Hp=new WeakMap,dv=Object.keys(Ki),AE=dv.length,Wp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],OE=Hd.length;class ME{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ce.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=pl(n),this.isVariantNode=Kg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const f=u[d];a[d]!==void 0&&ht(f)&&(f.set(a[d],!1),Fa(c)&&c.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Hp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cv.current||IE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Hp.delete(this.current),this.projection&&this.projection.unmount(),kn(this.notifyUpdate),kn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Jr.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ce.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let l=0;l<AE;l++){const c=dv[l],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:h}=Ki[c];f&&(o=f),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),h&&(a=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&ps(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:h})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ie()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Wp.length;r++){const s=Wp[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=RE(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<OE;r++){const s=Hd[r],i=this.props[s];(qi(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Os(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Qd(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ht(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new uf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class fv extends ME{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=QS(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){XS(this,r,o);const a=NE(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function LE(e){return window.getComputedStyle(e)}class DE extends fv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Jr.has(n)){const r=rf(n);return r&&r.default||0}else{const r=LE(t),s=(Zg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Zy(t,n)}build(t,n,r,s){Gd(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Yd(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ht(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){iy(t,n,r,s)}}class UE extends fv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jr.has(n)){const r=rf(n);return r&&r.default||0}return n=oy.has(n)?n:Vd(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ie()}scrapeMotionValuesFromProps(t,n){return ly(t,n)}build(t,n,r,s){Kd(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){ay(t,n,r,s)}mount(t){this.isSVGTag=Xd(t.tagName),super.mount(t)}}const $E=(e,t)=>Jd(e)?new UE(t,{enableHardwareAcceleration:!1}):new DE(t,{enableHardwareAcceleration:!0}),FE={layout:{ProjectionNode:lv,MeasureLayout:tv}},zE={...hk,...Ab,...vE,...FE},vt=V2((e,t)=>xb(e,t,zE,$E));function hv(){const e=j.useRef(!1);return zd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function VE(){const e=hv(),[t,n]=j.useState(0),r=j.useCallback(()=>{e.current&&n(t+1)},[t]);return[j.useCallback(()=>ce.postRender(r),[r]),t]}class BE extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function HE({children:e,isPresent:t}){const n=j.useId(),r=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),j.createElement(BE,{isPresent:t,childRef:r,sizeRef:s},j.cloneElement(e,{ref:r}))}const mu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=uy(WE),l=j.useId(),c=j.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[n]);return j.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),j.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=j.createElement(HE,{isPresent:n},e)),j.createElement(dl.Provider,{value:c},e)};function WE(){return new Map}function JE(e){return j.useEffect(()=>()=>e(),[])}const kr=e=>e.key||"";function GE(e,t){e.forEach(n=>{const r=kr(n);t.set(r,n)})}function qE(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const pv=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=j.useContext(Wd).forceRender||VE()[0],l=hv(),c=qE(e);let u=c;const d=j.useRef(new Map).current,f=j.useRef(u),h=j.useRef(new Map).current,p=j.useRef(!0);if(zd(()=>{p.current=!1,GE(c,h),f.current=u}),JE(()=>{p.current=!0,h.clear(),d.clear()}),p.current)return j.createElement(j.Fragment,null,u.map(w=>j.createElement(mu,{key:kr(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},w)));u=[...u];const v=f.current.map(kr),x=c.map(kr),y=v.length;for(let w=0;w<y;w++){const m=v[w];x.indexOf(m)===-1&&!d.has(m)&&d.set(m,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((w,m)=>{if(x.indexOf(m)!==-1)return;const _=h.get(m);if(!_)return;const T=v.indexOf(m);let C=w;if(!C){const N=()=>{d.delete(m);const b=Array.from(h.keys()).filter(k=>!x.includes(k));if(b.forEach(k=>h.delete(k)),f.current=c.filter(k=>{const P=kr(k);return P===m||b.includes(P)}),!d.size){if(l.current===!1)return;a(),r&&r()}};C=j.createElement(mu,{key:kr(_),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:i,mode:o},_),d.set(m,C)}u.splice(T,0,C)}),u=u.map(w=>{const m=w.key;return d.has(m)?w:j.createElement(mu,{key:kr(w),isPresent:!0,presenceAffectsLayout:i,mode:o},w)}),j.createElement(j.Fragment,null,d.size?u:u.map(w=>j.cloneElement(w)))},Jp=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{n.clear()}},c=t=e(r,s,l);return l},KE=e=>e?Jp(e):Jp;var mv={exports:{}},gv={},yv={exports:{}},vv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=j;function XE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YE=typeof Object.is=="function"?Object.is:XE,QE=Ls.useState,ZE=Ls.useEffect,eC=Ls.useLayoutEffect,tC=Ls.useDebugValue;function nC(e,t){var n=t(),r=QE({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return eC(function(){s.value=n,s.getSnapshot=t,gu(s)&&i({inst:s})},[e,n,t]),ZE(function(){return gu(s)&&i({inst:s}),e(function(){gu(s)&&i({inst:s})})},[e]),tC(n),n}function gu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!YE(e,n)}catch{return!0}}function rC(e,t){return t()}var sC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rC:nC;vv.useSyncExternalStore=Ls.useSyncExternalStore!==void 0?Ls.useSyncExternalStore:sC;yv.exports=vv;var iC=yv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=j,oC=iC;function aC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lC=typeof Object.is=="function"?Object.is:aC,uC=oC.useSyncExternalStore,cC=vl.useRef,dC=vl.useEffect,fC=vl.useMemo,hC=vl.useDebugValue;gv.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=cC(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=fC(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return d=p}return d=h}if(p=d,lC(u,h))return p;var v=r(h);return s!==void 0&&s(p,v)?(u=h,p):(u=h,d=v)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=uC(e,i[0],i[1]);return dC(function(){o.hasValue=!0,o.value=a},[a]),hC(a),a};mv.exports=gv;var pC=mv.exports;const mC=Wc(pC),{useDebugValue:gC}=ye,{useSyncExternalStoreWithSelector:yC}=mC;const vC=e=>e;function wC(e,t=vC,n){const r=yC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return gC(r),r}const Gp=e=>{const t=typeof e=="function"?KE(e):e,n=(r,s)=>wC(t,r,s);return Object.assign(n,t),n},xC=e=>e?Gp(e):Gp;function _C(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,t==null?void 0:t.reviver),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,t==null?void 0:t.replacer)),removeItem:s=>n.removeItem(s)}}const Yi=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Yi(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Yi(r)(n)}}}},bC=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,y)=>({...y,...x}),...t},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const u=Yi(i.serialize),d=()=>{const x=i.partialize({...r()});let y;const w=u({state:x,version:i.version}).then(m=>c.setItem(i.name,m)).catch(m=>{y=m});if(y)throw y;return w},f=s.setState;s.setState=(x,y)=>{f(x,y),d()};const h=e((...x)=>{n(...x),d()},r,s);let p;const v=()=>{var x;if(!c)return;o=!1,a.forEach(w=>w(r()));const y=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return Yi(c.getItem.bind(c))(i.name).then(w=>{if(w)return i.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return i.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var m;return p=i.merge(w,(m=r())!=null?m:h),n(p,!0),d()}).then(()=>{y==null||y(p,void 0),o=!0,l.forEach(w=>w(p))}).catch(w=>{y==null||y(void 0,w)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},v(),p||h},SC=(e,t)=>(n,r,s)=>{let i={storage:_C(()=>localStorage),partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...t},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},d=s.setState;s.setState=(v,x)=>{d(v,x),u()};const f=e((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>f;let h;const p=()=>{var v,x;if(!c)return;o=!1,a.forEach(w=>{var m;return w((m=r())!=null?m:f)});const y=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(v=r())!=null?v:f))||void 0;return Yi(c.getItem.bind(c))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return[!0,i.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var m;const[_,T]=w;if(h=i.merge(T,(m=r())!=null?m:f),n(h,!0),_)return u()}).then(()=>{y==null||y(h,void 0),h=r(),o=!0,l.forEach(w=>w(h))}).catch(w=>{y==null||y(void 0,w)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||p(),h||f},kC=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?bC(e,t):SC(e,t),EC=kC,CC="modulepreload",TC=function(e){return"/"+e},qp={},Ds=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=TC(i),i in qp)return;qp[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===i&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":CC,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},jC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ds(()=>Promise.resolve().then(()=>Hs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class cf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class PC extends cf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class NC extends cf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class IC extends cf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ac;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ac||(Ac={}));var RC=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class AC{constructor(t,{headers:n={},customFetch:r,region:s=Ac.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=jC(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return RC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(p=>{throw new PC(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new NC(u);if(!u.ok)throw new IC(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var lt={},df={},wl={},mo={},xl={},_l={},OC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Us=OC();const MC=Us.fetch,wv=Us.fetch.bind(Us),xv=Us.Headers,LC=Us.Request,DC=Us.Response,Hs=Object.freeze(Object.defineProperty({__proto__:null,Headers:xv,Request:LC,Response:DC,default:wv,fetch:MC},Symbol.toStringTag,{value:"Module"})),UC=S1(Hs);var bl={};Object.defineProperty(bl,"__esModule",{value:!0});let $C=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bl.default=$C;var _v=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_l,"__esModule",{value:!0});const FC=_v(UC),zC=_v(bl);let VC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=FC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,h="OK")}catch{i.status===404&&v===""?(f=204,h="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,h="OK"),c&&this.shouldThrowOnError)throw new zC.default(c)}return{error:c,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};_l.default=VC;var BC=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xl,"__esModule",{value:!0});const HC=BC(_l);let WC=class extends HC.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xl.default=WC;var JC=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mo,"__esModule",{value:!0});const GC=JC(xl);let qC=class extends GC.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};mo.default=qC;var KC=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wl,"__esModule",{value:!0});const si=KC(mo);let XC=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new si.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new si.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new si.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wl.default=XC;var Sl={},kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.version=void 0;kl.version="0.0.0-automated";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.DEFAULT_HEADERS=void 0;const YC=kl;Sl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${YC.version}`};var bv=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(df,"__esModule",{value:!0});const QC=bv(wl),ZC=bv(mo),eT=Sl;let tT=class Sv{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},eT.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new QC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Sv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new ZC.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};df.default=tT;var Ws=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lt,"__esModule",{value:!0});lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const kv=Ws(df);lt.PostgrestClient=kv.default;const Ev=Ws(wl);lt.PostgrestQueryBuilder=Ev.default;const Cv=Ws(mo);lt.PostgrestFilterBuilder=Cv.default;const Tv=Ws(xl);lt.PostgrestTransformBuilder=Tv.default;const jv=Ws(_l);lt.PostgrestBuilder=jv.default;const Pv=Ws(bl);lt.PostgrestError=Pv.default;var nT=lt.default={PostgrestClient:kv.default,PostgrestQueryBuilder:Ev.default,PostgrestFilterBuilder:Cv.default,PostgrestTransformBuilder:Tv.default,PostgrestBuilder:jv.default,PostgrestError:Pv.default};const{PostgrestClient:rT,PostgrestQueryBuilder:$3,PostgrestFilterBuilder:F3,PostgrestTransformBuilder:z3,PostgrestBuilder:V3,PostgrestError:B3}=nT,sT="2.11.2",iT={"X-Client-Info":`realtime-js/${sT}`},oT="1.0.0",Nv=1e4,aT=1e3;var Cs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cs||(Cs={}));var yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yt||(yt={}));var zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zt||(zt={}));var Oc;(function(e){e.websocket="websocket"})(Oc||(Oc={}));var Cr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cr||(Cr={}));class lT{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Iv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const Kp=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=uT(o,e,t,s),i),{})},uT=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Rv(i,o):Mc(o)},Rv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return hT(t,n)}switch(e){case ae.bool:return cT(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return dT(t);case ae.json:case ae.jsonb:return fT(t);case ae.timestamp:return pT(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Mc(t);default:return Mc(t)}},Mc=e=>e,cT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rv(t,a))}return e},pT=e=>typeof e=="string"?e.replace(" ","T"):e,Av=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yu{constructor(t,n,r={},s=Nv){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xp||(Xp={}));class Ci{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ci.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ci.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ci.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(x=>x.presence_ref),h=d.map(x=>x.presence_ref),p=u.filter(x=>h.indexOf(x.presence_ref)<0),v=d.filter(x=>f.indexOf(x.presence_ref)<0);p.length>0&&(a[c]=p),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yp||(Yp={}));var Qp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qp||(Qp={}));var cn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(cn||(cn={}));class ff{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yu(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ci(this),this.broadcastEndpointURL=Av(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(cn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(cn.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(cn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,p=[];for(let v=0;v<h;v++){const x=f[v],{filter:{event:y,schema:w,table:m,filter:_}}=x,T=u&&u[v];if(T&&T.event===y&&T.schema===w&&T.table===m&&T.filter===_)p.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),t==null||t(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(cn.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new yu(this,zt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yu(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=zt;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var p,v,x;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(v=h.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var p,v,x,y,w,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,T=(p=h.filter)===null||p===void 0?void 0:p.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:v,table:x,commit_timestamp:y,type:w,errors:m}=p;f=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:m}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ff.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zt.close,{},t)}_onError(t){this._on(zt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Kp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Kp(t.columns,t.old_record)),n}}const mT=()=>{},gT=typeof WebSocket<"u",yT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vT{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=iT,this.params={},this.timeout=Nv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mT,this.conn=null,this.sendBuffer=[],this.serializer=new lT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ds(()=>Promise.resolve().then(()=>Hs),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Oc.websocket}`,this.httpEndpoint=Av(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Iv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gT){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new wT(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ds(()=>import("./browser-b6025cd2.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oT}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cs.connecting:return Cr.Connecting;case Cs.open:return Cr.Open;case Cs.closing:return Cr.Closing;default:return Cr.Closed}}isConnected(){return this.connectionState()===Cr.Open}channel(t,n={config:{}}){const r=new ff(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(zt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(aT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(zt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([yT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class wT{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Cs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class hf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class xT extends hf{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lc extends hf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var _T=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Ov=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ds(()=>Promise.resolve().then(()=>Hs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},bT=()=>_T(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ds(()=>Promise.resolve().then(()=>Hs),void 0)).Response:Response}),Dc=e=>{if(Array.isArray(e))return e.map(n=>Dc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Dc(r)}),t};var qr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const vu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ST=(e,t,n)=>qr(void 0,void 0,void 0,function*(){const r=yield bT();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new xT(vu(s),e.status||500))}).catch(s=>{t(new Lc(vu(s),s))}):t(new Lc(vu(e),e))}),kT=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function go(e,t,n,r,s,i){return qr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,kT(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ST(l,a,r))})})}function Va(e,t,n,r){return qr(this,void 0,void 0,function*(){return go(e,"GET",t,n,r)})}function Dn(e,t,n,r,s){return qr(this,void 0,void 0,function*(){return go(e,"POST",t,r,s,n)})}function ET(e,t,n,r,s){return qr(this,void 0,void 0,function*(){return go(e,"PUT",t,r,s,n)})}function CT(e,t,n,r){return qr(this,void 0,void 0,function*(){return go(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Mv(e,t,n,r,s){return qr(this,void 0,void 0,function*(){return go(e,"DELETE",t,r,s,n)})}var it=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const TT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jT{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Ov(s)}uploadOrUpdate(t,n,r,s){return it(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Zp),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}upload(t,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return it(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Zp.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Le(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return it(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Dn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new hf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}update(t,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return it(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}copy(t,n,r){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return it(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Dn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return it(this,void 0,void 0,function*(){try{const s=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}download(t,n){return it(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Va(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}info(t){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Va(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dc(r),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}exists(t){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield CT(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Le(r)&&r instanceof Lc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return it(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}list(t,n,r){return it(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},TT),n),{prefix:t||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const PT="2.7.1",NT={"X-Client-Info":`storage-js/${PT}`};var Yr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class IT{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},NT),n),this.fetch=Ov(r)}listBuckets(){return Yr(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Yr(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Yr(this,void 0,void 0,function*(){try{return{data:yield ET(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}}class RT extends IT{constructor(t,n={},r){super(t,n,r)}from(t){return new jT(this.url,this.headers,t,this.fetch)}}const AT="2.49.3";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const OT={"X-Client-Info":`supabase-js-${ci}/${AT}`},MT={headers:OT},LT={schema:"public"},DT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UT={};var $T=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const FT=e=>{let t;return e?t=e:typeof fetch>"u"?t=wv:t=fetch,(...n)=>t(...n)},zT=()=>typeof Headers>"u"?xv:Headers,VT=(e,t,n)=>{const r=FT(n),s=zT();return(i,o)=>$T(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var BT=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function HT(e){return e.replace(/\/$/,"")}function WT(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>BT(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const Lv="2.69.1",es=30*1e3,Uc=3,wu=Uc*es,JT="http://localhost:9999",GT="supabase.auth.token",qT={"X-Client-Info":`gotrue-js/${Lv}`},$c="X-Supabase-Api-Version",Dv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XT=6e5;class pf extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class YT extends pf{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function QT(e){return q(e)&&e.name==="AuthApiError"}class Uv extends pf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class dr extends pf{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Rn extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZT(e){return q(e)&&e.name==="AuthSessionMissingError"}class xu extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zo extends dr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vo extends dr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ej(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class em extends dr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fc extends dr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _u(e){return q(e)&&e.name==="AuthRetryableFetchError"}class tm extends dr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ti extends dr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rm=` 	
\r=`.split(""),tj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rm.length;t+=1)e[rm[t].charCodeAt(0)]=-2;for(let t=0;t<nm.length;t+=1)e[nm[t].charCodeAt(0)]=t;return e})();function $v(e,t,n){const r=tj[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sm(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{sj(o,r,n)};for(let o=0;o<e.length;o+=1)$v(e.charCodeAt(o),s,i);return t.join("")}function nj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rj(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}nj(r,t)}}function sj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ij(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)$v(e.charCodeAt(s),n,r);return new Uint8Array(t)}function oj(e){const t=[];return rj(e,n=>t.push(n)),new Uint8Array(t)}function aj(e){return Math.round(Date.now()/1e3)+e}function lj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yt=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},ji=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function uj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Fv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ds(()=>Promise.resolve().then(()=>Hs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},cj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zv=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Bo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ho=async(e,t)=>{await e.removeItem(t)};class El{constructor(){this.promise=new El.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}El.promiseConstructor=Promise;function bu(e){const t=e.split(".");if(t.length!==3)throw new Ti("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!KT.test(t[r]))throw new Ti("JWT not in base64url format");return{header:JSON.parse(sm(t[0])),payload:JSON.parse(sm(t[1])),signature:ij(t[2]),raw:{header:t[0],payload:t[1]}}}async function dj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fj(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function hj(e){return("0"+e.toString(16)).substr(-2)}function pj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,hj).join("")}async function mj(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function gj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await mj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qr(e,t,n=!1){const r=pj();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await zv(e,`${t}-code-verifier`,s);const i=await gj(r);return[i,r===i?"plain":"s256"]}const yj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vj(e){const t=e.headers.get($c);if(!t||!t.match(yj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var _j=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Er=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bj=[502,503,504];async function im(e){var t;if(!cj(e))throw new Fc(Er(e),0);if(bj.includes(e.status))throw new Fc(Er(e),e.status);let n;try{n=await e.json()}catch(i){throw new Uv(Er(i),i)}let r;const s=vj(e);if(s&&s.getTime()>=Dv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new tm(Er(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Rn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new tm(Er(n),e.status,n.weak_password.reasons);throw new YT(Er(n),e.status||500,r)}const Sj=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Y(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[$c]||(i[$c]=Dv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kj(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function kj(e,t,n,r,s,i){const o=Sj(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Fc(Er(l),0)}if(a.ok||await im(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await im(l)}}function An(e){var t;let n=null;jj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aj(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function om(e){const t=An(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ej(e){return{data:e,error:null}}function Cj(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=_j(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Tj(e){return e}function jj(e){return e.access_token&&e.refresh_token&&e.expires_in}var Pj=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Nj{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Fv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Pj(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Cj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tj});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:zn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:zn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}const Ij={getItem:e=>ji()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ji()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ji()&&globalThis.localStorage.removeItem(e)}};function am(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Rj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zr={debug:!!(globalThis&&ji()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Aj extends Vv{}async function Oj(e,t,n){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Aj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Rj();const Mj={url:JT,storageKey:GT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lm(e,t,n){return await n()}class Qi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qi.nextInstanceID,Qi.nextInstanceID+=1,this.instanceID>0&&Yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Mj),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Nj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Fv(s.fetch),this.lock=s.lock||lm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Yt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Oj:this.lock=lm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ji()?this.storage=Ij:(this.memoryStorage={},this.storage=am(this.memoryStorage)):(this.memoryStorage={},this.storage=am(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=uj(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Yt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ej(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new Uv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:An}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Qr(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:An})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:An})}else throw new zo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:om})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:om})}else throw new zo("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Bo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:An});if(await Ho(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:An}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Qr(this.storage,this.storageKey));const{error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new zo("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:An});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Qr(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ej})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Rn;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zo("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Bo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<wu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rn}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zn})})}catch(n){if(q(n))return ZT(n)&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Rn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Qr(this.storage,this.storageKey));const{data:c,error:u}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:zn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=bu(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Rn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Yt())throw new Vo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new em("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new em("No code detected.");const{data:w,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Vo("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Bo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(QT(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=lj(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Qr(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Yt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fj(async s=>(s>0&&await dj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:An})),(s,i)=>{const o=200*Math.pow(2,s);return i&&_u(i)&&Date.now()+o-r<es})}catch(r){if(this._debug(n,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Yt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Bo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${wu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),_u(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new El;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Rn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),q(i)){const o={session:null,error:i};return _u(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ho(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),es);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${es}ms, refresh threshold is ${Uc} ticks`),s<=Uc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bu(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+XT>Date.now()))return r;const{data:s,error:i}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ti("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new Ti("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};r=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=bu(r);if(wj(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const c=xj(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,oj(`${a}.${l}`)))throw new Ti("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}Qi.nextInstanceID=0;const Lj=Qi;class Dj extends Lj{constructor(t){super(t)}}var Uj=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class $j{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=HT(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:LT,realtime:UT,auth:Object.assign(Object.assign({},DT),{storageKey:l}),global:MT},u=WT(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=VT(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new rT(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new AC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new RT(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Uj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dj({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new vT(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mf=(e,t,n)=>new $j(e,t,n),oe={success:e=>(console.log("✅",e),Ue.success(e,{duration:4e3,position:"bottom-right"})),error:e=>(console.error("❌",e),Ue.error(typeof e=="string"?e:"Une erreur est survenue",{duration:6e3,position:"bottom-right"})),loading:e=>(console.log("⏳",e),Ue.loading(e,{position:"bottom-right"})),promise:async(e,t)=>(console.log("🔄",t.loading),Ue.promise(e,{loading:t.loading,success:t.success,error:t.error},{position:"bottom-right",duration:4e3}))},wr={DEBUG:0,INFO:1,WARN:2,ERROR:3},um={DEBUG:"#808080",INFO:"#0066cc",WARN:"#ff9900",ERROR:"#cc0000"};class pt{constructor(t){this.context=t,this.level=wr.DEBUG}setLevel(t){this.level=wr[t]||wr.DEBUG}formatMessage(t,n,r){const i=`[${new Date().toISOString()}] [${this.context}] [${t}]`;r?(console.groupCollapsed(`%c${i} ${n}`,`color: ${um[t]}`),console.log("Données:",r),console.groupEnd()):console.log(`%c${i} ${n}`,`color: ${um[t]}`)}debug(t,n){this.level<=wr.DEBUG&&this.formatMessage("DEBUG",t,n)}info(t,n){this.level<=wr.INFO&&this.formatMessage("INFO",t,n)}warn(t,n){this.level<=wr.WARN&&this.formatMessage("WARN",t,n)}error(t,n){this.level<=wr.ERROR&&(this.formatMessage("ERROR",t,n),n!=null&&n.stack&&console.error(n.stack))}}const mn=new pt("Supabase"),Fj="https://votre-projet.supabase.co",zj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvdHJlLXByb2pldCIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjE2MTIxNjE2LCJleHAiOjE5MzE2OTc2MTZ9.votre-clé-anon",te=mf(Fj,zj,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,storage:window.localStorage,storageKey:"snap-booth-auth",flowType:"pkce"},realtime:{params:{eventsPerSecond:10},config:{timeout:3e4,heartbeat:{interval:15e3}}}});te.auth.onAuthStateChange((e,t)=>{var n;mn.info("Changement d'état d'authentification",{event:e}),e==="SIGNED_IN"?(mn.info("Utilisateur connecté",{userId:(n=t==null?void 0:t.user)==null?void 0:n.id}),oe.success("Connecté avec succès")):e==="SIGNED_OUT"?(mn.info("Utilisateur déconnecté"),oe.success("Déconnecté avec succès")):e==="TOKEN_REFRESHED"&&mn.info("Token rafraîchi")});te.auth.getSession().then(({data:{session:e},error:t})=>{t?(mn.error("Erreur lors de la vérification de la session",t),oe.error("Erreur de connexion à Supabase")):e?mn.info("Session existante trouvée",{userId:e.user.id}):mn.info("Aucune session active")});const Vj=(e,t,n={},r={})=>te.channel(e).on("postgres_changes",{event:"*",schema:"public",table:t,...n},i=>{mn.debug("Changement en temps réel reçu",{channel:e,table:t,payload:i}),i.eventType==="INSERT"&&r.onInsert?r.onInsert(i.new):i.eventType==="UPDATE"&&r.onUpdate?r.onUpdate(i.new,i.old):i.eventType==="DELETE"&&r.onDelete&&r.onDelete(i.old)}).subscribe(i=>{mn.info("Statut de la souscription",{channel:e,status:i}),i==="SUBSCRIBED"&&r.onSubscribe?r.onSubscribe():i==="CLOSED"&&r.onClose?r.onClose():i==="CHANNEL_ERROR"&&r.onError&&r.onError()}),ze=new pt("Auth"),en=xC(EC((e,t)=>({user:null,isLoading:!1,error:null,setUser:n=>e({user:n,isLoading:!1}),login:async(n,r)=>{try{ze.info("Tentative de connexion",{email:n}),e({isLoading:!0,error:null});const{data:{user:s},error:i}=await te.auth.signInWithPassword({email:n,password:r});if(i)throw i;if(!s)throw new Error("Aucune donnée utilisateur retournée");ze.info("Utilisateur authentifié, récupération du profil",{userId:s.id});const{data:o,error:a}=await te.from("profiles").select("role").eq("id",s.id).single();if(a&&a.code!=="PGRST116")throw a;const l=n==="manuel@gmail.com"||(o==null?void 0:o.role)==="admin";if(l){ze.info("Mise à jour des métadonnées utilisateur avec rôle admin",{userId:s.id});const{error:u}=await te.auth.updateUser({data:{role:"admin"}});u&&ze.error("Erreur lors de la mise à jour des métadonnées",u)}const c={id:s.id,email:s.email,role:l?"admin":"user"};return ze.info("Connexion réussie",c),e({user:c,isLoading:!1,error:null}),{error:null}}catch(s){ze.error("Erreur de connexion",s);let i="Une erreur est survenue lors de la connexion";return s.message.includes("Invalid login credentials")&&(i="Email ou mot de passe incorrect"),e({user:null,isLoading:!1,error:i}),{error:s}}},signup:async(n,r)=>{try{if(ze.info("Tentative d'inscription",{email:n}),e({isLoading:!0,error:null}),n==="nouvelleereprod@gmail.com")throw new Error("Cet email ne peut pas être utilisé pour l'inscription");const{data:{user:s},error:i}=await te.auth.signUp({email:n,password:r,options:{data:{role:"user"}}});if(i)throw i;if(!s)throw new Error("Aucune donnée utilisateur retournée");const o={id:s.id,email:s.email,role:"user"};return ze.info("Inscription réussie",o),e({user:o,isLoading:!1,error:null}),{error:null}}catch(s){ze.error("Erreur d'inscription",s);let i="Une erreur est survenue lors de l'inscription";return s.message.includes("already registered")&&(i="Un compte existe déjà avec cet email"),e({user:null,isLoading:!1,error:i}),{error:s}}},logout:async()=>{try{ze.info("Tentative de déconnexion"),e({isLoading:!0});const{error:n}=await te.auth.signOut();if(n)throw n;ze.info("Déconnexion réussie"),e({user:null,isLoading:!1,error:null})}catch(n){ze.error("Erreur lors de la déconnexion",n),e({isLoading:!1,error:n.message})}},checkSession:async()=>{try{ze.info("Vérification de la session"),e({isLoading:!0});const{data:{session:n},error:r}=await te.auth.getSession();if(r)throw r;if(n!=null&&n.user){ze.info("Session trouvée",{userId:n.user.id});const{data:s}=await te.from("profiles").select("role").eq("id",n.user.id).single(),i=n.user.email==="nouvelleereprod@gmail.com"||(s==null?void 0:s.role)==="admin",o={id:n.user.id,email:n.user.email,role:i?"admin":"user"};ze.info("Session restaurée",o),e({user:o,isLoading:!1,error:null})}else ze.info("Aucune session active"),e({user:null,isLoading:!1,error:null})}catch(n){ze.error("Erreur lors de la vérification de la session",n),e({user:null,isLoading:!1,error:n.message})}}}),{name:"auth-storage",partialize:e=>{var t;return{user:e.user,role:(t=e.user)==null?void 0:t.role}},version:1}));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),cm=e=>{const t=Hj(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>j.createElement("svg",{ref:l,...Wj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Bv("lucide",s),...a},[...o.map(([c,u])=>j.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(e,t)=>{const n=j.forwardRef(({className:r,...s},i)=>j.createElement(Jj,{ref:i,iconNode:t,className:Bv(`lucide-${Bj(cm(e))}`,`lucide-${e}`,r),...s}));return n.displayName=cm(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qj=Ce("arrow-left",Gj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]],Xj=Ce("bluetooth",Kj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hv=Ce("calendar",Yj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],zc=Ce("camera",Qj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eP=Ce("check",Zj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wv=Ce("circle-alert",tP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jv=Ce("circle-check-big",nP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Gv=Ce("image",rP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wn=Ce("loader-circle",sP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oP=Ce("lock",iP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],gf=Ce("log-out",aP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],qv=Ce("mail",lP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kv=Ce("plus",uP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],dP=Ce("printer",cP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],hP=Ce("qr-code",fP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mP=Ce("settings",pP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],yP=Ce("share-2",gP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],wP=Ce("trash",vP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],_P=Ce("tv",xP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],SP=Ce("upload",bP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],EP=Ce("users",kP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],di=Ce("x",CP),Kt=new pt("Login");function TP(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState(!1),[o,a]=j.useState(null),l=Bs(),{login:c,signup:u,user:d,isLoading:f,error:h}=en();j.useEffect(()=>{d&&Kt.info("Utilisateur déjà connecté, redirection vers /events")},[d,l]);const p=()=>!e||!n?(Kt.warn("Formulaire incomplet"),"Veuillez remplir tous les champs"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?n.length<6?(Kt.warn("Mot de passe trop court"),"Le mot de passe doit contenir au moins 6 caractères"):null:(Kt.warn("Format d'email invalide"),"Veuillez entrer une adresse email valide"),v=async y=>{y.preventDefault();const w=p();if(w){en.setState({error:w}),oe.error(w);return}a(null),Kt.info(`Tentative de ${s?"création de compte":"connexion"}`,{email:e});try{const{error:m}=s?await u(e,n):await c(e,n);if(m)if(m.message.includes("already registered")||m.message.includes("already exists")||m.message.includes("user_already_exists"))Kt.info("Compte existant détecté lors de l'inscription"),i(!1),oe.info("Un compte existe déjà avec cet email. Connectez-vous.");else throw m;else s?(Kt.info("Compte créé avec succès"),a("Compte créé avec succès !"),oe.success("Compte créé avec succès !"),await new Promise(_=>setTimeout(_,1500))):(Kt.info("Connexion réussie"),oe.success("Connexion réussie !"))}catch(m){Kt.error("Erreur d'authentification",m),oe.error(m.message)}},x=()=>{Kt.info(`Changement de mode vers ${s?"connexion":"inscription"}`),i(!s),en.setState({error:null}),a(null),t(""),r("")};return g.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-purple-600 to-blue-500 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"bg-purple-100 p-3 rounded-full mb-4",children:g.jsx(zc,{className:"w-8 h-8 text-purple-600"})}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SNAP BOOTH"}),g.jsx("p",{className:"text-gray-500 mt-2",children:s?"Créez votre compte":"Connectez-vous à votre borne photo"})]}),g.jsxs("form",{onSubmit:v,className:"space-y-6",children:[h&&g.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg flex items-center gap-2",children:[g.jsx(Wv,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:h})]}),o&&g.jsxs("div",{className:"bg-green-50 text-green-600 p-3 rounded-lg flex items-center gap-2",children:[g.jsx(Jv,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:o})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),g.jsx("input",{type:"email",id:"email",value:e,onChange:y=>{t(y.target.value),en.setState({error:null})},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),g.jsx("input",{type:"password",id:"password",value:n,onChange:y=>{r(y.target.value),en.setState({error:null})},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0,minLength:6}),s&&g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 6 caractères"})]}),g.jsxs("button",{type:"submit",disabled:f,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[f&&g.jsx(Wn,{className:"w-4 h-4 animate-spin"}),f?"Chargement...":s?"Créer un compte":"Se connecter"]}),g.jsx("div",{className:"text-center",children:g.jsx("button",{type:"button",onClick:x,className:"text-sm text-purple-600 hover:text-purple-500",children:s?"Déjà un compte ? Connectez-vous":"Pas de compte ? Créez-en un"})})]})]})})}const tn=new pt("Storage");function jP(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}async function Xv(e,t){if(!e||!t)throw new Error("eventId et eventName sont requis");const n=`${e}-${jP(t)}`;tn.info("Création du dossier",{folderName:n});try{const{data:{publicUrl:r},error:s}=te.storage.from("event-photos").getPublicUrl("test.txt");if(s)throw tn.error("Erreur lors de la vérification du bucket",s),new Error("Le système de stockage n'est pas accessible");const i=new Blob([""],{type:"text/plain"}),o=`${n}/.keep`,{error:a}=await te.storage.from("event-photos").upload(o,i,{contentType:"text/plain",cacheControl:"3600",upsert:!0});if(a&&!a.message.includes("already exists"))throw tn.error("Erreur lors de la création du dossier",a),new Error("Impossible de créer le dossier de l'événement");return tn.info("Dossier créé avec succès",{folderName:n}),n}catch(r){throw tn.error("Erreur lors de la création du dossier",r),oe.error(r.message),r}}async function PP(e,t,n){if(!e||!t||!n)throw new Error("file, eventId et eventName sont requis");try{if(!e.type.startsWith("image/"))throw new Error("Le fichier doit être une image");if(e.size>10*1024*1024)throw new Error("La taille du fichier ne doit pas dépasser 10MB");const r=await Xv(t,n),s=e.name.split(".").pop(),i=`${Math.random().toString(36).substring(2)}-${Date.now()}.${s}`,o=`${r}/${i}`;tn.info("Upload de la photo",{filePath:o});const{error:a}=await te.storage.from("event-photos").upload(o,e,{cacheControl:"3600",upsert:!1});if(a)throw tn.error("Erreur lors de l'upload",a),new Error("Impossible d'uploader la photo");const{data:l}=te.storage.from("event-photos").getPublicUrl(o);if(!(l!=null&&l.publicUrl))throw new Error("Impossible d'obtenir l'URL publique");const{error:c}=await te.from("photos").insert([{event_id:t,url:l.publicUrl}]);if(c)throw tn.error("Erreur lors de l'enregistrement en base de données",c),await te.storage.from("event-photos").remove([o]),new Error("Impossible d'enregistrer la photo");return tn.info("Photo uploadée avec succès",{url:l.publicUrl}),oe.success("Photo ajoutée avec succès"),l.publicUrl}catch(r){throw tn.error("Erreur lors de l'upload",r),oe.error(r.message),r}}const ot=new pt("EventSelection");function NP(){const e=Bs(),{user:t,logout:n}=en(),[r,s]=j.useState([]),[i,o]=j.useState({}),[a,l]=j.useState(!0),[c,u]=j.useState(null),[d,f]=j.useState(!1),[h,p]=j.useState({name:"",date:new Date().toISOString().split("T")[0],description:""}),v=useCallback(async()=>{if(t)try{ot.info("Chargement des événements");let m=te.from("events").select("*").order("date",{ascending:!1});t.role!=="admin"&&(m=m.eq("created_by",t.id));const{data:_,error:T}=await m;if(T)throw T;const C={};await Promise.all((_||[]).map(async N=>{const{count:b}=await te.from("photos").select("*",{count:"exact",head:!0}).eq("event_id",N.id);C[N.id]=b||0})),s(_||[]),o(C),ot.info("Événements chargés",{count:_==null?void 0:_.length})}catch(m){ot.error("Erreur lors du chargement des événements",m),u("Impossible de charger les événements"),oe.error("Impossible de charger les événements")}finally{l(!1)}},[t]);j.useEffect(()=>{if(!t){e("/login");return}v();const m=Vj("events_changes","events",t.role!=="admin"?{filter:`created_by=eq.${t.id}`}:{},{onInsert:_=>{ot.info("Nouvel événement reçu",{eventId:_.id}),s(T=>[_,...T]),o(T=>({...T,[_.id]:0}))},onDelete:_=>{ot.info("Événement supprimé",{eventId:_.id}),s(T=>T.filter(C=>C.id!==_.id)),o(T=>{const C={...T};return delete C[_.id],C})},onUpdate:_=>{ot.info("Événement mis à jour",{eventId:_.id}),s(T=>T.map(C=>C.id===_.id?_:C))},onError:()=>{ot.error("Erreur de connexion temps réel"),oe.error("La connexion temps réel a été perdue")}});return()=>{ot.info("Nettoyage des souscriptions"),m.unsubscribe()}},[t,e,v]);const x=async()=>{if(!t||!h.name.trim()){u("Le nom de l'événement est requis");return}f(!0),u(null);try{ot.info("Création d'un nouvel événement",{name:h.name});const{data:m,error:_}=await te.from("events").insert([{name:h.name.trim(),date:h.date,description:h.description.trim()||null,created_by:t.id}]).select().single();if(_)throw _;if(!m)throw new Error("Aucune donnée retournée");await Xv(m.id,m.name),s(T=>[m,...T]),o(T=>({...T,[m.id]:0})),f(!1),p({name:"",date:new Date().toISOString().split("T")[0],description:""}),ot.info("Événement créé avec succès",{eventId:m.id}),oe.success("Événement créé avec succès"),e("/photos",{state:{event:m}})}catch(m){ot.error("Erreur lors de la création de l'événement",m),u("Impossible de créer l'événement"),oe.error("Impossible de créer l'événement"),f(!1)}},y=m=>{t.role==="admin"||m.created_by===t.id?(ot.info("Sélection d'un événement",{eventId:m.id}),e("/photos",{state:{event:m}})):(ot.warn("Accès non autorisé à l'événement",{eventId:m.id}),u("Vous n'avez pas accès à cet événement"),oe.error("Vous n'avez pas accès à cet événement"))},w=async()=>{ot.info("Déconnexion"),await n(),e("/login")};return a?g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:g.jsx(Wn,{className:"w-8 h-8 text-purple-600 animate-spin"})}):g.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gray-50 p-8",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.role==="admin"?"Tous les événements":"Vos événements"}),c&&g.jsx("p",{className:"text-red-600 text-sm mt-2",children:c})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[t.role==="admin"&&g.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:"Administrateur"}),g.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[g.jsx(gf,{className:"w-5 h-5"}),g.jsx("span",{children:"Déconnexion"})]})]})]}),g.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[r.map(m=>g.jsxs(vt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(m),className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow text-left",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx(Hv,{className:"w-8 h-8 text-purple-600"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[g.jsx(Gv,{className:"w-4 h-4"}),g.jsxs("span",{children:[i[m.id]||0," photos"]})]}),t.role==="admin"&&m.created_by!==t.id&&g.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:"Autre utilisateur"})]})]}),g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:m.name}),g.jsx("p",{className:"text-sm text-gray-500",children:new Date(m.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}),m.description&&g.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:m.description})]},m.id)),g.jsx(vt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-purple-50 p-6 rounded-xl border-2 border-dashed border-purple-200 hover:border-purple-300 transition-colors",children:d?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'événement"}),g.jsx("input",{type:"text",placeholder:"Ex: Mariage Julie & Thomas",value:h.name,onChange:m=>p({...h,name:m.target.value}),className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),g.jsx("input",{type:"date",value:h.date,onChange:m=>p({...h,date:m.target.value}),className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optionnelle)"}),g.jsx("textarea",{value:h.description,onChange:m=>p({...h,description:m.target.value}),placeholder:"Ajoutez une description...",rows:3,className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx("button",{onClick:x,disabled:!h.name.trim(),className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Créer l'événement"}),g.jsx("button",{onClick:()=>{f(!1),p({name:"",date:new Date().toISOString().split("T")[0],description:""}),u(null)},className:"px-4 py-2 text-purple-600 hover:bg-purple-100 rounded-md transition-colors",children:"Annuler"})]})]}):g.jsxs("button",{onClick:()=>f(!0),className:"w-full h-full flex flex-col items-center justify-center py-8",children:[g.jsx(Kv,{className:"w-8 h-8 text-purple-600 mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-purple-600",children:"Nouvel événement"}),g.jsx("p",{className:"text-sm text-purple-500 mt-1",children:"Cliquez pour créer"})]})})]})]})})}var IP=Object.defineProperty,Ba=Object.getOwnPropertySymbols,Yv=Object.prototype.hasOwnProperty,Qv=Object.prototype.propertyIsEnumerable,dm=(e,t,n)=>t in e?IP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vc=(e,t)=>{for(var n in t||(t={}))Yv.call(t,n)&&dm(e,n,t[n]);if(Ba)for(var n of Ba(t))Qv.call(t,n)&&dm(e,n,t[n]);return e},Bc=(e,t)=>{var n={};for(var r in e)Yv.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ba)for(var r of Ba(e))t.indexOf(r)<0&&Qv.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var zr;(e=>{const t=class K{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<K.MIN_VERSION||l>K.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let p=0;p<this.size;p++)f.push(!1);for(let p=0;p<this.size;p++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(u);if(this.drawCodewords(h),d==-1){let p=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const x=this.getPenaltyScore();x<p&&(d=v,p=x),this.applyMask(v)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return K.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return K.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,f=-1,h=!0){if(!(K.MIN_VERSION<=u&&u<=d&&d<=K.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let p,v;for(p=u;;p++){const m=K.getNumDataCodewords(p,c)*8,_=o.getTotalBits(l,p);if(_<=m){v=_;break}if(p>=d)throw new RangeError("Data too long")}for(const m of[K.Ecc.MEDIUM,K.Ecc.QUARTILE,K.Ecc.HIGH])h&&v<=K.getNumDataCodewords(p,m)*8&&(c=m);let x=[];for(const m of l){n(m.mode.modeBits,4,x),n(m.numChars,m.mode.numCharCountBits(p),x);for(const _ of m.getData())x.push(_)}s(x.length==v);const y=K.getNumDataCodewords(p,c)*8;s(x.length<=y),n(0,Math.min(4,y-x.length),x),n(0,(8-x.length%8)%8,x),s(x.length%8==0);for(let m=236;x.length<y;m^=253)n(m,8,x);let w=[];for(;w.length*8<x.length;)w.push(0);return x.forEach((m,_)=>w[_>>>3]|=m<<7-(_&7)),new K(p,c,w,f)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(d,f));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(d,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(d,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(d,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=r(c,u),f=this.size-11+u%3,h=Math.floor(u/3);this.setFunctionModule(f,h,d),this.setFunctionModule(h,f,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const f=Math.max(Math.abs(d),Math.abs(u)),h=l+d,p=c+u;0<=h&&h<this.size&&0<=p&&p<this.size&&this.setFunctionModule(h,p,f!=2&&f!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=K.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=K.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],f=K.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],h=Math.floor(K.getNumRawDataModules(c)/8),p=d-h%d,v=Math.floor(h/d);let x=[];const y=K.reedSolomonComputeDivisor(f);for(let m=0,_=0;m<d;m++){let T=l.slice(_,_+v-f+(m<p?0:1));_+=T.length;const C=K.reedSolomonComputeRemainder(T,y);m<p&&T.push(0),x.push(T.concat(C))}let w=[];for(let m=0;m<x[0].length;m++)x.forEach((_,T)=>{(m!=v-f||T>=p)&&w.push(_[m])});return s(w.length==h),w}drawCodewords(l){if(l.length!=Math.floor(K.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let f=0;f<2;f++){const h=u-f,v=(u+1&2)==0?this.size-1-d:d;!this.isFunction[v][h]&&c<l.length*8&&(this.modules[v][h]=r(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let h=!1,p=0,v=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[f][x]==h?(p++,p==5?l+=K.PENALTY_N1:p>5&&l++):(this.finderPenaltyAddHistory(p,v),h||(l+=this.finderPenaltyCountPatterns(v)*K.PENALTY_N3),h=this.modules[f][x],p=1);l+=this.finderPenaltyTerminateAndCount(h,p,v)*K.PENALTY_N3}for(let f=0;f<this.size;f++){let h=!1,p=0,v=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][f]==h?(p++,p==5?l+=K.PENALTY_N1:p>5&&l++):(this.finderPenaltyAddHistory(p,v),h||(l+=this.finderPenaltyCountPatterns(v)*K.PENALTY_N3),h=this.modules[x][f],p=1);l+=this.finderPenaltyTerminateAndCount(h,p,v)*K.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let h=0;h<this.size-1;h++){const p=this.modules[f][h];p==this.modules[f][h+1]&&p==this.modules[f+1][h]&&p==this.modules[f+1][h+1]&&(l+=K.PENALTY_N2)}let c=0;for(const f of this.modules)c=f.reduce((h,p)=>h+(p?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*K.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<K.MIN_VERSION||l>K.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(K.getNumRawDataModules(l)/8)-K.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*K.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let f=0;f<c.length;f++)c[f]=K.reedSolomonMultiply(c[f],u),f+1<c.length&&(c[f]^=c[f+1]);u=K.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const f=d^u.shift();u.push(0),c.forEach((h,p)=>u[p]^=K.reedSolomonMultiply(h,f))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(a,l,c){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let u=l-1;u>=0;u--)c.push(a>>>u&1)}function r(a,l){return(a>>>l&1)!=0}function s(a){if(!a)throw new Error("Assertion error")}const i=class Se{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)n(u,8,c);return new Se(Se.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!Se.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);n(parseInt(l.substring(u,u+d),10),d*3+1,c),u+=d}return new Se(Se.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!Se.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=Se.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=Se.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),n(d,11,c)}return u<l.length&&n(Se.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new Se(Se.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:Se.isNumeric(l)?[Se.makeNumeric(l)]:Se.isAlphanumeric(l)?[Se.makeAlphanumeric(l)]:[Se.makeBytes(Se.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new Se(Se.Mode.ECI,0,c)}static isNumeric(l){return Se.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Se.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const f=d.mode.numCharCountBits(c);if(d.numChars>=1<<f)return 1/0;u+=4+f+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substring(u+1,u+3),16)),u+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(zr||(zr={}));(e=>{(t=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(zr||(zr={}));(e=>{(t=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(zr||(zr={}));var vs=zr;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var RP={L:vs.QrCode.Ecc.LOW,M:vs.QrCode.Ecc.MEDIUM,Q:vs.QrCode.Ecc.QUARTILE,H:vs.QrCode.Ecc.HIGH},Zv=128,e1="L",t1="#FFFFFF",n1="#000000",r1=!1,s1=1,AP=4,OP=0,MP=.1;function i1(e,t=0){const n=[];return e.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+t} ${s+t}h${a-i}v1H${i+t}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+t},${s+t} h1v1H${a+t}z`):n.push(`M${i+t},${s+t} h${a+1-i}v1H${i+t}z`);return}o&&i===null&&(i=a)})}),n.join("")}function o1(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function LP(e,t,n,r){if(r==null)return null;const s=e.length+n*2,i=Math.floor(t*MP),o=s/t,a=(r.width||i)*o,l=(r.height||i)*o,c=r.x==null?e.length/2-a/2:r.x*o,u=r.y==null?e.length/2-l/2:r.y*o,d=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let p=Math.floor(c),v=Math.floor(u),x=Math.ceil(a+c-p),y=Math.ceil(l+u-v);f={x:p,y:v,w:x,h:y}}const h=r.crossOrigin;return{x:c,y:u,h:l,w:a,excavation:f,opacity:d,crossOrigin:h}}function DP(e,t){return t!=null?Math.max(Math.floor(t),0):e?AP:OP}function a1({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:a}){let l=ye.useMemo(()=>{const p=(Array.isArray(e)?e:[e]).reduce((v,x)=>(v.push(...vs.QrSegment.makeSegments(x)),v),[]);return vs.QrCode.encodeSegments(p,RP[t],n,void 0,void 0,a)},[e,t,n,a]);const{cells:c,margin:u,numCells:d,calculatedImageSettings:f}=ye.useMemo(()=>{let h=l.getModules();const p=DP(r,s),v=h.length+p*2,x=LP(h,o,p,i);return{cells:h,margin:p,numCells:v,calculatedImageSettings:x}},[l,o,i,r,s]);return{qrcode:l,margin:u,cells:c,numCells:d,calculatedImageSettings:f}}var UP=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),$P=ye.forwardRef(function(t,n){const r=t,{value:s,size:i=Zv,level:o=e1,bgColor:a=t1,fgColor:l=n1,includeMargin:c=r1,minVersion:u=s1,boostLevel:d,marginSize:f,imageSettings:h}=r,v=Bc(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:x}=v,y=Bc(v,["style"]),w=h==null?void 0:h.src,m=ye.useRef(null),_=ye.useRef(null),T=ye.useCallback(I=>{m.current=I,typeof n=="function"?n(I):n&&(n.current=I)},[n]),[C,N]=ye.useState(!1),{margin:b,cells:k,numCells:P,calculatedImageSettings:R}=a1({value:s,level:o,minVersion:u,boostLevel:d,includeMargin:c,marginSize:f,imageSettings:h,size:i});ye.useEffect(()=>{if(m.current!=null){const I=m.current,U=I.getContext("2d");if(!U)return;let E=k;const S=_.current,L=R!=null&&S!==null&&S.complete&&S.naturalHeight!==0&&S.naturalWidth!==0;L&&R.excavation!=null&&(E=o1(k,R.excavation));const A=window.devicePixelRatio||1;I.height=I.width=i*A;const M=i/P*A;U.scale(M,M),U.fillStyle=a,U.fillRect(0,0,P,P),U.fillStyle=l,UP?U.fill(new Path2D(i1(E,b))):k.forEach(function(B,z){B.forEach(function($,V){$&&U.fillRect(V+b,z+b,1,1)})}),R&&(U.globalAlpha=R.opacity),L&&U.drawImage(S,R.x+b,R.y+b,R.w,R.h)}}),ye.useEffect(()=>{N(!1)},[w]);const O=Vc({height:i,width:i},x);let D=null;return w!=null&&(D=ye.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{N(!0)},ref:_,crossOrigin:R==null?void 0:R.crossOrigin})),ye.createElement(ye.Fragment,null,ye.createElement("canvas",Vc({style:O,height:i,width:i,ref:T,role:"img"},y)),D)});$P.displayName="QRCodeCanvas";var yf=ye.forwardRef(function(t,n){const r=t,{value:s,size:i=Zv,level:o=e1,bgColor:a=t1,fgColor:l=n1,includeMargin:c=r1,minVersion:u=s1,boostLevel:d,title:f,marginSize:h,imageSettings:p}=r,v=Bc(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:x,cells:y,numCells:w,calculatedImageSettings:m}=a1({value:s,level:o,minVersion:u,boostLevel:d,includeMargin:c,marginSize:h,imageSettings:p,size:i});let _=y,T=null;p!=null&&m!=null&&(m.excavation!=null&&(_=o1(y,m.excavation)),T=ye.createElement("image",{href:p.src,height:m.h,width:m.w,x:m.x+x,y:m.y+x,preserveAspectRatio:"none",opacity:m.opacity,crossOrigin:m.crossOrigin}));const C=i1(_,x);return ye.createElement("svg",Vc({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},v),!!f&&ye.createElement("title",null,f),ye.createElement("path",{fill:a,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),ye.createElement("path",{fill:l,d:C,shapeRendering:"crispEdges"}),T)});yf.displayName="QRCodeSVG";const Wo=new pt("Printer");async function FP(e,t=1){try{Wo.info("Préparation de l'impression",{photoUrl:e,quantity:t});const n=new Image;n.style.display="none",document.body.appendChild(n),await new Promise((o,a)=>{n.onload=o,n.onerror=()=>a(new Error("Impossible de charger l'image")),n.src=e});const r=document.createElement("iframe");r.style.display="none",document.body.appendChild(r);const s=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Impression Photo</title>
          <style>
            @page {
              size: 15cm 10cm;
              margin: 0;
            }
            body {
              margin: 0;
              padding: 0;
              display: flex;
              justify-content: center;
              align-items: center;
              min-height: 100vh;
            }
            img {
              max-width: 100%;
              max-height: 100%;
              object-fit: contain;
            }
          </style>
        </head>
        <body>
          <img src="${e}" alt="Photo à imprimer">
        </body>
      </html>
    `,i=r.contentWindow.document;i.open(),i.write(s),i.close(),await new Promise(o=>{const a=i.querySelector("img");a.complete?o():a.onload=o}),Wo.info("Lancement de l'impression",{quantity:t});for(let o=0;o<t;o++)r.contentWindow.print(),o<t-1&&await new Promise(a=>setTimeout(a,500));return document.body.removeChild(n),document.body.removeChild(r),Wo.info("Impression terminée avec succès"),oe.success(`Photo imprimée en ${t} exemplaire${t>1?"s":""}`),!0}catch(n){throw Wo.error("Erreur lors de l'impression",n),oe.error("Impossible d'imprimer la photo"),n}}const Pt=new pt("PhotoGrid");function zP(){var A;const e=Bs(),t=uo(),{user:n,logout:r}=en(),[s,i]=j.useState(((A=t.state)==null?void 0:A.event)||null),[o,a]=j.useState([]),[l,c]=j.useState(!0),[u,d]=j.useState(null),[f,h]=j.useState(!1),[p,v]=j.useState(!1),[x,y]=j.useState(!1),[w,m]=j.useState(!1),[_,T]=j.useState(""),[C,N]=j.useState(1),[b,k]=j.useState(!1),[P,R]=j.useState(!1),[O,D]=j.useState(!1);j.useEffect(()=>{(async()=>{if(!s)try{const B=localStorage.getItem("standId");if(!B){oe.error("Aucun stand configuré"),e("/config");return}const{data:z,error:$}=await te.from("events").select("*").eq("stand_id",B).eq("active",!0).single();if($)throw $;z?(i(z),Pt.info("Événement actif récupéré",{eventId:z.id,eventName:z.name})):(oe.warning("Aucun événement actif trouvé"),e("/events"))}catch(B){Pt.error("Erreur lors de la récupération de l'événement actif",B),oe.error("Impossible de récupérer l'événement actif"),e("/events")}})()},[e]),j.useEffect(()=>{if(!(s!=null&&s.id))return;(async()=>{try{c(!0),Pt.info("Chargement des photos",{eventId:s.id});const{data:z,error:$}=await te.from("photos").select("*").eq("event_id",s.id).order("created_at",{ascending:!1});if($)throw $;a(z||[]),Pt.info("Photos chargées",{count:z==null?void 0:z.length})}catch(z){Pt.error("Erreur lors du chargement des photos",z),oe.error("Impossible de charger les photos")}finally{c(!1)}})();const B=te.channel("photos_changes").on("postgres_changes",{event:"*",schema:"public",table:"photos",filter:`event_id=eq.${s.id}`},z=>{Pt.debug("Changement en temps réel reçu",z),z.eventType==="INSERT"?a($=>[z.new,...$]):z.eventType==="DELETE"&&a($=>$.filter(V=>V.id!==z.old.id))}).subscribe();return()=>{B.unsubscribe()}},[s,e]);const I=async M=>{var z;const B=(z=M.target.files)==null?void 0:z[0];if(B)try{h(!0),Pt.info("Upload de photo",{fileName:B.name}),await PP(B,s.id,s.name),M.target.value=""}catch($){Pt.error("Erreur lors de l'upload",$),oe.error("Impossible d'uploader la photo")}finally{h(!1)}},U=async()=>{if(u)try{k(!0),Pt.info("Impression de photo",{photoUrl:u.url,quantity:C}),await FP(u.url,C),oe.success(`Photo imprimée en ${C} exemplaire${C>1?"s":""}`),m(!1),N(1)}catch(M){Pt.error("Erreur lors de l'impression",M),oe.error("Impossible d'imprimer la photo")}finally{k(!1)}},E=async M=>{if(M.preventDefault(),!(!_||!u))try{R(!0),Pt.info("Envoi de photo par email",{email:_,photoUrl:u.url}),await new Promise(B=>setTimeout(B,1500)),oe.success("Photo envoyée par email"),y(!1),T("")}catch(B){Pt.error("Erreur lors de l'envoi de l'email",B),oe.error("Impossible d'envoyer l'email")}finally{R(!1)}},S=async()=>{await r(),e("/login")},L=()=>{D(!O)};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-900 to-black",children:[g.jsxs("header",{className:"bg-gradient-to-r from-purple-800 to-purple-600 pt-[5%] pb-4 relative shadow-lg",children:[g.jsx("div",{className:"absolute top-4 left-4",children:g.jsx("div",{className:"h-16 w-16 bg-white/20 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"SB"})}),g.jsx("button",{onClick:L,className:`absolute top-4 right-4 p-3 rounded-full transition-all transform hover:scale-105 shadow-lg ${O?"bg-red-500 text-white":"bg-white/20 text-white backdrop-blur-sm"}`,children:g.jsx(oP,{className:"w-6 h-6"})}),g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-md",children:(s==null?void 0:s.name)||"Événement"}),g.jsxs("p",{className:"text-white/80 mt-1",children:[o.length," photo",o.length!==1?"s":""]})]})]}),g.jsx("main",{className:`p-6 ${O?"pointer-events-none opacity-70":""}`,children:l?g.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[g.jsx(Wn,{className:"w-12 h-12 text-purple-400 animate-spin"}),g.jsx("p",{className:"text-purple-300 mt-4",children:"Chargement des photos..."})]}):o.length===0?g.jsxs("div",{className:"text-center py-12 bg-purple-900/20 rounded-xl backdrop-blur-sm border border-purple-600/30 max-w-2xl mx-auto",children:[g.jsx(Gv,{className:"w-20 h-20 mx-auto text-purple-400 opacity-70"}),g.jsx("p",{className:"mt-4 text-xl text-white",children:"Aucune photo pour cet événement"}),g.jsx("p",{className:"text-purple-300 mt-2 mb-6",children:"Commencez à capturer des souvenirs !"}),g.jsx("button",{onClick:()=>e("/captures",{state:{eventID:s.id}}),className:"mt-2 px-8 py-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full hover:from-purple-700 hover:to-purple-800 transition-all transform hover:scale-105 shadow-lg",children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx(zc,{className:"w-6 h-6 mr-2"}),"Lancer le photobooth"]})})]}):g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o.map((M,B)=>g.jsxs(vt.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.4,delay:B*.1},className:"relative aspect-square overflow-hidden rounded-xl border-2 border-purple-600/50 shadow-lg shadow-purple-900/30 group",onClick:()=>d(M),children:[g.jsx("img",{src:M.url,alt:`Photo de ${(s==null?void 0:s.name)||"l'événement"}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center p-3",children:g.jsx("p",{className:"text-white text-sm truncate",children:new Date(M.created_at).toLocaleDateString()})})]},M.id))})}),!O&&g.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-10",children:g.jsxs("button",{onClick:()=>e("/captures",{state:{eventID:s.id}}),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full hover:from-purple-700 hover:to-purple-800 transition-all transform hover:scale-105 shadow-lg flex items-center space-x-3",children:[g.jsx(zc,{className:"w-6 h-6"}),g.jsx("span",{className:"font-medium",children:"Prendre une photo"})]})}),g.jsxs(pv,{children:[u&&g.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs(vt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{duration:.3},className:"relative w-full max-w-4xl",children:[g.jsx("button",{onClick:()=>d(null),className:"absolute -top-16 right-0 p-2 text-white hover:text-purple-300 transition-colors",children:g.jsx(di,{className:"w-8 h-8"})}),g.jsx("img",{src:u.url,alt:"Photo agrandie",className:"w-full h-auto max-h-[70vh] object-contain rounded-xl border-2 border-purple-600/50 shadow-2xl"}),g.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:[g.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full hover:from-purple-700 hover:to-purple-800 transition-all transform hover:scale-105 shadow-lg",children:[g.jsx(dP,{className:"w-5 h-5"}),g.jsx("span",{children:"Imprimer"})]}),g.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full hover:from-purple-700 hover:to-purple-800 transition-all transform hover:scale-105 shadow-lg",children:[g.jsx(qv,{className:"w-5 h-5"}),g.jsx("span",{children:"Envoyer par email"})]}),g.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full hover:from-purple-700 hover:to-purple-800 transition-all transform hover:scale-105 shadow-lg",children:[g.jsx(hP,{className:"w-5 h-5"}),g.jsx("span",{children:"QR Code"})]})]})]})}),w&&g.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:M=>M.target===M.currentTarget&&m(!1),children:g.jsxs(vt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{duration:.3},className:"bg-gradient-to-b from-purple-900 to-purple-800 rounded-xl p-6 w-full max-w-md border border-purple-600/50 shadow-2xl",onClick:M=>M.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:"Options d'impression"}),g.jsx("button",{onClick:()=>m(!1),className:"text-white/70 hover:text-white",children:g.jsx(di,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre d'exemplaires"}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("button",{onClick:()=>N(Math.max(1,C-1)),className:"p-3 bg-purple-700 hover:bg-purple-600 text-white rounded-l-lg transition-colors",children:"-"}),g.jsx("span",{className:"px-6 py-3 bg-purple-800/50 text-white text-center min-w-[60px]",children:C}),g.jsx("button",{onClick:()=>N(C+1),className:"p-3 bg-purple-700 hover:bg-purple-600 text-white rounded-r-lg transition-colors",children:"+"})]})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{onClick:()=>m(!1),className:"px-5 py-2 border border-purple-400/30 text-white rounded-lg hover:bg-purple-700/50 transition-colors",children:"Annuler"}),g.jsx("button",{onClick:U,disabled:b,className:"px-5 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-colors disabled:opacity-50 shadow-lg",children:b?g.jsxs("span",{className:"flex items-center",children:[g.jsx(Wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Impression..."]}):"Imprimer"})]})]})}),x&&g.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:M=>M.target===M.currentTarget&&y(!1),children:g.jsxs(vt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{duration:.3},className:"bg-gradient-to-b from-purple-900 to-purple-800 rounded-xl p-6 w-full max-w-md border border-purple-600/50 shadow-2xl",onClick:M=>M.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:"Envoyer par email"}),g.jsx("button",{onClick:()=>y(!1),className:"text-white/70 hover:text-white",children:g.jsx(di,{className:"w-6 h-6"})})]}),g.jsxs("form",{onSubmit:E,children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Adresse email"}),g.jsx("input",{type:"email",value:_,onChange:M=>T(M.target.value),required:!0,className:"w-full px-4 py-3 bg-purple-800/50 border border-purple-600/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"exemple@email.com"})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-5 py-2 border border-purple-400/30 text-white rounded-lg hover:bg-purple-700/50 transition-colors",children:"Annuler"}),g.jsx("button",{type:"submit",disabled:P,className:"px-5 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-colors disabled:opacity-50 shadow-lg",children:P?g.jsxs("span",{className:"flex items-center",children:[g.jsx(Wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Envoi..."]}):"Envoyer"})]})]})]})}),p&&g.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:M=>M.target===M.currentTarget&&v(!1),children:g.jsxs(vt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{duration:.3},className:"bg-gradient-to-b from-purple-900 to-purple-800 rounded-xl p-6 w-full max-w-md border border-purple-600/50 shadow-2xl",onClick:M=>M.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:"Scannez pour télécharger"}),g.jsx("button",{onClick:()=>v(!1),className:"text-white/70 hover:text-white",children:g.jsx(di,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"flex justify-center mb-6 bg-white p-4 rounded-lg",children:g.jsx(yf,{value:u.url,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"H",includeMargin:!1})}),g.jsx("p",{className:"text-center text-sm text-purple-300 mb-6",children:"Scannez ce QR code avec votre téléphone pour télécharger la photo"}),g.jsx("button",{onClick:()=>v(!1),className:"w-full px-5 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-colors shadow-lg",children:"Fermer"})]})})]}),g.jsxs("div",{className:"fixed top-24 left-4 space-y-2 z-10",children:[g.jsx("button",{onClick:()=>e("/events"),className:"p-3 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-colors shadow-lg",title:"Retour aux événements",children:g.jsx(qj,{className:"w-6 h-6"})}),g.jsx("button",{onClick:S,className:"p-3 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-colors shadow-lg",title:"Déconnexion",children:g.jsx(gf,{className:"w-6 h-6"})})]}),!O&&g.jsx("div",{className:"fixed top-24 right-4 z-10",children:g.jsxs("label",{className:"p-3 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-colors shadow-lg cursor-pointer flex items-center justify-center",children:[g.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"}),f?g.jsx(Wn,{className:"w-6 h-6 animate-spin"}):g.jsx(SP,{className:"w-6 h-6",title:"Uploader une photo"})]})})]})}async function fm(){try{const{data:e,error:t}=await te.from("profiles").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Erreur lors de la récupération des profils:",t),t;return e||[]}catch(e){return console.error("Erreur lors de la liste des profils:",e),[]}}const VP=new pt("AdminDashboard"),BP=[{id:"users",label:"Utilisateurs",icon:EP},{id:"events",label:"Événements",icon:Hv},{id:"email",label:"Email",icon:qv},{id:"settings",label:"Paramètres",icon:mP},{id:"screen",label:"Écran",icon:_P}];function HP(){const[e,t]=j.useState("users"),[n,r]=j.useState(!0),[s,i]=j.useState(null),[o,a]=j.useState(null),[l,c]=j.useState([]),[u,d]=j.useState(""),[f,h]=j.useState(""),[p,v]=j.useState("user"),x=Bs(),{logout:y}=en(),[w,m]=j.useState([]),[_,T]=j.useState(""),[C,N]=j.useState(""),[b,k]=j.useState(""),[P,R]=j.useState(null),[O,D]=j.useState([]),[I,U]=j.useState(`Bonjour,

Voici votre photo prise lors de l'événement {{event}}.

Cordialement,
L'équipe SNAP BOOTH`),[E,S]=j.useState({animations:!0,gridColumns:4,printFormat:"10x15",autoRotate:!0,cartoon:!0,dessin:!0,univers:!0,carricature:!0,screenOrientation:"Paysage"}),L=async()=>{VP.info("Déconnexion"),await y(),x("/login")};j.useEffect(()=>{(async()=>{try{if(r(!0),i(null),e==="users"){const V=await fm();c(V)}if(e==="events"){const{data:V,error:F}=await te.from("events").select("*, photos(count)").order("date",{ascending:!1});if(F)throw F;D(V)}if(e==="screen"){const{data:V,error:F}=await te.from("screen").select("*");if(F)throw F;m(V)}}catch(V){console.error("Erreur lors du chargement des données:",V),i("Une erreur est survenue lors du chargement des données")}finally{r(!1)}})()},[e]),j.useEffect(()=>{E.screenOrientation==="Portrait"?document.body.classList.add("portrait-mode"):document.body.classList.remove("portrait-mode")},[E.screenOrientation]);const A=async $=>{$.preventDefault();try{r(!0),i(null);const{data:V,error:F}=await te.auth.signUp({email:u,password:f,options:{data:{role:p}}});if(F)throw F;a("Utilisateur créé avec succès"),d(""),h(""),v("user");const J=await fm();c(J)}catch(V){console.error("Erreur lors de la création de l'utilisateur:",V),i(V.message)}finally{r(!1)}},M=async $=>{$.preventDefault();try{r(!0),i(null);const{error:V}=await te.from("screen").insert([{screen_name:_,ip_adress:C,serial_number:b}]);if(V)throw V;a("Écran ajouté avec succès"),T(""),N(""),k("");const{data:F,error:J}=await te.from("screen").select("*");if(J)throw J;m(F)}catch(V){console.error("Erreur lors de la création de l'écran:",V),i(V.message)}finally{r(!1)}},B=async()=>{try{if(r(!0),i(null),!P){i("Veuillez sélectionner un écran.");return}const{data:$,error:V}=await te.from("configuration").select("*").eq("screen_id",P);if(V)throw V;if($&&$.length>0){const{error:F}=await te.from("configuration").update({column_number:E.gridColumns,is_transition:E.animations,is_automatic_rotation:E.autoRotate,has_cartoon:E.cartoon,has_dessins:E.dessin,has_univers:E.univers,print_format:E.printFormat,screen_orientation:E.screenOrientation,has_carricature:E.carricature}).eq("id",$[0].id);if(F)throw F;a("Paramètres mis à jour avec succès")}else{const{error:F}=await te.from("configuration").insert([{column_number:E.gridColumns,is_transition:E.animations,is_automatic_rotation:E.autoRotate,has_cartoon:E.cartoon,has_dessins:E.dessin,has_univers:E.univers,print_format:E.printFormat,screen_orientation:E.screenOrientation,has_carricature:E.carricature,screen_id:P}]);if(F)throw F;a("Paramètres enregistrés avec succès")}}catch($){console.error("Erreur lors de la mise à jour des paramètres:",$),i("Erreur lors de la mise à jour des paramètres")}finally{r(!1)}},z=async()=>{try{r(!0),i(null),await new Promise($=>setTimeout($,500)),a("Template d'email mis à jour avec succès")}catch{i("Erreur lors de la mise à jour du template")}finally{r(!1)}};return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("div",{className:"bg-white shadow-sm",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Administration"})})}),g.jsx("div",{className:"bg-white border-b",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4",children:g.jsxs("nav",{className:"flex justify-between items-center",children:[" ",g.jsxs("div",{className:"flex space-x-8",children:[" ",BP.map(({id:$,label:V,icon:F})=>g.jsxs("button",{onClick:()=>t($),className:`flex items-center space-x-2 py-4 px-1 border-b-2 transition-colors ${e===$?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[g.jsx(F,{className:"w-5 h-5"}),g.jsx("span",{children:V})]},$))]}),g.jsxs("button",{onClick:L,className:"flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[g.jsx(gf,{className:"w-5 h-5"}),g.jsx("span",{children:"Déconnexion"})]})]})})}),g.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[s&&g.jsxs("div",{className:"mb-4 bg-red-50 text-red-600 p-4 rounded-lg flex items-center gap-2",children:[g.jsx(Wv,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("p",{children:s})]}),o&&g.jsxs("div",{className:"mb-4 bg-green-50 text-green-600 p-4 rounded-lg flex items-center gap-2",children:[g.jsx(Jv,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("p",{children:o})]})]}),g.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:n?g.jsx("div",{className:"flex justify-center items-center py-12",children:g.jsx(Wn,{className:"w-8 h-8 text-purple-600 animate-spin"})}):g.jsxs(g.Fragment,{children:[e==="users"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Créer un utilisateur"}),g.jsxs("form",{onSubmit:A,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),g.jsx("input",{type:"email",value:u,onChange:$=>d($.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),g.jsx("input",{type:"password",value:f,onChange:$=>h($.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rôle"}),g.jsxs("select",{value:p,onChange:$=>v($.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",children:[g.jsx("option",{value:"user",children:"Utilisateur"}),g.jsx("option",{value:"admin",children:"Administrateur"})]})]}),g.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Créer l'utilisateur"})]})]}),g.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rôle"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Créé le"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map($=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.email}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$.role==="admin"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:$.role})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date($.created_at).toLocaleDateString("fr-FR")}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.jsx("button",{className:"text-purple-600 hover:text-purple-900",children:"Modifier"})})]},$.id))})]})})]}),e==="events"&&g.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Photos"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map($=>{var V;return g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date($.date).toLocaleDateString("fr-FR")}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((V=$.photos_aggregate)==null?void 0:V.count)||0}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[g.jsx("button",{className:"text-purple-600 hover:text-purple-900 mr-4",children:"Modifier"}),g.jsx("button",{className:"text-purple-600 hover:text-purple-900",children:"Voir les photos"})]})]},$.id)})})]})}),e==="email"&&g.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Template d'email"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contenu de l'email"}),g.jsx("textarea",{value:I,onChange:$=>U($.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Variables disponibles:"}),g.jsxs("ul",{className:"text-sm text-gray-500 list-disc list-inside",children:[g.jsxs("li",{children:["{{event}}"," - Nom de l'événement"]}),g.jsxs("li",{children:["{{date}}"," - Date de l'événement"]}),g.jsxs("li",{children:["{{photo_url}}"," - URL de la photo"]})]})]}),g.jsx("button",{onClick:z,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Sauvegarder"})]})]}),e==="settings"&&g.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Paramètres de l'interface"}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Animations"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",checked:E.animations,onChange:$=>S({...E,animations:$.target.checked}),className:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Activer les animations de transition"})]}),g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",checked:E.autoRotate,onChange:$=>S({...E,autoRotate:$.target.checked}),className:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Rotation automatique des photos selon l'EXIF"})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Parametres de regroupement des filtres"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",checked:E.cartoon,onChange:$=>S({...E,cartoon:$.target.checked}),className:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Cartoon"})]}),g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",checked:E.dessin,onChange:$=>S({...E,dessin:$.target.checked}),className:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Dessins"})]}),g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",checked:E.univers,onChange:$=>S({...E,univers:$.target.checked}),className:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Univers"})]}),g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",checked:E.carricature,onChange:$=>S({...E,carricature:$.target.checked}),className:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Carricature"})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Affichage"}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Nombre de colonnes dans la grille"}),g.jsxs("select",{value:E.gridColumns,onChange:$=>S({...E,gridColumns:Number($.target.value)}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md",children:[g.jsx("option",{value:3,children:"3 colonnes"}),g.jsx("option",{value:4,children:"4 colonnes"}),g.jsx("option",{value:5,children:"5 colonnes"}),g.jsx("option",{value:6,children:"6 colonnes"})]})]})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Impression"}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Format d'impression par défaut"}),g.jsxs("select",{value:E.printFormat,onChange:$=>S({...E,printFormat:$.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md",children:[g.jsx("option",{value:"10x15",children:"10x15 cm"}),g.jsx("option",{value:"13x18",children:"13x18 cm"}),g.jsx("option",{value:"15x20",children:"15x20 cm"})]})]})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Ecran"}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Orientation de l'ecran"}),g.jsxs("select",{value:E.screenOrientation,onChange:$=>S({...E,screenOrientation:$.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md",children:[g.jsx("option",{value:"Paysage",children:"Paysage - Horizontale"}),g.jsx("option",{value:"Portrait",children:"Portrait - Verticale"})]})]})})]}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{onClick:B,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Sauvegarder les paramètres"})})]})]}),e==="screen"&&g.jsxs("div",{className:"space-y6",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ajouter un écran"}),g.jsxs("form",{onSubmit:M,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),g.jsx("input",{type:"text",value:_,onChange:$=>T($.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Adresse Ip de l'appareil"}),g.jsx("input",{type:"text",value:C,onChange:$=>N($.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de série"}),g.jsx("input",{type:"text",value:b,onChange:$=>k($.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),g.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Ajouter l'écran"})]})]}),g.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden mt-8",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NOM"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ADRESSE IP"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NUMERO DE SERIE"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Séléctionner"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map($=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.screen_name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:$.ip_adress}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.serial_number}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.jsx("input",{type:"checkbox",checked:P===$.id,onChange:()=>R(P===$.id?null:$.id),className:"form-checkbox h-4 w-4 text-purple-600 rounded border-gray-300 focus:ring-purple-500"})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.jsx("button",{className:"text-purple-600 hover:text-purple-900",children:"Modifier"})})]},$.id))})]})})]})]})})]})}var l1={exports:{}};(function(e,t){(function(r,s){e.exports=s(j)})(bt,function(n){return function(r){var s={};function i(o){if(s[o])return s[o].exports;var a=s[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=s,i.d=function(o,a,l){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(a&1&&(o=i(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)i.d(l,c,(function(u){return o[u]}).bind(null,c));return l},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,s,i){i.r(s);var o=i("react"),a=function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var y in x)x.hasOwnProperty(y)&&(v[y]=x[y])},f(h,p)};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),l=function(){return l=Object.assign||function(f){for(var h,p=1,v=arguments.length;p<v;p++){h=arguments[p];for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(f[x]=h[x])}return f},l.apply(this,arguments)},c=function(f,h){var p={};for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&h.indexOf(v)<0&&(p[v]=f[v]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,v=Object.getOwnPropertySymbols(f);x<v.length;x++)h.indexOf(v[x])<0&&Object.prototype.propertyIsEnumerable.call(f,v[x])&&(p[v[x]]=f[v[x]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(v,x){p.call(navigator,h,v,x)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(f){a(h,f);function h(p){var v=f.call(this,p)||this;return v.canvas=null,v.ctx=null,v.requestUserMediaId=0,v.unmounted=!1,v.state={hasUserMedia:!1},v}return h.prototype.componentDidMount=function(){var p=this,v=p.state,x=p.props;if(this.unmounted=!1,!u()){x.onUserMediaError("getUserMedia not supported");return}v.hasUserMedia||this.requestUserMedia(),x.children&&typeof x.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(p){var v=this.props;if(!u()){v.onUserMediaError("getUserMedia not supported");return}var x=JSON.stringify(p.audioConstraints)!==JSON.stringify(v.audioConstraints),y=JSON.stringify(p.videoConstraints)!==JSON.stringify(v.videoConstraints),w=p.minScreenshotWidth!==v.minScreenshotWidth,m=p.minScreenshotHeight!==v.minScreenshotHeight;(y||w||m)&&(this.canvas=null,this.ctx=null),(x||y)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(v){p.removeTrack(v),v.stop()}),p.getAudioTracks().map(function(v){p.removeTrack(v),v.stop()})):p.stop())},h.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(h.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},h.prototype.getScreenshot=function(p){var v=this,x=v.state,y=v.props;if(!x.hasUserMedia)return null;var w=this.getCanvas(p);return w&&w.toDataURL(y.screenshotFormat,y.screenshotQuality)},h.prototype.getCanvas=function(p){var v=this,x=v.state,y=v.props;if(!this.video||!x.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var w=this.video.videoWidth,m=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var _=w/m;w=y.minScreenshotWidth||this.video.clientWidth,m=w/_,y.minScreenshotHeight&&m<y.minScreenshotHeight&&(m=y.minScreenshotHeight,w=m*_)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||w,this.canvas.height=(p==null?void 0:p.height)||m,this.ctx=this.canvas.getContext("2d")}var T=this,C=T.ctx,N=T.canvas;return C&&N&&(N.width=(p==null?void 0:p.width)||N.width,N.height=(p==null?void 0:p.height)||N.height,y.mirrored&&(C.translate(N.width,0),C.scale(-1,1)),C.imageSmoothingEnabled=y.imageSmoothing,C.drawImage(this.video,0,0,(p==null?void 0:p.width)||N.width,(p==null?void 0:p.height)||N.height),y.mirrored&&(C.scale(-1,1),C.translate(-N.width,0))),N},h.prototype.requestUserMedia=function(){var p=this,v=this.props,x=function(m,_){var T={video:typeof _<"u"?_:!0};v.audio&&(T.audio=typeof m<"u"?m:!0),p.requestUserMediaId++;var C=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(T).then(function(N){p.unmounted||C!==p.requestUserMediaId?h.stopMediaStream(N):p.handleUserMedia(null,N)}).catch(function(N){p.handleUserMedia(N)})};if("mediaDevices"in navigator)x(v.audioConstraints,v.videoConstraints);else{var y=function(m){return{optional:[{sourceId:m}]}},w=function(m){var _=m.deviceId;return typeof _=="string"?_:Array.isArray(_)&&_.length>0?_[0]:typeof _=="object"&&_.ideal?_.ideal:null};MediaStreamTrack.getSources(function(m){var _=null,T=null;m.forEach(function(b){b.kind==="audio"?_=b.id:b.kind==="video"&&(T=b.id)});var C=w(v.audioConstraints);C&&(_=C);var N=w(v.videoConstraints);N&&(T=N),x(y(_),y(T))})}},h.prototype.handleUserMedia=function(p,v){var x=this.props;if(p||!v){this.setState({hasUserMedia:!1}),x.onUserMediaError(p);return}this.stream=v;try{this.video&&(this.video.srcObject=v),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(v)})}x.onUserMedia(v)},h.prototype.render=function(){var p=this,v=this,x=v.state,y=v.props,w=y.audio;y.forceScreenshotSourceSize;var m=y.disablePictureInPicture;y.onUserMedia,y.onUserMediaError,y.screenshotFormat,y.screenshotQuality,y.minScreenshotWidth,y.minScreenshotHeight,y.audioConstraints,y.videoConstraints,y.imageSmoothing;var _=y.mirrored,T=y.style,C=T===void 0?{}:T,N=y.children,b=c(y,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),k=_?l(l({},C),{transform:(C.transform||"")+" scaleX(-1)"}):C,P={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:m,src:x.src,muted:!w,playsInline:!0,ref:function(R){p.video=R},style:k},b)),N&&N(P))},h.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(o.Component);s.default=d},react:function(r,s){r.exports=n}}).default})})(l1);var WP=l1.exports;const JP=Wc(WP),Zi={_origin:"https://api.emailjs.com"},GP=(e,t="https://api.emailjs.com")=>{Zi._userID=e,Zi._origin=t},u1=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class hm{constructor(t){this.status=t.status,this.text=t.responseText}}const c1=(e,t,n={})=>new Promise((r,s)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:o})=>{const a=new hm(o);a.status===200||a.text==="OK"?r(a):s(a)}),i.addEventListener("error",({target:o})=>{s(new hm(o))}),i.open("POST",Zi._origin+e,!0),Object.keys(n).forEach(o=>{i.setRequestHeader(o,n[o])}),i.send(t)}),qP=(e,t,n,r)=>{const s=r||Zi._userID;return u1(s,e,t),c1("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"})},KP=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},XP=(e,t,n,r)=>{const s=r||Zi._userID,i=KP(n);u1(s,e,t);const o=new FormData(i);return o.append("lib_version","3.2.0"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",s),c1("/api/v1.0/email/send-form",o)},YP={init:GP,send:qP,sendForm:XP};function d1({image:e,onClose:t}){const[n,r]=j.useState(""),[s,i]=j.useState(!1),[o,a]=j.useState(""),[l,c]=j.useState(!1),u=async d=>{if(d.preventDefault(),!n){a("Veuillez entrer une adresse email");return}try{i(!0),a("");const f={to_email:n,image_url:e,message:"Voici votre photo du photobooth!"};await YP.send({}.VITE_EMAILJS_SERVICE_ID,{}.VITE_EMAILJS_TEMPLATE_ID,f,{}.VITE_EMAILJS_USER_ID),c(!0),setTimeout(t,2e3)}catch(f){a("Erreur lors de l'envoi. Veuillez réessayer."),console.error("Erreur email:",f)}finally{i(!1)}};return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full mx-4",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Envoyer par email"}),l?g.jsx("div",{className:"text-green-600 text-center py-4",children:"Email envoyé avec succès!"}):g.jsxs("form",{onSubmit:u,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email"}),g.jsx("input",{type:"email",id:"email",value:n,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"exemple@email.com",disabled:s})]}),o&&g.jsx("p",{className:"text-red-500 text-sm",children:o}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:s,children:"Annuler"}),g.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",disabled:s,children:s?"Envoi...":"Envoyer"})]})]})]})})}function f1({image:e,onClose:t}){const[n,r]=j.useState(1),[s,i]=j.useState(!1),[o,a]=j.useState(""),l=async()=>{try{i(!0),a(""),await new Promise(c=>setTimeout(c,2e3)),t()}catch{a("Erreur lors de l'impression")}finally{i(!1)}};return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl w-96",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Imprimer"}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre de copies"}),g.jsxs("div",{className:"flex items-center justify-center gap-4",children:[g.jsx("button",{onClick:()=>r(1),className:`w-16 h-16 text-2xl rounded-full border-2 ${n===1?"border-purple-600 bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:border-purple-600"}`,children:"1"}),g.jsx("button",{onClick:()=>r(2),className:`w-16 h-16 text-2xl rounded-full border-2 ${n===2?"border-purple-600 bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:border-purple-600"}`,children:"2"})]})]}),o&&g.jsx("p",{className:"text-red-500 mb-4",children:o}),g.jsxs("div",{className:"flex justify-end gap-4",children:[g.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded",children:"Annuler"}),g.jsx("button",{onClick:l,disabled:s,className:"px-4 py-2 bg-purple-600 text-white rounded disabled:opacity-50",children:s?"Impression...":"Imprimer"})]})]})})}const h1=({value:e,size:t=128})=>g.jsx("div",{className:"flex justify-center items-center",children:g.jsx(yf,{value:e,size:t,bgColor:"#ffffff",fgColor:"#000000",level:"L"})});function QP(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var Ha={},ZP={get exports(){return Ha},set exports(e){Ha=e}};(function(e){var t,n,r={};ZP.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(s),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var f=o(u,l+=4);o(u,l+=2);var h=a(u,l+=2),p=a(u,l+=4);l+=4,l=p;for(var v=0;v<f;v++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),h=a(u,l+=4);var x=a(u,l+=4),y=o(u,l+=4),w=o(u,l+2),m=o(u,l+4);l+=6;var _=a(u,l+=8);l+=4,l+=y+w+m,r._readLocal(u,_,c,h,x,i)}return c},r._readLocal=function(s,i,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(s,i),u(s,i+=4),u(s,i+=2);var f=u(s,i+=2);d(s,i+=2),d(s,i+=4),i+=4;var h=u(s,i+=8),p=u(s,i+=2);i+=2;var v=r.bin.readUTF8(s,i,h);if(i+=h,i+=p,c)o[v]={size:l,csize:a};else{var x=new Uint8Array(s.buffer,i);if(f==0)o[v]=new Uint8Array(x.buffer.slice(i,i+a));else{if(f!=8)throw"unknown compression method: "+f;var y=new Uint8Array(l);r.inflateRaw(x,y),o[v]=y}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(s,a,o,i.level);var l=r.adler(s,0,s.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),a=r.F.deflateRaw(s,o,a,i.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(s,i){i==null&&(i=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in s){var d=!r._noNeed(u)&&!i,f=s[u],h=r.crc.crc(f,0,f.length);c[u]={cpr:d,usize:f.length,crc:h,file:d?r.deflateRaw(f):f}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var p=new Uint8Array(o),v=0,x=[];for(var u in c){var y=c[u];x.push(v),v=r._writeHeader(p,v,u,y,0)}var w=0,m=v;for(var u in c)y=c[u],x.push(v),v=r._writeHeader(p,v,u,y,1,x[w++]);var _=v-m;return a(p,v,101010256),v+=4,l(p,v+=4,w),l(p,v+=2,w),a(p,v+=2,_),a(p,v+=4,m),v+=4,v+=2,p.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,f=a.file;return u(s,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),d(s,i,20),d(s,i+=2,0),d(s,i+=2,a.cpr?8:0),u(s,i+=2,0),u(s,i+=4,a.crc),u(s,i+=4,f.length),u(s,i+=4,a.usize),d(s,i+=4,r.bin.sizeUTF8(o)),d(s,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(s,i+=6,c),i+=4),i+=r.bin.writeUTF8(s,i,o),l==0&&(s.set(f,i),i+=f.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,a){for(var l=0;l<a;l++)s=r.crc.table[255&(s^i[o+l])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var a=1,l=0,c=i,u=i+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=s[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(s[i+l]);return a},writeASCII:function(s,i,o){for(var a=0;a<o.length;a++)s[i+a]=o.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(s[i+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(s,i,o)}return a},writeUTF8:function(s,i,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))s[i+l]=u,l++;else if(!(4294965248&u))s[i+l]=192|u>>6,s[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))s[i+l]=224|u>>12,s[i+l+1]=128|u>>6&63,s[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";s[i+l]=240|u>>18,s[i+l+1]=128|u>>12&63,s[i+l+2]=128|u>>6&63,s[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(s){for(var i=s.length,o=0,a=0;a<i;a++){var l=s.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,f=0,h=o<<3,p=0,v=s.length;if(a==0){for(;f<v;)d(i,h,f+(R=Math.min(65535,v-f))==v?1:0),h=r.F._copyExact(s,f,R,i,h+8),f+=R;return h>>>3}var x=c.lits,y=c.strt,w=c.prev,m=0,_=0,T=0,C=0,N=0,b=0;for(v>2&&(y[b=r.F._hash(s,0)]=0),f=0;f<v;f++){if(N=b,f+1<v-2){b=r.F._hash(s,f+1);var k=f+1&32767;w[k]=y[b],y[b]=k}if(p<=f){(m>14e3||_>26697)&&v-f>100&&(p<f&&(x[m]=f-p,m+=2,p=f),h=r.F._writeBlock(f==v-1||p==v?1:0,x,m,C,s,T,f-T,i,h),m=_=C=0,T=f);var P=0;f<v-2&&(P=r.F._bestMatch(s,f,w,N,Math.min(l[2],v-f),l[3]));var R=P>>>16,O=65535&P;if(P!=0){O=65535&P;var D=u(R=P>>>16,c.of0);c.lhst[257+D]++;var I=u(O,c.df0);c.dhst[I]++,C+=c.exb[D]+c.dxb[I],x[m]=R<<23|f-p,x[m+1]=O<<16|D<<8|I,m+=2,p=f+R}else c.lhst[s[f]]++;_++}}for(T==f&&s.length!=0||(p<f&&(x[m]=f-p,m+=2,p=f),h=r.F._writeBlock(1,x,m,C,s,T,f-T,i,h),m=0,_=0,m=_=C=0,T=f);7&h;)h++;return h>>>3},r.F._bestMatch=function(s,i,o,a,l,c){var u=32767&i,d=o[u],f=u-d+32768&32767;if(d==u||a!=r.F._hash(s,i-f))return 0;for(var h=0,p=0,v=Math.min(32767,i);f<=v&&--c!=0&&d!=u;){if(h==0||s[i+h]==s[i+h-f]){var x=r.F._howLong(s,i,f);if(x>h){if(p=f,(h=x)>=l)break;f+2<x&&(x=f+2);for(var y=0,w=0;w<x-2;w++){var m=i-f+w+32768&32767,_=m-o[m]+32768&32767;_>y&&(y=_,d=m)}}}f+=(u=d)-(d=o[u])+32768&32767}return h<<16|p},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var a=i,l=Math.min(s.length,i+258);for(i+=3;i<l&&s[i]==s[i-o];)i++;return i-a},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,a,l,c,u,d,f){var h,p,v,x,y,w,m,_,T,C=r.F.U,N=r.F._putsF,b=r.F._putsE;C.lhst[256]++,p=(h=r.F.getTrees())[0],v=h[1],x=h[2],y=h[3],w=h[4],m=h[5],_=h[6],T=h[7];var k=32+(f+3&7?8-(f+3&7):0)+(u<<3),P=a+r.F.contSize(C.fltree,C.lhst)+r.F.contSize(C.fdtree,C.dhst),R=a+r.F.contSize(C.ltree,C.lhst)+r.F.contSize(C.dtree,C.dhst);R+=14+3*m+r.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var O=0;O<286;O++)C.lhst[O]=0;for(O=0;O<30;O++)C.dhst[O]=0;for(O=0;O<19;O++)C.ihst[O]=0;var D=k<P&&k<R?0:P<R?1:2;if(N(d,f,s),N(d,f+1,D),f+=3,D==0){for(;7&f;)f++;f=r.F._copyExact(l,c,u,d,f)}else{var I,U;if(D==1&&(I=C.fltree,U=C.fdtree),D==2){r.F.makeCodes(C.ltree,p),r.F.revCodes(C.ltree,p),r.F.makeCodes(C.dtree,v),r.F.revCodes(C.dtree,v),r.F.makeCodes(C.itree,x),r.F.revCodes(C.itree,x),I=C.ltree,U=C.dtree,b(d,f,y-257),b(d,f+=5,w-1),b(d,f+=5,m-4),f+=4;for(var E=0;E<m;E++)b(d,f+3*E,C.itree[1+(C.ordr[E]<<1)]);f+=3*m,f=r.F._codeTiny(_,C.itree,d,f),f=r.F._codeTiny(T,C.itree,d,f)}for(var S=c,L=0;L<o;L+=2){for(var A=i[L],M=A>>>23,B=S+(8388607&A);S<B;)f=r.F._writeLit(l[S++],I,d,f);if(M!=0){var z=i[L+1],$=z>>16,V=z>>8&255,F=255&z;b(d,f=r.F._writeLit(257+V,I,d,f),M-C.of0[V]),f+=C.exb[V],N(d,f=r.F._writeLit(F,U,d,f),$-C.df0[F]),f+=C.dxb[F],S+=M}}f=r.F._writeLit(256,I,d,f)}return f},r.F._copyExact=function(s,i,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(s.buffer,i,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),a=[],l=r.F._lenCodes(s.ltree,a),c=[],u=r.F._lenCodes(s.dtree,c),d=0;d<a.length;d+=2)s.ihst[a[d]]++;for(d=0;d<c.length;d+=2)s.ihst[c[d]]++;for(var f=r.F._hufTree(s.ihst,s.itree,7),h=19;h>4&&s.itree[1+(s.ordr[h-1]<<1)]==0;)h--;return[i,o,f,l,u,h,a,c]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,a=0;a<i.length;a++)o+=i[a]*s[1+(a<<1)];return o},r.F._codeTiny=function(s,i,o,a){for(var l=0;l<s.length;l+=2){var c=s[l],u=s[l+1];a=r.F._writeLit(c,i,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=s[a+1],c=a+3<o?s[a+3]:-1,u=a+5<o?s[a+5]:-1,d=a==0?-1:s[a-1];if(l==0&&c==l&&u==l){for(var f=a+5;f+2<o&&s[f+2]==l;)f+=2;(h=Math.min(f+1-a>>>1,138))<11?i.push(17,h-3):i.push(18,h-11),a+=2*h-2}else if(l==d&&c==l&&u==l){for(f=a+5;f+2<o&&s[f+2]==l;)f+=2;var h=Math.min(f+1-a>>>1,6);i.push(16,h-3),a+=2*h-2}else i.push(l,0)}return o>>>1},r.F._hufTree=function(s,i,o){var a=[],l=s.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var d=a.length,f=a.slice(0);if(d==0)return 0;if(d==1){var h=a[0].lit;return f=h==0?1:0,i[1+(h<<1)]=1,i[1+(f<<1)]=1,1}a.sort(function(_,T){return _.f-T.f});var p=a[0],v=a[1],x=0,y=1,w=2;for(a[0]={lit:-1,f:p.f+v.f,l:p,r:v,d:0};y!=d-1;)p=x!=y&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],v=x!=y&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],a[y++]={lit:-1,f:p.f+v.f,l:p,r:v};var m=r.F.setDepth(a[y-1],0);for(m>o&&(r.F.restrictDepth(f,o,m),m=o),u=0;u<d;u++)i[1+(f[u].lit<<1)]=f[u].d;return m},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var a=0,l=1<<o-i,c=0;for(s.sort(function(d,f){return f.d==d.d?d.f-f.f:f.d-d.d}),a=0;a<s.length&&s[a].d>i;a++){var u=s[a].d;s[a].d=i,c+=l-(1<<o-u)}for(c>>>=o-i;c>0;)(u=s[a].d)<i?(s[a].d++,c-=1<<i-u-1):a++;for(;a>=0;a--)s[a].d==i&&c<0&&(s[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,a){return r.F._putsF(o,a,i[s<<1]),a+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,f=a.codes2map,h=a._get17,p=a.U,v=i==null;v&&(i=new o(s.length>>>2<<3));for(var x,y,w=0,m=0,_=0,T=0,C=0,N=0,b=0,k=0,P=0;w==0;)if(w=l(s,P,1),m=l(s,P+1,2),P+=3,m!=0){if(v&&(i=r.F._check(i,k+(1<<17))),m==1&&(x=p.flmap,y=p.fdmap,N=511,b=31),m==2){_=c(s,P,5)+257,T=c(s,P+5,5)+1,C=c(s,P+10,4)+4,P+=14;for(var R=0;R<38;R+=2)p.itree[R]=0,p.itree[R+1]=0;var O=1;for(R=0;R<C;R++){var D=c(s,P+3*R,3);p.itree[1+(p.ordr[R]<<1)]=D,D>O&&(O=D)}P+=3*C,d(p.itree,O),f(p.itree,O,p.imap),x=p.lmap,y=p.dmap,P=u(p.imap,(1<<O)-1,_+T,s,P,p.ttree);var I=a._copyOut(p.ttree,0,_,p.ltree);N=(1<<I)-1;var U=a._copyOut(p.ttree,_,T,p.dtree);b=(1<<U)-1,d(p.ltree,I),f(p.ltree,I,x),d(p.dtree,U),f(p.dtree,U,y)}for(;;){var E=x[h(s,P)&N];P+=15&E;var S=E>>>4;if(!(S>>>8))i[k++]=S;else{if(S==256)break;var L=k+S-254;if(S>264){var A=p.ldef[S-257];L=k+(A>>>3)+c(s,P,7&A),P+=7&A}var M=y[h(s,P)&b];P+=15&M;var B=M>>>4,z=p.ddef[B],$=(z>>>4)+l(s,P,15&z);for(P+=15&z,v&&(i=r.F._check(i,k+(1<<17)));k<L;)i[k]=i[k++-$],i[k]=i[k++-$],i[k]=i[k++-$],i[k]=i[k++-$];k=L}}}else{7&P&&(P+=8-(7&P));var V=4+(P>>>3),F=s[V-4]|s[V-3]<<8;v&&(i=r.F._check(i,k+F)),i.set(new o(s.buffer,s.byteOffset+V,F),k),P=V+F<<3,k+=F}return i.length==k?i:i.slice(0,k)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var a=new Uint8Array(Math.max(o<<1,i));return a.set(s,0),a},r.F._decodeTiny=function(s,i,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,f=0;f<o;){var h=s[d(a,l)&i];l+=15&h;var p=h>>>4;if(p<=15)c[f]=p,f++;else{var v=0,x=0;p==16?(x=3+u(a,l,2),l+=2,v=c[f-1]):p==17?(x=3+u(a,l,3),l+=3):p==18&&(x=11+u(a,l,7),l+=7);for(var y=f+x;f<y;)c[f]=v,f++}}return l},r.F._copyOut=function(s,i,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=s[c+i];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(s,i){for(var o,a,l,c,u=r.F.U,d=s.length,f=u.bl_count,h=0;h<=i;h++)f[h]=0;for(h=1;h<d;h+=2)f[s[h]]++;var p=u.next_code;for(o=0,f[0]=0,a=1;a<=i;a++)o=o+f[a-1]<<1,p[a]=o;for(l=0;l<d;l+=2)(c=s[l+1])!=0&&(s[l]=p[c],p[c]++)},r.F.codes2map=function(s,i,o){for(var a=s.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(s[c+1]!=0)for(var u=c>>1,d=s[c+1],f=u<<4|d,h=i-d,p=s[c]<<h,v=p+(1<<h);p!=v;)o[l[p]>>>15-i]=f,p++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,a=15-i,l=0;l<s.length;l+=2){var c=s[l]<<i-s[l+1];s[l]=o[c]>>>a}},r.F._putsE=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8,s[a+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),a(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var e3=QP({__proto__:null,default:Ha},[Ha]);const Xt=function(){var e={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,f){u[d]=f>>8&255,u[d+1]=255&f},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,f){u[d]=f>>24&255,u[d+1]=f>>16&255,u[d+2]=f>>8&255,u[d+3]=255&f},readASCII(u,d,f){let h="";for(let p=0;p<f;p++)h+=String.fromCharCode(u[d+p]);return h},writeASCII(u,d,f){for(let h=0;h<f.length;h++)u[d+h]=f.charCodeAt(h)},readBytes(u,d,f){const h=[];for(let p=0;p<f;p++)h.push(u[d+p]);return h},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,f){let h,p="";for(let v=0;v<f;v++)p+=`%${e.pad(u[d+v].toString(16))}`;try{h=decodeURIComponent(p)}catch{return e.readASCII(u,d,f)}return h}};function t(u,d,f,h){const p=d*f,v=i(h),x=Math.ceil(d*v/8),y=new Uint8Array(4*p),w=new Uint32Array(y.buffer),{ctype:m}=h,{depth:_}=h,T=e.readUshort;if(m==6){const A=p<<2;if(_==8)for(var C=0;C<A;C+=4)y[C]=u[C],y[C+1]=u[C+1],y[C+2]=u[C+2],y[C+3]=u[C+3];if(_==16)for(C=0;C<A;C++)y[C]=u[C<<1]}else if(m==2){const A=h.tabs.tRNS;if(A==null){if(_==8)for(C=0;C<p;C++){var N=3*C;w[C]=255<<24|u[N+2]<<16|u[N+1]<<8|u[N]}if(_==16)for(C=0;C<p;C++)N=6*C,w[C]=255<<24|u[N+4]<<16|u[N+2]<<8|u[N]}else{var b=A[0];const M=A[1],B=A[2];if(_==8)for(C=0;C<p;C++){var k=C<<2;N=3*C,w[C]=255<<24|u[N+2]<<16|u[N+1]<<8|u[N],u[N]==b&&u[N+1]==M&&u[N+2]==B&&(y[k+3]=0)}if(_==16)for(C=0;C<p;C++)k=C<<2,N=6*C,w[C]=255<<24|u[N+4]<<16|u[N+2]<<8|u[N],T(u,N)==b&&T(u,N+2)==M&&T(u,N+4)==B&&(y[k+3]=0)}}else if(m==3){const A=h.tabs.PLTE,M=h.tabs.tRNS,B=M?M.length:0;if(_==1)for(var P=0;P<f;P++){var R=P*x,O=P*d;for(C=0;C<d;C++){k=O+C<<2;var D=3*(I=u[R+(C>>3)]>>7-((7&C)<<0)&1);y[k]=A[D],y[k+1]=A[D+1],y[k+2]=A[D+2],y[k+3]=I<B?M[I]:255}}if(_==2)for(P=0;P<f;P++)for(R=P*x,O=P*d,C=0;C<d;C++)k=O+C<<2,D=3*(I=u[R+(C>>2)]>>6-((3&C)<<1)&3),y[k]=A[D],y[k+1]=A[D+1],y[k+2]=A[D+2],y[k+3]=I<B?M[I]:255;if(_==4)for(P=0;P<f;P++)for(R=P*x,O=P*d,C=0;C<d;C++)k=O+C<<2,D=3*(I=u[R+(C>>1)]>>4-((1&C)<<2)&15),y[k]=A[D],y[k+1]=A[D+1],y[k+2]=A[D+2],y[k+3]=I<B?M[I]:255;if(_==8)for(C=0;C<p;C++){var I;k=C<<2,D=3*(I=u[C]),y[k]=A[D],y[k+1]=A[D+1],y[k+2]=A[D+2],y[k+3]=I<B?M[I]:255}}else if(m==4){if(_==8)for(C=0;C<p;C++){k=C<<2;var U=u[E=C<<1];y[k]=U,y[k+1]=U,y[k+2]=U,y[k+3]=u[E+1]}if(_==16)for(C=0;C<p;C++){var E;k=C<<2,U=u[E=C<<2],y[k]=U,y[k+1]=U,y[k+2]=U,y[k+3]=u[E+2]}}else if(m==0)for(b=h.tabs.tRNS?h.tabs.tRNS:-1,P=0;P<f;P++){const A=P*x,M=P*d;if(_==1)for(var S=0;S<d;S++){var L=(U=255*(u[A+(S>>>3)]>>>7-(7&S)&1))==255*b?0:255;w[M+S]=L<<24|U<<16|U<<8|U}else if(_==2)for(S=0;S<d;S++)L=(U=85*(u[A+(S>>>2)]>>>6-((3&S)<<1)&3))==85*b?0:255,w[M+S]=L<<24|U<<16|U<<8|U;else if(_==4)for(S=0;S<d;S++)L=(U=17*(u[A+(S>>>1)]>>>4-((1&S)<<2)&15))==17*b?0:255,w[M+S]=L<<24|U<<16|U<<8|U;else if(_==8)for(S=0;S<d;S++)L=(U=u[A+S])==b?0:255,w[M+S]=L<<24|U<<16|U<<8|U;else if(_==16)for(S=0;S<d;S++)U=u[A+(S<<1)],L=T(u,A+(S<<1))==b?0:255,w[M+S]=L<<24|U<<16|U<<8|U}return y}function n(u,d,f,h){const p=i(u),v=Math.ceil(f*p/8),x=new Uint8Array((v+1+u.interlace)*h);return d=u.tabs.CgBI?s(d,x):r(d,x),u.interlace==0?d=o(d,u,0,f,h):u.interlace==1&&(d=function(w,m){const _=m.width,T=m.height,C=i(m),N=C>>3,b=Math.ceil(_*C/8),k=new Uint8Array(T*b);let P=0;const R=[0,0,4,0,2,0,1],O=[0,4,0,2,0,1,0],D=[8,8,8,4,4,2,2],I=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const S=D[U],L=I[U];let A=0,M=0,B=R[U];for(;B<T;)B+=S,M++;let z=O[U];for(;z<_;)z+=L,A++;const $=Math.ceil(A*C/8);o(w,m,P,A,M);let V=0,F=R[U];for(;F<T;){let J=O[U],ee=P+V*$<<3;for(;J<_;){var E;if(C==1&&(E=(E=w[ee>>3])>>7-(7&ee)&1,k[F*b+(J>>3)]|=E<<7-((7&J)<<0)),C==2&&(E=(E=w[ee>>3])>>6-(7&ee)&3,k[F*b+(J>>2)]|=E<<6-((3&J)<<1)),C==4&&(E=(E=w[ee>>3])>>4-(7&ee)&15,k[F*b+(J>>1)]|=E<<4-((1&J)<<2)),C>=8){const re=F*b+J*N;for(let Q=0;Q<N;Q++)k[re+Q]=w[(ee>>3)+Q]}ee+=C,J+=L}V++,F+=S}A*M!=0&&(P+=M*(1+$)),U+=1}return k}(d,u)),d}function r(u,d){return s(new Uint8Array(u.buffer,2,u.length-6),d)}var s=function(){const u={H:{}};return u.H.N=function(d,f){const h=Uint8Array;let p,v,x=0,y=0,w=0,m=0,_=0,T=0,C=0,N=0,b=0;if(d[0]==3&&d[1]==0)return f||new h(0);const k=u.H,P=k.b,R=k.e,O=k.R,D=k.n,I=k.A,U=k.Z,E=k.m,S=f==null;for(S&&(f=new h(d.length>>>2<<5));x==0;)if(x=P(d,b,1),y=P(d,b+1,2),b+=3,y!=0){if(S&&(f=u.H.W(f,N+(1<<17))),y==1&&(p=E.J,v=E.h,T=511,C=31),y==2){w=R(d,b,5)+257,m=R(d,b+5,5)+1,_=R(d,b+10,4)+4,b+=14;let A=1;for(var L=0;L<38;L+=2)E.Q[L]=0,E.Q[L+1]=0;for(L=0;L<_;L++){const z=R(d,b+3*L,3);E.Q[1+(E.X[L]<<1)]=z,z>A&&(A=z)}b+=3*_,D(E.Q,A),I(E.Q,A,E.u),p=E.w,v=E.d,b=O(E.u,(1<<A)-1,w+m,d,b,E.v);const M=k.V(E.v,0,w,E.C);T=(1<<M)-1;const B=k.V(E.v,w,m,E.D);C=(1<<B)-1,D(E.C,M),I(E.C,M,p),D(E.D,B),I(E.D,B,v)}for(;;){const A=p[U(d,b)&T];b+=15&A;const M=A>>>4;if(!(M>>>8))f[N++]=M;else{if(M==256)break;{let B=N+M-254;if(M>264){const J=E.q[M-257];B=N+(J>>>3)+R(d,b,7&J),b+=7&J}const z=v[U(d,b)&C];b+=15&z;const $=z>>>4,V=E.c[$],F=(V>>>4)+P(d,b,15&V);for(b+=15&V;N<B;)f[N]=f[N++-F],f[N]=f[N++-F],f[N]=f[N++-F],f[N]=f[N++-F];N=B}}}}else{7&b&&(b+=8-(7&b));const A=4+(b>>>3),M=d[A-4]|d[A-3]<<8;S&&(f=u.H.W(f,N+M)),f.set(new h(d.buffer,d.byteOffset+A,M),N),b=A+M<<3,N+=M}return f.length==N?f:f.slice(0,N)},u.H.W=function(d,f){const h=d.length;if(f<=h)return d;const p=new Uint8Array(h<<1);return p.set(d,0),p},u.H.R=function(d,f,h,p,v,x){const y=u.H.e,w=u.H.Z;let m=0;for(;m<h;){const _=d[w(p,v)&f];v+=15&_;const T=_>>>4;if(T<=15)x[m]=T,m++;else{let C=0,N=0;T==16?(N=3+y(p,v,2),v+=2,C=x[m-1]):T==17?(N=3+y(p,v,3),v+=3):T==18&&(N=11+y(p,v,7),v+=7);const b=m+N;for(;m<b;)x[m]=C,m++}}return v},u.H.V=function(d,f,h,p){let v=0,x=0;const y=p.length>>>1;for(;x<h;){const w=d[x+f];p[x<<1]=0,p[1+(x<<1)]=w,w>v&&(v=w),x++}for(;x<y;)p[x<<1]=0,p[1+(x<<1)]=0,x++;return v},u.H.n=function(d,f){const h=u.H.m,p=d.length;let v,x,y,w;const m=h.j;for(var _=0;_<=f;_++)m[_]=0;for(_=1;_<p;_+=2)m[d[_]]++;const T=h.K;for(v=0,m[0]=0,x=1;x<=f;x++)v=v+m[x-1]<<1,T[x]=v;for(y=0;y<p;y+=2)w=d[y+1],w!=0&&(d[y]=T[w],T[w]++)},u.H.A=function(d,f,h){const p=d.length,v=u.H.m.r;for(let x=0;x<p;x+=2)if(d[x+1]!=0){const y=x>>1,w=d[x+1],m=y<<4|w,_=f-w;let T=d[x]<<_;const C=T+(1<<_);for(;T!=C;)h[v[T]>>>15-f]=m,T++}},u.H.l=function(d,f){const h=u.H.m.r,p=15-f;for(let v=0;v<d.length;v+=2){const x=d[v]<<f-d[v+1];d[v]=h[x]>>>p}},u.H.M=function(d,f,h){h<<=7&f;const p=f>>>3;d[p]|=h,d[p+1]|=h>>>8},u.H.I=function(d,f,h){h<<=7&f;const p=f>>>3;d[p]|=h,d[p+1]|=h>>>8,d[p+2]|=h>>>16},u.H.e=function(d,f,h){return(d[f>>>3]|d[1+(f>>>3)]<<8)>>>(7&f)&(1<<h)-1},u.H.b=function(d,f,h){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)&(1<<h)-1},u.H.Z=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16|d[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const d=Uint16Array,f=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,d.r[f]=(p>>>16|p<<16)>>>17}function h(p,v,x){for(;v--!=0;)p.push(0,x)}for(f=0;f<32;f++)d.q[f]=d.S[f]<<3|d.T[f],d.c[f]=d.p[f]<<4|d.z[f];h(d._,144,8),h(d._,112,9),h(d._,24,7),h(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),h(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),h(d.Q,19,0),h(d.C,286,0),h(d.D,30,0),h(d.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,f,h,p){let v=i(d);const x=Math.ceil(h*v/8);let y,w;v=Math.ceil(v/8);let m=u[f],_=0;if(m>1&&(u[f]=[0,0,1][m-2]),m==3)for(_=v;_<x;_++)u[_+1]=u[_+1]+(u[_+1-v]>>>1)&255;for(let T=0;T<p;T++)if(y=f+T*x,w=y+T+1,m=u[w-1],_=0,m==0)for(;_<x;_++)u[y+_]=u[w+_];else if(m==1){for(;_<v;_++)u[y+_]=u[w+_];for(;_<x;_++)u[y+_]=u[w+_]+u[y+_-v]}else if(m==2)for(;_<x;_++)u[y+_]=u[w+_]+u[y+_-x];else if(m==3){for(;_<v;_++)u[y+_]=u[w+_]+(u[y+_-x]>>>1);for(;_<x;_++)u[y+_]=u[w+_]+(u[y+_-x]+u[y+_-v]>>>1)}else{for(;_<v;_++)u[y+_]=u[w+_]+a(0,u[y+_-x],0);for(;_<x;_++)u[y+_]=u[w+_]+a(u[y+_-v],u[y+_-x],u[y+_-v-x])}return u}function a(u,d,f){const h=u+d-f,p=h-u,v=h-d,x=h-f;return p*p<=v*v&&p*p<=x*x?u:v*v<=x*x?d:f}function l(u,d,f){f.width=e.readUint(u,d),d+=4,f.height=e.readUint(u,d),d+=4,f.depth=u[d],d++,f.ctype=u[d],d++,f.compress=u[d],d++,f.filter=u[d],d++,f.interlace=u[d],d++}function c(u,d,f,h,p,v,x,y,w){const m=Math.min(d,p),_=Math.min(f,v);let T=0,C=0;for(let U=0;U<_;U++)for(let E=0;E<m;E++)if(x>=0&&y>=0?(T=U*d+E<<2,C=(y+U)*p+x+E<<2):(T=(-y+U)*d-x+E<<2,C=U*p+E<<2),w==0)h[C]=u[T],h[C+1]=u[T+1],h[C+2]=u[T+2],h[C+3]=u[T+3];else if(w==1){var N=u[T+3]*.00392156862745098,b=u[T]*N,k=u[T+1]*N,P=u[T+2]*N,R=h[C+3]*(1/255),O=h[C]*R,D=h[C+1]*R,I=h[C+2]*R;const S=1-N,L=N+R*S,A=L==0?0:1/L;h[C+3]=255*L,h[C+0]=(b+O*S)*A,h[C+1]=(k+D*S)*A,h[C+2]=(P+I*S)*A}else if(w==2)N=u[T+3],b=u[T],k=u[T+1],P=u[T+2],R=h[C+3],O=h[C],D=h[C+1],I=h[C+2],N==R&&b==O&&k==D&&P==I?(h[C]=0,h[C+1]=0,h[C+2]=0,h[C+3]=0):(h[C]=b,h[C+1]=k,h[C+2]=P,h[C+3]=N);else if(w==3){if(N=u[T+3],b=u[T],k=u[T+1],P=u[T+2],R=h[C+3],O=h[C],D=h[C+1],I=h[C+2],N==R&&b==O&&k==D&&P==I)continue;if(N<220&&R>20)return!1}return!0}return{decode:function(d){const f=new Uint8Array(d);let h=8;const p=e,v=p.readUshort,x=p.readUint,y={tabs:{},frames:[]},w=new Uint8Array(f.length);let m,_=0,T=0;const C=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(f[N]!=C[N])throw"The input is not a PNG file!";for(;h<f.length;){const U=p.readUint(f,h);h+=4;const E=p.readASCII(f,h,4);if(h+=4,E=="IHDR")l(f,h,y);else if(E=="iCCP"){for(var b=h;f[b]!=0;)b++;p.readASCII(f,h,b-h),f[b+1];const S=f.slice(b+2,h+U);let L=null;try{L=r(S)}catch{L=s(S)}y.tabs[E]=L}else if(E=="CgBI")y.tabs[E]=f.slice(h,h+4);else if(E=="IDAT"){for(N=0;N<U;N++)w[_+N]=f[h+N];_+=U}else if(E=="acTL")y.tabs[E]={num_frames:x(f,h),num_plays:x(f,h+4)},m=new Uint8Array(f.length);else if(E=="fcTL"){T!=0&&((I=y.frames[y.frames.length-1]).data=n(y,m.slice(0,T),I.rect.width,I.rect.height),T=0);const S={x:x(f,h+12),y:x(f,h+16),width:x(f,h+4),height:x(f,h+8)};let L=v(f,h+22);L=v(f,h+20)/(L==0?100:L);const A={rect:S,delay:Math.round(1e3*L),dispose:f[h+24],blend:f[h+25]};y.frames.push(A)}else if(E=="fdAT"){for(N=0;N<U-4;N++)m[T+N]=f[h+N+4];T+=U-4}else if(E=="pHYs")y.tabs[E]=[p.readUint(f,h),p.readUint(f,h+4),f[h+8]];else if(E=="cHRM")for(y.tabs[E]=[],N=0;N<8;N++)y.tabs[E].push(p.readUint(f,h+4*N));else if(E=="tEXt"||E=="zTXt"){y.tabs[E]==null&&(y.tabs[E]={});var k=p.nextZero(f,h),P=p.readASCII(f,h,k-h),R=h+U-k-1;if(E=="tEXt")D=p.readASCII(f,k+1,R);else{var O=r(f.slice(k+2,k+2+R));D=p.readUTF8(O,0,O.length)}y.tabs[E][P]=D}else if(E=="iTXt"){y.tabs[E]==null&&(y.tabs[E]={}),k=0,b=h,k=p.nextZero(f,b),P=p.readASCII(f,b,k-b);const S=f[b=k+1];var D;f[b+1],b+=2,k=p.nextZero(f,b),p.readASCII(f,b,k-b),b=k+1,k=p.nextZero(f,b),p.readUTF8(f,b,k-b),R=U-((b=k+1)-h),S==0?D=p.readUTF8(f,b,R):(O=r(f.slice(b,b+R)),D=p.readUTF8(O,0,O.length)),y.tabs[E][P]=D}else if(E=="PLTE")y.tabs[E]=p.readBytes(f,h,U);else if(E=="hIST"){const S=y.tabs.PLTE.length/3;for(y.tabs[E]=[],N=0;N<S;N++)y.tabs[E].push(v(f,h+2*N))}else if(E=="tRNS")y.ctype==3?y.tabs[E]=p.readBytes(f,h,U):y.ctype==0?y.tabs[E]=v(f,h):y.ctype==2&&(y.tabs[E]=[v(f,h),v(f,h+2),v(f,h+4)]);else if(E=="gAMA")y.tabs[E]=p.readUint(f,h)/1e5;else if(E=="sRGB")y.tabs[E]=f[h];else if(E=="bKGD")y.ctype==0||y.ctype==4?y.tabs[E]=[v(f,h)]:y.ctype==2||y.ctype==6?y.tabs[E]=[v(f,h),v(f,h+2),v(f,h+4)]:y.ctype==3&&(y.tabs[E]=f[h]);else if(E=="IEND")break;h+=U,p.readUint(f,h),h+=4}var I;return T!=0&&((I=y.frames[y.frames.length-1]).data=n(y,m.slice(0,T),I.rect.width,I.rect.height)),y.data=n(y,w,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(d){const f=d.width,h=d.height;if(d.tabs.acTL==null)return[t(d.data,f,h,d).buffer];const p=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const v=f*h*4,x=new Uint8Array(v),y=new Uint8Array(v),w=new Uint8Array(v);for(let _=0;_<d.frames.length;_++){const T=d.frames[_],C=T.rect.x,N=T.rect.y,b=T.rect.width,k=T.rect.height,P=t(T.data,b,k,d);if(_!=0)for(var m=0;m<v;m++)w[m]=x[m];if(T.blend==0?c(P,b,k,x,f,h,C,N,0):T.blend==1&&c(P,b,k,x,f,h,C,N,1),p.push(x.buffer.slice(0)),T.dispose!=0){if(T.dispose==1)c(y,b,k,x,f,h,C,N,0);else if(T.dispose==2)for(m=0;m<v;m++)x[m]=w[m]}}return p},_paeth:a,_copyTile:c,_bin:e}}();(function(){const{_copyTile:e}=Xt,{_bin:t}=Xt,n=Xt._paeth;var r={table:function(){const b=new Uint32Array(256);for(let k=0;k<256;k++){let P=k;for(let R=0;R<8;R++)1&P?P=3988292384^P>>>1:P>>>=1;b[k]=P}return b}(),update(b,k,P,R){for(let O=0;O<R;O++)b=r.table[255&(b^k[P+O])]^b>>>8;return b},crc:(b,k,P)=>4294967295^r.update(4294967295,b,k,P)};function s(b,k,P,R){k[P]+=b[0]*R>>4,k[P+1]+=b[1]*R>>4,k[P+2]+=b[2]*R>>4,k[P+3]+=b[3]*R>>4}function i(b){return Math.max(0,Math.min(255,b))}function o(b,k){const P=b[0]-k[0],R=b[1]-k[1],O=b[2]-k[2],D=b[3]-k[3];return P*P+R*R+O*O+D*D}function a(b,k,P,R,O,D,I){I==null&&(I=1);const U=R.length,E=[];for(var S=0;S<U;S++){const F=R[S];E.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(S=0;S<U;S++){let F=4294967295;for(var L=0,A=0;A<U;A++){var M=o(E[S],E[A]);A!=S&&M<F&&(F=M,L=A)}}const B=new Uint32Array(O.buffer),z=new Int16Array(k*P*4),$=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(S=0;S<$.length;S++)$[S]=255*(($[S]+.5)/16-.5);for(let F=0;F<P;F++)for(let J=0;J<k;J++){var V;S=4*(F*k+J),I!=2?V=[i(b[S]+z[S]),i(b[S+1]+z[S+1]),i(b[S+2]+z[S+2]),i(b[S+3]+z[S+3])]:(M=$[4*(3&F)+(3&J)],V=[i(b[S]+M),i(b[S+1]+M),i(b[S+2]+M),i(b[S+3]+M)]),L=0;let ee=16777215;for(A=0;A<U;A++){const ne=o(V,E[A]);ne<ee&&(ee=ne,L=A)}const re=E[L],Q=[V[0]-re[0],V[1]-re[1],V[2]-re[2],V[3]-re[3]];I==1&&(J!=k-1&&s(Q,z,S+4,7),F!=P-1&&(J!=0&&s(Q,z,S+4*k-4,3),s(Q,z,S+4*k,5),J!=k-1&&s(Q,z,S+4*k+4,1))),D[S>>2]=L,B[S>>2]=R[L]}}function l(b,k,P,R,O){O==null&&(O={});const{crc:D}=r,I=t.writeUint,U=t.writeUshort,E=t.writeASCII;let S=8;const L=b.frames.length>1;let A,M=!1,B=33+(L?20:0);if(O.sRGB!=null&&(B+=13),O.pHYs!=null&&(B+=21),O.iCCP!=null&&(A=pako.deflate(O.iCCP),B+=21+A.length+4),b.ctype==3){for(var z=b.plte.length,$=0;$<z;$++)b.plte[$]>>>24!=255&&(M=!0);B+=8+3*z+4+(M?8+1*z+4:0)}for(var V=0;V<b.frames.length;V++)L&&(B+=38),B+=(re=b.frames[V]).cimg.length+12,V!=0&&(B+=4);B+=12;const F=new Uint8Array(B),J=[137,80,78,71,13,10,26,10];for($=0;$<8;$++)F[$]=J[$];if(I(F,S,13),S+=4,E(F,S,"IHDR"),S+=4,I(F,S,k),S+=4,I(F,S,P),S+=4,F[S]=b.depth,S++,F[S]=b.ctype,S++,F[S]=0,S++,F[S]=0,S++,F[S]=0,S++,I(F,S,D(F,S-17,17)),S+=4,O.sRGB!=null&&(I(F,S,1),S+=4,E(F,S,"sRGB"),S+=4,F[S]=O.sRGB,S++,I(F,S,D(F,S-5,5)),S+=4),O.iCCP!=null){const Q=13+A.length;I(F,S,Q),S+=4,E(F,S,"iCCP"),S+=4,E(F,S,"ICC profile"),S+=11,S+=2,F.set(A,S),S+=A.length,I(F,S,D(F,S-(Q+4),Q+4)),S+=4}if(O.pHYs!=null&&(I(F,S,9),S+=4,E(F,S,"pHYs"),S+=4,I(F,S,O.pHYs[0]),S+=4,I(F,S,O.pHYs[1]),S+=4,F[S]=O.pHYs[2],S++,I(F,S,D(F,S-13,13)),S+=4),L&&(I(F,S,8),S+=4,E(F,S,"acTL"),S+=4,I(F,S,b.frames.length),S+=4,I(F,S,O.loop!=null?O.loop:0),S+=4,I(F,S,D(F,S-12,12)),S+=4),b.ctype==3){for(I(F,S,3*(z=b.plte.length)),S+=4,E(F,S,"PLTE"),S+=4,$=0;$<z;$++){const Q=3*$,ne=b.plte[$],se=255&ne,je=ne>>>8&255,fr=ne>>>16&255;F[S+Q+0]=se,F[S+Q+1]=je,F[S+Q+2]=fr}if(S+=3*z,I(F,S,D(F,S-3*z-4,3*z+4)),S+=4,M){for(I(F,S,z),S+=4,E(F,S,"tRNS"),S+=4,$=0;$<z;$++)F[S+$]=b.plte[$]>>>24&255;S+=z,I(F,S,D(F,S-z-4,z+4)),S+=4}}let ee=0;for(V=0;V<b.frames.length;V++){var re=b.frames[V];L&&(I(F,S,26),S+=4,E(F,S,"fcTL"),S+=4,I(F,S,ee++),S+=4,I(F,S,re.rect.width),S+=4,I(F,S,re.rect.height),S+=4,I(F,S,re.rect.x),S+=4,I(F,S,re.rect.y),S+=4,U(F,S,R[V]),S+=2,U(F,S,1e3),S+=2,F[S]=re.dispose,S++,F[S]=re.blend,S++,I(F,S,D(F,S-30,30)),S+=4);const Q=re.cimg;I(F,S,(z=Q.length)+(V==0?0:4)),S+=4;const ne=S;E(F,S,V==0?"IDAT":"fdAT"),S+=4,V!=0&&(I(F,S,ee++),S+=4),F.set(Q,S),S+=z,I(F,S,D(F,ne,S-ne)),S+=4}return I(F,S,0),S+=4,E(F,S,"IEND"),S+=4,I(F,S,D(F,S-4,4)),S+=4,F.buffer}function c(b,k,P){for(let R=0;R<b.frames.length;R++){const O=b.frames[R];O.rect.width;const D=O.rect.height,I=new Uint8Array(D*O.bpl+D);O.cimg=h(O.img,D,O.bpp,O.bpl,I,k,P)}}function u(b,k,P,R,O){const D=O[0],I=O[1],U=O[2],E=O[3],S=O[4],L=O[5];let A=6,M=8,B=255;for(var z=0;z<b.length;z++){const We=new Uint8Array(b[z]);for(var $=We.length,V=0;V<$;V+=4)B&=We[V+3]}const F=B!=255,J=function(me,de,Fe,Qe,Pe,mt){const Ne=[];for(var fe=0;fe<me.length;fe++){const Ze=new Uint8Array(me[fe]),Dt=new Uint32Array(Ze.buffer);var gt;let Tt=0,an=0,Gt=de,pr=Fe,jl=Qe?1:0;if(fe!=0){const x1=mt||Qe||fe==1||Ne[fe-2].dispose!=0?1:2;let Pl=0,_f=1e9;for(let Js=0;Js<x1;Js++){var Cn=new Uint8Array(me[fe-1-Js]);const _1=new Uint32Array(me[fe-1-Js]);let Tn=de,jn=Fe,Kr=-1,Gs=-1;for(let mr=0;mr<Fe;mr++)for(let gr=0;gr<de;gr++)Dt[Je=mr*de+gr]!=_1[Je]&&(gr<Tn&&(Tn=gr),gr>Kr&&(Kr=gr),mr<jn&&(jn=mr),mr>Gs&&(Gs=mr));Kr==-1&&(Tn=jn=Kr=Gs=0),Pe&&((1&Tn)==1&&Tn--,(1&jn)==1&&jn--);const bf=(Kr-Tn+1)*(Gs-jn+1);bf<_f&&(_f=bf,Pl=Js,Tt=Tn,an=jn,Gt=Kr-Tn+1,pr=Gs-jn+1)}Cn=new Uint8Array(me[fe-1-Pl]),Pl==1&&(Ne[fe-1].dispose=2),gt=new Uint8Array(Gt*pr*4),e(Cn,de,Fe,gt,Gt,pr,-Tt,-an,0),jl=e(Ze,de,Fe,gt,Gt,pr,-Tt,-an,3)?1:0,jl==1?f(Ze,de,Fe,gt,{x:Tt,y:an,width:Gt,height:pr}):e(Ze,de,Fe,gt,Gt,pr,-Tt,-an,0)}else gt=Ze.slice(0);Ne.push({rect:{x:Tt,y:an,width:Gt,height:pr},img:gt,blend:jl,dispose:0})}if(Qe)for(fe=0;fe<Ne.length;fe++){if((hr=Ne[fe]).blend==1)continue;const Ze=hr.rect,Dt=Ne[fe-1].rect,Tt=Math.min(Ze.x,Dt.x),an=Math.min(Ze.y,Dt.y),Gt={x:Tt,y:an,width:Math.max(Ze.x+Ze.width,Dt.x+Dt.width)-Tt,height:Math.max(Ze.y+Ze.height,Dt.y+Dt.height)-an};Ne[fe-1].dispose=1,fe-1!=0&&d(me,de,Fe,Ne,fe-1,Gt,Pe),d(me,de,Fe,Ne,fe,Gt,Pe)}let vo=0;if(me.length!=1)for(var Je=0;Je<Ne.length;Je++){var hr;vo+=(hr=Ne[Je]).rect.width*hr.rect.height}return Ne}(b,k,P,D,I,U),ee={},re=[],Q=[];if(R!=0){const We=[];for(V=0;V<J.length;V++)We.push(J[V].img.buffer);const me=function(Pe){let mt=0;for(var Ne=0;Ne<Pe.length;Ne++)mt+=Pe[Ne].byteLength;const fe=new Uint8Array(mt);let gt=0;for(Ne=0;Ne<Pe.length;Ne++){const Cn=new Uint8Array(Pe[Ne]),vo=Cn.length;for(let Je=0;Je<vo;Je+=4){let hr=Cn[Je],Ze=Cn[Je+1],Dt=Cn[Je+2];const Tt=Cn[Je+3];Tt==0&&(hr=Ze=Dt=0),fe[gt+Je]=hr,fe[gt+Je+1]=Ze,fe[gt+Je+2]=Dt,fe[gt+Je+3]=Tt}gt+=vo}return fe.buffer}(We),de=v(me,R);for(V=0;V<de.plte.length;V++)re.push(de.plte[V].est.rgba);let Fe=0;for(V=0;V<J.length;V++){const Qe=(se=J[V]).img.length;var ne=new Uint8Array(de.inds.buffer,Fe>>2,Qe>>2);Q.push(ne);const Pe=new Uint8Array(de.abuf,Fe,Qe);L&&a(se.img,se.rect.width,se.rect.height,re,Pe,ne),se.img.set(Pe),Fe+=Qe}}else for(z=0;z<J.length;z++){var se=J[z];const We=new Uint32Array(se.img.buffer);var je=se.rect.width;for($=We.length,ne=new Uint8Array($),Q.push(ne),V=0;V<$;V++){const me=We[V];if(V!=0&&me==We[V-1])ne[V]=ne[V-1];else if(V>je&&me==We[V-je])ne[V]=ne[V-je];else{let de=ee[me];if(de==null&&(ee[me]=de=re.length,re.push(me),re.length>=300))break;ne[V]=de}}}const fr=re.length;for(fr<=256&&S==0&&(M=fr<=2?1:fr<=4?2:fr<=16?4:8,M=Math.max(M,E)),z=0;z<J.length;z++){(se=J[z]).rect.x,se.rect.y,je=se.rect.width;const We=se.rect.height;let me=se.img;new Uint32Array(me.buffer);let de=4*je,Fe=4;if(fr<=256&&S==0){de=Math.ceil(M*je/8);var Jt=new Uint8Array(de*We);const Qe=Q[z];for(let Pe=0;Pe<We;Pe++){V=Pe*de;const mt=Pe*je;if(M==8)for(var be=0;be<je;be++)Jt[V+be]=Qe[mt+be];else if(M==4)for(be=0;be<je;be++)Jt[V+(be>>1)]|=Qe[mt+be]<<4-4*(1&be);else if(M==2)for(be=0;be<je;be++)Jt[V+(be>>2)]|=Qe[mt+be]<<6-2*(3&be);else if(M==1)for(be=0;be<je;be++)Jt[V+(be>>3)]|=Qe[mt+be]<<7-1*(7&be)}me=Jt,A=3,Fe=1}else if(F==0&&J.length==1){Jt=new Uint8Array(je*We*3);const Qe=je*We;for(V=0;V<Qe;V++){const Pe=3*V,mt=4*V;Jt[Pe]=me[mt],Jt[Pe+1]=me[mt+1],Jt[Pe+2]=me[mt+2]}me=Jt,A=2,Fe=3,de=3*je}se.img=me,se.bpl=de,se.bpp=Fe}return{ctype:A,depth:M,plte:re,frames:J}}function d(b,k,P,R,O,D,I){const U=Uint8Array,E=Uint32Array,S=new U(b[O-1]),L=new E(b[O-1]),A=O+1<b.length?new U(b[O+1]):null,M=new U(b[O]),B=new E(M.buffer);let z=k,$=P,V=-1,F=-1;for(let ee=0;ee<D.height;ee++)for(let re=0;re<D.width;re++){const Q=D.x+re,ne=D.y+ee,se=ne*k+Q,je=B[se];je==0||R[O-1].dispose==0&&L[se]==je&&(A==null||A[4*se+3]!=0)||(Q<z&&(z=Q),Q>V&&(V=Q),ne<$&&($=ne),ne>F&&(F=ne))}V==-1&&(z=$=V=F=0),I&&((1&z)==1&&z--,(1&$)==1&&$--),D={x:z,y:$,width:V-z+1,height:F-$+1};const J=R[O];J.rect=D,J.blend=1,J.img=new Uint8Array(D.width*D.height*4),R[O-1].dispose==0?(e(S,k,P,J.img,D.width,D.height,-D.x,-D.y,0),f(M,k,P,J.img,D)):e(M,k,P,J.img,D.width,D.height,-D.x,-D.y,0)}function f(b,k,P,R,O){e(b,k,P,R,O.width,O.height,-O.x,-O.y,2)}function h(b,k,P,R,O,D,I){const U=[];let E,S=[0,1,2,3,4];D!=-1?S=[D]:(k*R>5e5||P==1)&&(S=[0]),I&&(E={level:0});const L=e3;for(var A=0;A<S.length;A++){for(let z=0;z<k;z++)p(O,b,z,R,P,S[A]);U.push(L.deflate(O,E))}let M,B=1e9;for(A=0;A<U.length;A++)U[A].length<B&&(M=A,B=U[A].length);return U[M]}function p(b,k,P,R,O,D){const I=P*R;let U=I+P;if(b[U]=D,U++,D==0)if(R<500)for(var E=0;E<R;E++)b[U+E]=k[I+E];else b.set(new Uint8Array(k.buffer,I,R),U);else if(D==1){for(E=0;E<O;E++)b[U+E]=k[I+E];for(E=O;E<R;E++)b[U+E]=k[I+E]-k[I+E-O]+256&255}else if(P==0){for(E=0;E<O;E++)b[U+E]=k[I+E];if(D==2)for(E=O;E<R;E++)b[U+E]=k[I+E];if(D==3)for(E=O;E<R;E++)b[U+E]=k[I+E]-(k[I+E-O]>>1)+256&255;if(D==4)for(E=O;E<R;E++)b[U+E]=k[I+E]-n(k[I+E-O],0,0)+256&255}else{if(D==2)for(E=0;E<R;E++)b[U+E]=k[I+E]+256-k[I+E-R]&255;if(D==3){for(E=0;E<O;E++)b[U+E]=k[I+E]+256-(k[I+E-R]>>1)&255;for(E=O;E<R;E++)b[U+E]=k[I+E]+256-(k[I+E-R]+k[I+E-O]>>1)&255}if(D==4){for(E=0;E<O;E++)b[U+E]=k[I+E]+256-n(0,k[I+E-R],0)&255;for(E=O;E<R;E++)b[U+E]=k[I+E]+256-n(k[I+E-O],k[I+E-R],k[I+E-O-R])&255}}}function v(b,k){const P=new Uint8Array(b),R=P.slice(0),O=new Uint32Array(R.buffer),D=x(R,k),I=D[0],U=D[1],E=P.length,S=new Uint8Array(E>>2);let L;if(P.length<2e7)for(var A=0;A<E;A+=4)L=y(I,M=P[A]*(1/255),B=P[A+1]*(1/255),z=P[A+2]*(1/255),$=P[A+3]*(1/255)),S[A>>2]=L.ind,O[A>>2]=L.est.rgba;else for(A=0;A<E;A+=4){var M=P[A]*.00392156862745098,B=P[A+1]*(1/255),z=P[A+2]*(1/255),$=P[A+3]*(1/255);for(L=I;L.left;)L=w(L.est,M,B,z,$)<=0?L.left:L.right;S[A>>2]=L.ind,O[A>>2]=L.est.rgba}return{abuf:R.buffer,inds:S,plte:U}}function x(b,k,P){P==null&&(P=1e-4);const R=new Uint32Array(b.buffer),O={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};O.bst=T(b,O.i0,O.i1),O.est=C(O.bst);const D=[O];for(;D.length<k;){let U=0,E=0;for(var I=0;I<D.length;I++)D[I].est.L>U&&(U=D[I].est.L,E=I);if(U<P)break;const S=D[E],L=m(b,R,S.i0,S.i1,S.est.e,S.est.eMq255);if(S.i0>=L||S.i1<=L){S.est.L=0;continue}const A={i0:S.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};A.bst=T(b,A.i0,A.i1),A.est=C(A.bst);const M={i0:L,i1:S.i1,bst:null,est:null,tdst:0,left:null,right:null};for(M.bst={R:[],m:[],N:S.bst.N-A.bst.N},I=0;I<16;I++)M.bst.R[I]=S.bst.R[I]-A.bst.R[I];for(I=0;I<4;I++)M.bst.m[I]=S.bst.m[I]-A.bst.m[I];M.est=C(M.bst),S.left=A,S.right=M,D[E]=A,D.push(M)}for(D.sort((U,E)=>E.bst.N-U.bst.N),I=0;I<D.length;I++)D[I].ind=I;return[O,D]}function y(b,k,P,R,O){if(b.left==null)return b.tdst=function(A,M,B,z,$){const V=M-A[0],F=B-A[1],J=z-A[2],ee=$-A[3];return V*V+F*F+J*J+ee*ee}(b.est.q,k,P,R,O),b;const D=w(b.est,k,P,R,O);let I=b.left,U=b.right;D>0&&(I=b.right,U=b.left);const E=y(I,k,P,R,O);if(E.tdst<=D*D)return E;const S=y(U,k,P,R,O);return S.tdst<E.tdst?S:E}function w(b,k,P,R,O){const{e:D}=b;return D[0]*k+D[1]*P+D[2]*R+D[3]*O-b.eMq}function m(b,k,P,R,O,D){for(R-=4;P<R;){for(;_(b,P,O)<=D;)P+=4;for(;_(b,R,O)>D;)R-=4;if(P>=R)break;const I=k[P>>2];k[P>>2]=k[R>>2],k[R>>2]=I,P+=4,R-=4}for(;_(b,P,O)>D;)P-=4;return P+4}function _(b,k,P){return b[k]*P[0]+b[k+1]*P[1]+b[k+2]*P[2]+b[k+3]*P[3]}function T(b,k,P){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O=[0,0,0,0],D=P-k>>2;for(let I=k;I<P;I+=4){const U=b[I]*.00392156862745098,E=b[I+1]*(1/255),S=b[I+2]*(1/255),L=b[I+3]*(1/255);O[0]+=U,O[1]+=E,O[2]+=S,O[3]+=L,R[0]+=U*U,R[1]+=U*E,R[2]+=U*S,R[3]+=U*L,R[5]+=E*E,R[6]+=E*S,R[7]+=E*L,R[10]+=S*S,R[11]+=S*L,R[15]+=L*L}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:O,N:D}}function C(b){const{R:k}=b,{m:P}=b,{N:R}=b,O=P[0],D=P[1],I=P[2],U=P[3],E=R==0?0:1/R,S=[k[0]-O*O*E,k[1]-O*D*E,k[2]-O*I*E,k[3]-O*U*E,k[4]-D*O*E,k[5]-D*D*E,k[6]-D*I*E,k[7]-D*U*E,k[8]-I*O*E,k[9]-I*D*E,k[10]-I*I*E,k[11]-I*U*E,k[12]-U*O*E,k[13]-U*D*E,k[14]-U*I*E,k[15]-U*U*E],L=S,A=N;let M=[Math.random(),Math.random(),Math.random(),Math.random()],B=0,z=0;if(R!=0)for(let V=0;V<16&&(M=A.multVec(L,M),z=Math.sqrt(A.dot(M,M)),M=A.sml(1/z,M),!(V!=0&&Math.abs(z-B)<1e-9));V++)B=z;const $=[O*E,D*E,I*E,U*E];return{Cov:S,q:$,e:M,L:B,eMq255:A.dot(A.sml(255,$),M),eMq:A.dot(M,$),rgba:(Math.round(255*$[3])<<24|Math.round(255*$[2])<<16|Math.round(255*$[1])<<8|Math.round(255*$[0])<<0)>>>0}}var N={multVec:(b,k)=>[b[0]*k[0]+b[1]*k[1]+b[2]*k[2]+b[3]*k[3],b[4]*k[0]+b[5]*k[1]+b[6]*k[2]+b[7]*k[3],b[8]*k[0]+b[9]*k[1]+b[10]*k[2]+b[11]*k[3],b[12]*k[0]+b[13]*k[1]+b[14]*k[2]+b[15]*k[3]],dot:(b,k)=>b[0]*k[0]+b[1]*k[1]+b[2]*k[2]+b[3]*k[3],sml:(b,k)=>[b*k[0],b*k[1],b*k[2],b*k[3]]};Xt.encode=function(k,P,R,O,D,I,U){O==null&&(O=0),U==null&&(U=!1);const E=u(k,P,R,O,[!1,!1,!1,0,U,!1]);return c(E,-1),l(E,P,R,D,I)},Xt.encodeLL=function(k,P,R,O,D,I,U,E){const S={ctype:0+(O==1?0:2)+(D==0?0:4),depth:I,frames:[]},L=(O+D)*I,A=L*P;for(let M=0;M<k.length;M++)S.frames.push({rect:{x:0,y:0,width:P,height:R},img:new Uint8Array(k[M]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil(A/8)});return c(S,0,!0),l(S,P,R,U,E)},Xt.encode.compress=u,Xt.encode.dither=a,Xt.quantize=v,Xt.quantize.getKDtree=x,Xt.quantize.getNearest=y})();const vf=typeof window<"u",p1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Wa=vf&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper");(vf||p1)&&(Wa&&Wa.getOriginalSymbol(window,"File")||typeof File<"u");(vf||p1)&&(Wa&&Wa.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u");const pm=new pt("TemplateManager");function t3(){const[e,t]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(!1);j.useEffect(()=>{const c=localStorage.getItem("photoTemplates");if(c)try{t(JSON.parse(c))}catch(u){pm.error("Erreur lors du chargement des templates",u)}},[]);const o=c=>{try{localStorage.setItem("photoTemplates",JSON.stringify(c)),t(c)}catch(u){pm.error("Erreur lors de la sauvegarde des templates",u)}},a=()=>{if(!n.trim())return;const c={id:Date.now().toString(),name:n.trim(),createdAt:new Date().toISOString()},u=[...e,c];o(u),r(""),i(!1)},l=c=>{const u=e.filter(d=>d.id!==c);o(u)};return g.jsxs("div",{className:"template-manager",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Gestion des Templates"}),g.jsx("div",{className:"templates-list mb-4",children:e.length===0?g.jsx("p",{className:"text-gray-500",children:"Aucun template disponible"}):g.jsx("ul",{className:"space-y-2",children:e.map(c=>g.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-100 rounded",children:[g.jsx("span",{children:c.name}),g.jsx("button",{onClick:()=>l(c.id),className:"text-red-500 hover:text-red-700",children:g.jsx(wP,{size:18})})]},c.id))})}),s?g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),placeholder:"Nom du template",className:"flex-1 p-2 border rounded"}),g.jsx("button",{onClick:a,className:"p-2 bg-green-500 text-white rounded hover:bg-green-600",children:g.jsx(eP,{size:18})}),g.jsx("button",{onClick:()=>i(!1),className:"p-2 bg-red-500 text-white rounded hover:bg-red-600",children:g.jsx(di,{size:18})})]}):g.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 p-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[g.jsx(Kv,{size:18}),g.jsx("span",{children:"Ajouter un template"})]})]})}function n3({onClose:e}){const[t,n]=j.useState(!1),[r,s]=j.useState(""),[i,o]=j.useState(""),[a,l]=j.useState("features"),[c,u]=j.useState(""),[d,f]=j.useState(()=>{const m=localStorage.getItem("projects");return m?JSON.parse(m):[]}),[h,p]=j.useState(()=>{const m=localStorage.getItem("features");return m?JSON.parse(m):{email:!0,bluetooth:!0,qr:!0,print:!0}});j.useEffect(()=>{localStorage.setItem("projects",JSON.stringify(d))},[d]),j.useEffect(()=>{localStorage.setItem("features",JSON.stringify(h))},[h]);const v=m=>{m.preventDefault(),r==="12345"?(n(!0),o("")):(o("Mot de passe incorrect"),s(""))},x=async()=>{if(c.trim()){const m={id:Date.now(),name:c.trim(),date:new Date().toLocaleDateString(),path:`/projects/${c.trim()}`};f(_=>[..._,m]),u("")}},y=m=>{f(_=>_.filter(T=>T.id!==m))};if(!t)return g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-xl font-bold",children:"Panneau d'administration"}),g.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),g.jsxs("form",{onSubmit:v,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),g.jsx("input",{type:"password",value:r,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Entrez le mot de passe",autoFocus:!0})]}),i&&g.jsx("p",{className:"text-red-500 text-sm",children:i}),g.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Connexion"})]})]})});const w=()=>{switch(a){case"features":return g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fonctionnalités activées"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("label",{className:"flex items-center space-x-3",children:[g.jsx("input",{type:"checkbox",checked:h.email,onChange:m=>p(_=>({..._,email:m.target.checked})),className:"w-4 h-4 text-purple-600"}),g.jsx("span",{children:"Email"})]}),g.jsxs("label",{className:"flex items-center space-x-3",children:[g.jsx("input",{type:"checkbox",checked:h.bluetooth,onChange:m=>p(_=>({..._,bluetooth:m.target.checked})),className:"w-4 h-4 text-purple-600"}),g.jsx("span",{children:"Bluetooth"})]}),g.jsxs("label",{className:"flex items-center space-x-3",children:[g.jsx("input",{type:"checkbox",checked:h.qr,onChange:m=>p(_=>({..._,qr:m.target.checked})),className:"w-4 h-4 text-purple-600"}),g.jsx("span",{children:"QR Code"})]}),g.jsxs("label",{className:"flex items-center space-x-3",children:[g.jsx("input",{type:"checkbox",checked:h.print,onChange:m=>p(_=>({..._,print:m.target.checked})),className:"w-4 h-4 text-purple-600"}),g.jsx("span",{children:"Impression"})]})]})]});case"projects":return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Créer un nouveau projet"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:c,onChange:m=>u(m.target.value),placeholder:"Nom du projet",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),g.jsx("button",{onClick:x,className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700",children:"Créer"})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Projets existants"}),g.jsx("div",{className:"space-y-3",children:d.map(m=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium",children:m.name}),g.jsx("p",{className:"text-sm text-gray-500",children:m.date})]}),g.jsx("button",{onClick:()=>y(m.id),className:"text-red-600 hover:text-red-700",children:"Supprimer"})]},m.id))})]})]});case"templates":return g.jsx(t3,{});default:return null}};return g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-xl font-bold",children:"Panneau d'administration"}),g.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),g.jsxs("div",{className:"flex gap-4 mb-6",children:[g.jsx("button",{onClick:()=>l("features"),className:`px-4 py-2 rounded-md ${a==="features"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Fonctionnalités"}),g.jsx("button",{onClick:()=>l("projects"),className:`px-4 py-2 rounded-md ${a==="projects"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Projets"}),g.jsx("button",{onClick:()=>l("templates"),className:`px-4 py-2 rounded-md ${a==="templates"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Templates"})]}),w()]})})}const Su=new pt("Effect1");function r3({imageUrl:e,onEffectApplied:t,eventID:n}){const[r,s]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{s(!0),Su.log("Applying effect to image",{imageUrl:e}),await new Promise(o=>setTimeout(o,2e3)),Su.log("Effect applied successfully"),t(e)}catch(o){Su.error("Error applying effect",o),t(e)}finally{s(!1)}})()},[e,t]),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 z-10",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"Application de l'effet..."}),r?g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(Wn,{className:"w-16 h-16 text-white animate-spin mb-4"}),g.jsx("p",{className:"text-white",children:"Traitement en cours..."})]}):g.jsx("div",{className:"flex flex-col items-center",children:g.jsx("img",{src:e,alt:"Preview",className:"max-w-md max-h-96 object-contain mb-4"})})]})}const s3=new pt("AirDrop");function i3(){const e=()=>{s3.log("AirDrop button clicked"),alert("Fonctionnalité AirDrop non disponible sur cette plateforme")};return g.jsxs("button",{className:"share-button airdrop-button",onClick:e,title:"Partager via AirDrop",children:[g.jsx(yP,{size:24}),g.jsx("span",{children:"AirDrop"})]})}const o3=new pt("Bluetooth");function a3(){const e=()=>{o3.log("Bluetooth button clicked"),alert("Fonctionnalité Bluetooth non disponible sur cette plateforme")};return g.jsxs("button",{className:"share-button bluetooth-button",onClick:e,title:"Partager via Bluetooth",children:[g.jsx(Xj,{size:24}),g.jsx("span",{children:"Bluetooth"})]})}function l3({onRetry:e,visible:t}){const[n,r]=j.useState(120);return j.useEffect(()=>{if(!t)return;const s=setInterval(()=>{r(i=>i<=1?(clearInterval(s),e(),0):i-1)},1e3);return()=>clearInterval(s)},[t,e]),t?g.jsxs("div",{className:"navigation-bar",children:[g.jsxs("div",{className:"timer",children:[Math.floor(n/60),":",(n%60).toString().padStart(2,"0")]}),g.jsxs("div",{className:"nav-buttons",children:[g.jsx(i3,{}),g.jsx(d1,{}),g.jsx(a3,{}),g.jsx(f1,{}),g.jsx(h1,{}),g.jsx("button",{className:"retry-button",onClick:e,children:"Retry"})]}),g.jsx("style",{jsx:!0,children:`
        .navigation-bar {
          position: fixed;
          right: 20px;
          top: 50%;
          transform: translateY(-50%);
          background: rgba(0, 0, 0, 0.8);
          padding: 20px;
          border-radius: 10px;
          display: flex;
          flex-direction: column;
          gap: 15px;
        }

        .timer {
          color: white;
          text-align: center;
          font-size: 1.2em;
          margin-bottom: 10px;
        }

        .nav-buttons {
          display: flex;
          flex-direction: column;
          gap: 15px;
        }

        .retry-button {
          background: #ff4444;
          color: white;
          border: none;
          padding: 10px;
          border-radius: 5px;
          cursor: pointer;
          transition: background 0.3s;
        }

        .retry-button:hover {
          background: #ff6666;
        }
      `})]}):null}function u3({onClose:e,onConfirm:t}){const[n,r]=j.useState(""),[s,i]=j.useState(""),o=a=>{a.preventDefault(),n==="12345"?t():(i("Mot de passe incorrect"),r(""))};return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[g.jsx("h2",{className:"text-xl font-bold mb-4",children:"Confirmation requise"}),g.jsxs("form",{onSubmit:o,children:[g.jsx("input",{type:"password",value:n,onChange:a=>r(a.target.value),placeholder:"Entrez le mot de passe",className:"w-full p-2 border rounded mb-4",autoFocus:!0}),s&&g.jsx("p",{className:"text-red-500 mb-4",children:s}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Annuler"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Confirmer"})]})]})]})})}const wf=typeof import.meta<"u"?"https://votre-projet.supabase.co":{}.VITE_SUPABASE_URL,m1=typeof import.meta<"u"?"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvdHJlLXByb2pldCIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjE2MTIxNjE2LCJleHAiOjE5MzE2OTc2MTZ9.votre-clé-anon":{}.VITE_SUPABASE_ANON_KEY,c3=typeof import.meta<"u"?"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvdHJlLXByb2pldCIsInJvbGUiOiJzZXJ2aWNlX3JvbGUiLCJpYXQiOjE2MTYxMjE2MTYsImV4cCI6MTkzMTY5NzYxNn0.votre-clé-service":{}.VITE_SUPABASE_SERVICE_KEY;if(!wf||!m1)throw new Error("Variables d'environnement Supabase manquantes");mf(wf,m1);const ws=mf(wf,c3),d3=async()=>{try{console.log("Vérification du bucket et des dossiers...");const{data:e,error:t}=await ws.storage.listBuckets();if(t)throw console.error("Erreur lors de la vérification des buckets:",t),t;let n=e.find(s=>s.name==="photos");if(n)console.log('Bucket "photos" trouvé');else{console.log('Création du bucket "photos"...');const{data:s,error:i}=await ws.storage.createBucket("photos",{public:!0,allowedMimeTypes:["image/jpeg","image/png"],fileSizeLimit:10485760});if(i)throw console.error("Erreur lors de la création du bucket:",i),i;console.log('Bucket "photos" créé avec succès'),n=s}const r=["captures","processed"];for(const s of r){console.log(`
Vérification du dossier "${s}"...`);try{const{data:i,error:o}=await ws.storage.from("photos").list(s);if(o)throw o;console.log(`Dossier "${s}" existe déjà avec ${i.length} fichiers`)}catch{console.log(`Création du dossier "${s}"...`);const{error:o}=await ws.storage.from("photos").upload(`${s}/.keep`,new Uint8Array(0));if(o&&!o.message.includes("The resource already exists"))throw console.error(`Erreur lors de la création du dossier ${s}:`,o),o;console.log(`Dossier "${s}" créé avec succès`)}}return{success:!0,message:"Structure vérifiée et créée avec succès"}}catch(e){return console.error("Erreur lors de la vérification:",e),{success:!1,error:e.message}}},f3={HOST:"localhost",PORTS:{MAIN:5183,FILE:5183,WEBSOCKET:5183,TEMP:5183},get BASE_URL(){return`http://${this.HOST}:${this.PORTS.MAIN}`},get FILE_URL(){return`http://${this.HOST}:${this.PORTS.FILE}`},get WS_URL(){return`ws://${this.HOST}:${this.PORTS.WEBSOCKET}`},get TEMP_URL(){return`http://${this.HOST}:${this.PORTS.TEMP}`}},mm=f3.BASE_URL,h3=async e=>{try{if(console.log("Début de la conversion en Blob..."),e.startsWith("http")){console.log("URL détectée, téléchargement...");const o=await fetch(e);if(!o.ok)throw new Error(`Erreur HTTP: ${o.status}`);return await o.blob()}if(!e||typeof e!="string")throw new Error("Données d'image invalides");const t=e.includes("base64,")?e.split("base64,")[1]:e,n=atob(t),r=new Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);const s=new Uint8Array(r),i=new Blob([s],{type:"image/jpeg"});return console.log("Conversion en Blob réussie, taille:",i.size),i}catch(t){throw console.error("Erreur détaillée lors de la conversion en Blob:",t),new Error(`Erreur de conversion: ${t.message}`)}},p3=async e=>{try{console.log("Début de la sauvegarde...",{type:typeof e,isBlob:e instanceof Blob,size:e instanceof Blob?e.size:"N/A"});const t=e instanceof Blob?e:await h3(e);console.log("Image convertie en Blob, taille:",t.size);const n=`capture_${Date.now()}.jpeg`;console.log("Sauvegarde dans Supabase...",{bucket:"photos",path:`captures/${n}`,size:t.size});const{data:r,error:s}=await ws.storage.from("photos").upload(`captures/${n}`,t,{contentType:"image/jpeg",upsert:!1});if(s)throw console.error("Erreur détaillée Supabase:",{message:s.message,details:s.details,hint:s.hint,code:s.code}),new Error(`Erreur Supabase: ${s.message}`);const{data:{publicUrl:i}}=ws.storage.from("photos").getPublicUrl(`captures/${n}`);console.log("Image sauvegardée dans Supabase:",i),console.log("Sauvegarde locale...",{endpoint:`${mm}/save-capture`,fileName:n,blobSize:t.size});const o=new FormData;o.append("image",t,n),console.log("Voici l'imageblob",t);const a=await fetch(`${mm}/save-capture`,{method:"POST",body:o});if(!a.ok){const c=await a.json();throw console.error("Erreur détaillée sauvegarde locale:",{status:a.status,statusText:a.statusText,error:c}),new Error(`Erreur HTTP ${a.status}: ${c.message}`)}const l=await a.json();return console.log("Image sauvegardée localement:",l),{success:!0,path:l.path,url:i,fileName:n}}catch(t){return console.error("Erreur détaillée lors de la sauvegarde:",{message:t.message,stack:t.stack,cause:t.cause}),{success:!1,error:t.message||"Erreur lors de la sauvegarde de l'image"}}};function m3(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}m3(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var xf=e=>typeof e=="number"&&!isNaN(e),eo=e=>typeof e=="string",g1=e=>typeof e=="function",g3=e=>eo(e)||xf(e),y3=e=>j.isValidElement(e)||eo(e)||g1(e)||xf(e),v3=1,y1=()=>`${v3++}`,on=new Map,Hc=[],gm=new Set,v1=()=>on.size>0,w3=(e,{containerId:t})=>{var n;return(n=on.get(t||1))==null?void 0:n.toasts.get(e)};function x3(e,t){var n;if(t)return!!((n=on.get(t))!=null&&n.isToastActive(e));let r=!1;return on.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function _3(e){if(!v1()){Hc=Hc.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||g3(e))on.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=on.get(e.containerId);t?t.removeToast(e.id):on.forEach(n=>{n.removeToast(e.id)})}}var b3=(e={})=>{on.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function S3(e,t){y3(e)&&(v1()||Hc.push({content:e,options:t}),on.forEach(n=>{n.buildToast(e,t)}))}function w1(e,t){on.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function k3(e){return gm.add(e),()=>{gm.delete(e)}}function E3(e){return e&&(eo(e.toastId)||xf(e.toastId))?e.toastId:y1()}function yo(e,t){return S3(e,t),t.toastId}function Cl(e,t){return{...t,type:t&&t.type||e,toastId:E3(t)}}function Tl(e){return(t,n)=>yo(t,Cl(e,n))}function ue(e,t){return yo(e,Cl("default",t))}ue.loading=(e,t)=>yo(e,Cl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function C3(e,{pending:t,error:n,success:r},s){let i;t&&(i=eo(t)?ue.loading(t,s):ue.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,d)=>{if(u==null){ue.dismiss(i);return}let f={type:c,...o,...s,data:d},h=eo(u)?{render:u}:u;return i?ue.update(i,{...f,...h}):ue(h.render,{...f,...h}),d},l=g1(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}ue.promise=C3;ue.success=Tl("success");ue.info=Tl("info");ue.error=Tl("error");ue.warning=Tl("warning");ue.warn=ue.warning;ue.dark=(e,t)=>yo(e,Cl("default",{theme:"dark",...t}));function T3(e){_3(e)}ue.dismiss=T3;ue.clearWaitingQueue=b3;ue.isActive=x3;ue.update=(e,t={})=>{let n=w3(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:y1()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,yo(o,i)}};ue.done=e=>{ue.update(e,{progress:1})};ue.onChange=k3;ue.play=e=>w1(!0,e);ue.pause=e=>w1(!1,e);const j3={success:e=>{ue.success(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},error:e=>{ue.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},info:e=>{ue.info(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}};function P3(){var E;const e=j.useRef(null),[t,n]=j.useState(null),[r,s]=j.useState(null),[i,o]=j.useState(null),[a,l]=j.useState(null),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[v,x]=j.useState(!1),[y,w]=j.useState(null),[m,_]=j.useState(!1),T=Bs(),N=(E=uo().state)==null?void 0:E.eventID;console.log("Indro les Event ID bandy akama ah :",N);const b=async(S,L=1024)=>new Promise(A=>{const M=new Image;M.onload=()=>{const B=document.createElement("canvas");let z=M.width,$=M.height;z>L&&($=Math.round($*L/z),z=L),B.width=z,B.height=$,B.getContext("2d").drawImage(M,0,0,z,$),B.toBlob(F=>A(F),"image/jpeg",.8)},M.src=S}),k=async()=>{_(!0);try{const S=e.current.getScreenshot();n(S);const L=await b(S),{success:A,path:M,url:B,error:z}=await p3(L);if(!A)throw new Error(z||"Erreur lors de la sauvegarde de l'image");const $=`processed_${Date.now()}.jpg`;w(M),n(B),f(!0),console.log("Capture traitée et sauvegardée avec succès")}catch(S){console.error("Erreur lors de la capture:",S),alert("Erreur lors de la sauvegarde de l'image")}finally{_(!1)}},P=()=>{const S=document.createElement("div");S.className="fixed inset-0 bg-white animate-fade-out z-50",document.body.appendChild(S),setTimeout(()=>{n(null),p(!1),f(!1),w(null),document.body.removeChild(S)},300)},R=async()=>{u(!0),setTimeout(()=>{k(),setTimeout(()=>{u(!1)},200)},100)},O=S=>{console.error("Erreur webcam:",S),l("Impossible d'accéder à la webcam. Veuillez vérifier les permissions.")},D=()=>{if(r!==null)return;s(3);const S=setInterval(()=>{s(L=>L<=1?(clearInterval(S),R(),null):L-1)},1e3)},I=()=>{x(!0)},U=()=>{window.close()};return j.useEffect(()=>{(async()=>{try{await d3(),console.log("Bucket Supabase vérifié et initialisé")}catch(L){console.error("Erreur d'initialisation Supabase:",L),j3.error("Erreur de connexion au stockage cloud")}})()},[]),g.jsx("div",{className:"flex min-h-screen",children:g.jsxs("div",{className:"flex-1 bg-gradient-to-b from-purple-900 to-black relative",children:[a?g.jsx("div",{className:"p-4 bg-red-500/10 text-red-300 rounded-lg m-4",children:a}):null,g.jsx("div",{className:"absolute top-8 left-8 z-10",children:g.jsx("button",{onClick:()=>o("admin"),className:"hover:opacity-75 transition-opacity",children:g.jsx("img",{src:"/assets/snap_booth.png",alt:"SnapBooth",className:"h-20"})})}),g.jsxs("div",{className:"relative flex items-center justify-center h-full",children:[t?g.jsx("img",{src:t,alt:"Capture",className:"w-full h-full object-cover"}):g.jsxs(g.Fragment,{children:[g.jsx(JP,{ref:e,screenshotFormat:"image/jpeg",className:"w-full h-full object-cover",onUserMediaError:O}),r&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"text-9xl text-white font-bold animate-bounce",children:r})})]}),c&&g.jsx("div",{className:"absolute inset-0 bg-white animate-flash"})]}),!t&&!m&&g.jsx("button",{onClick:D,className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-white/20 hover:bg-white/30 text-white text-xl font-semibold rounded-full w-24 h-24 flex items-center justify-center transition-colors",children:"Capturer"}),d&&g.jsx(r3,{imageUrl:t,onEffectApplied:S=>{f(!1),n(S),p(!0),setTimeout(()=>{T("/photos")},7e3)},eventID:N}),h&&g.jsx(l3,{onShare:()=>o("share"),onRetry:P}),i==="email"&&g.jsx(d1,{onClose:()=>o(null),imagePath:y}),i==="airdrop"&&g.jsx(AirDrop,{onClose:()=>o(null),imagePath:y}),i==="print"&&g.jsx(f1,{onClose:()=>o(null),imagePath:y}),i==="qr"&&g.jsx(h1,{onClose:()=>o(null),imagePath:y}),i==="admin"&&g.jsx(n3,{onClose:()=>o(null)}),v&&g.jsx(u3,{onClose:()=>x(!1),onConfirm:U}),g.jsx("button",{onClick:I,className:"absolute top-8 right-8 text-white/50 hover:text-white/75 transition-colors",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}const Rr=new pt("App");function Jo({children:e,requireAdmin:t=!1}){const{user:n,isLoading:r}=en();return r?(Rr.debug("Chargement de la route protégée..."),g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})})):n?t&&n.role!=="admin"?(Rr.warn("Accès admin requis, redirection vers /events",{userRole:n.role}),g.jsx(hs,{to:"/events",replace:!0})):(Rr.debug("Accès autorisé à la route protégée",{requireAdmin:t,userRole:n.role}),e):(Rr.info("Utilisateur non connecté, redirection vers /login"),g.jsx(hs,{to:"/login",replace:!0}))}function N3(){const{checkSession:e,user:t,isLoading:n}=en();return j.useEffect(()=>{Rr.info("Initialisation de l'application"),e()},[e]),n?(Rr.debug("Chargement initial de l'application..."),g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})})):(Rr.debug("État de l'application",{isAuthenticated:!!t,userRole:t==null?void 0:t.role}),g.jsx(R2,{future:{v7_startTransition:!0},children:g.jsx(pv,{mode:"wait",children:g.jsxs(P2,{children:[g.jsx(Nn,{path:"/login",element:t?t.role==="admin"?g.jsx(hs,{to:"/admin",replace:!0}):g.jsx(hs,{to:"/events",replace:!0}):g.jsx(TP,{})}),g.jsx(Nn,{path:"/events",element:g.jsx(Jo,{children:g.jsx(NP,{})})}),g.jsx(Nn,{path:"/photos",element:g.jsx(Jo,{children:g.jsx(zP,{})})}),g.jsx(Nn,{path:"/captures",element:g.jsx(Jo,{children:g.jsx(P3,{})})}),g.jsx(Nn,{path:"/admin",element:g.jsx(Jo,{requireAdmin:!0,children:g.jsx(HP,{})})}),g.jsx(Nn,{path:"/",element:g.jsx(hs,{to:"/events",replace:!0})}),g.jsx(Nn,{path:"*",element:g.jsx(hs,{to:"/events",replace:!0})})]})})}))}const I3=new pt("Main");I3.info("Démarrage de l'application");const R3=Pg(document.getElementById("root"));R3.render(g.jsxs(j.StrictMode,{children:[g.jsx(N3,{}),g.jsx(F_,{position:"bottom-right",toastOptions:{duration:4e3,success:{duration:3e3,style:{background:"#10B981",color:"white"}},error:{duration:5e3,style:{background:"#EF4444",color:"white"}}}})]}));export{Wc as g};
